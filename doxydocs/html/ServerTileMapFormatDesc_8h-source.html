<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>mc2: ServerTileMapFormatDesc.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.9.1 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<div class="nav">
<a class="el" href="dir_000002.html">Server</a>&nbsp;/&nbsp;<a class="el" href="dir_000005.html">Shared</a>&nbsp;/&nbsp;<a class="el" href="dir_000006.html">include</a></div>
<h1>ServerTileMapFormatDesc.h</h1><a href="ServerTileMapFormatDesc_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment">00001 <span class="comment">/*</span>
00002 <span class="comment">Copyright (c) 1999 - 2010, Vodafone Group Services Ltd</span>
00003 <span class="comment">All rights reserved.</span>
00004 <span class="comment"></span>
00005 <span class="comment">Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</span>
00006 <span class="comment"></span>
00007 <span class="comment">    * Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</span>
00008 <span class="comment">    * Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</span>
00009 <span class="comment">    * Neither the name of the Vodafone Group Services Ltd nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.</span>
00010 <span class="comment"></span>
00011 <span class="comment">THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span>
00012 <span class="comment">*/</span>
00013 
00014 <span class="preprocessor">#ifndef SERVER_TILE_MAP_FORMAT_DESC_H</span>
00015 <span class="preprocessor"></span><span class="preprocessor">#define SERVER_TILE_MAP_FORMAT_DESC_H</span>
00016 <span class="preprocessor"></span>
00017 <span class="preprocessor">#include "<a class="code" href="TileMapConfig_8h.html">TileMapConfig.h</a>"</span>
00018 <span class="preprocessor">#include "<a class="code" href="TileMapFormatDesc_8h.html">TileMapFormatDesc.h</a>"</span>
00019 <span class="preprocessor">#include "<a class="code" href="GfxFeature_8h.html">GfxFeature.h</a>"</span>
00020 <span class="preprocessor">#include "<a class="code" href="TileArgNames_8h.html">TileArgNames.h</a>"</span>
00021 <span class="preprocessor">#include "<a class="code" href="ServerTileCategories_8h.html">ServerTileCategories.h</a>"</span>
00022 <span class="preprocessor">#include "<a class="code" href="TileMapParams_8h.html">TileMapParams.h</a>"</span>
00023 <span class="preprocessor">#include "<a class="code" href="GDColor_8h.html">GDColor.h</a>"</span>
00024 <span class="preprocessor">#include "<a class="code" href="MapRights_8h.html">MapRights.h</a>"</span>
00025 <span class="preprocessor">#include "<a class="code" href="ImageTable_8h.html">ImageTable.h</a>"</span>
00026 
00027 <span class="keyword">class </span><a class="code" href="classPacket.html">Packet</a>;
00028 <span class="keyword">class </span><a class="code" href="classTileCollectionNotice.html">TileCollectionNotice</a>;
00029 
<a name="l00033"></a><a class="code" href="structTileDrawSetting.html">00033</a> <span class="keyword">struct </span><a class="code" href="structTileDrawSetting.html">TileDrawSetting</a> {
00034 
<a name="l00038"></a><a class="code" href="structTileDrawSetting.html#a0">00038</a>    <a class="code" href="structTileDrawSetting.html">TileDrawSetting</a>() {
00039       reset();
00040    }
00041    
<a name="l00045"></a><a class="code" href="structTileDrawSetting.html#a1">00045</a>    <span class="keywordtype">void</span> reset() {
00046       m_color = MAX_UINT32;
00047       m_borderColor = MAX_UINT32;
00048       m_width = MAX_UINT32;
00049       m_widthMeters = MAX_UINT32;
00050       m_borderWidth = MAX_UINT32;
00051       m_nameType = MAX_UINT32;
00052       m_level = MAX_UINT32;
00053       m_level1 = MAX_UINT32;
00054       m_fontType = MAX_UINT32;
00055       m_fontSize = MAX_UINT32;
00056       m_imageName = <span class="stringliteral">""</span>;
00057    }
00058 
00059 
00060       
00061       
00062    <span class="comment">// MAX_UINT32 means invalid argument.</span>
00063    
<a name="l00064"></a><a class="code" href="structTileDrawSetting.html#o0">00064</a>    <a class="code" href="Types_8h.html#a21">uint32</a> m_color;
00065 
<a name="l00066"></a><a class="code" href="structTileDrawSetting.html#o1">00066</a>    <a class="code" href="Types_8h.html#a21">uint32</a> m_borderColor;
00067 
<a name="l00068"></a><a class="code" href="structTileDrawSetting.html#o2">00068</a>    <a class="code" href="Types_8h.html#a21">uint32</a> m_width;
00069 
<a name="l00070"></a><a class="code" href="structTileDrawSetting.html#o3">00070</a>    <a class="code" href="Types_8h.html#a21">uint32</a> m_widthMeters;
00071 
<a name="l00072"></a><a class="code" href="structTileDrawSetting.html#o4">00072</a>    <a class="code" href="Types_8h.html#a21">uint32</a> m_borderWidth;
00073 
<a name="l00074"></a><a class="code" href="structTileDrawSetting.html#o5">00074</a>    <a class="code" href="Types_8h.html#a21">uint32</a> m_nameType;
00075 
<a name="l00076"></a><a class="code" href="structTileDrawSetting.html#o6">00076</a>    <a class="code" href="Types_8h.html#a21">uint32</a> m_level;
00077    
<a name="l00078"></a><a class="code" href="structTileDrawSetting.html#o7">00078</a>    <a class="code" href="Types_8h.html#a21">uint32</a> m_level1;
00079    
<a name="l00080"></a><a class="code" href="structTileDrawSetting.html#o8">00080</a>    <a class="code" href="Types_8h.html#a21">uint32</a> m_fontType;
00081    
<a name="l00082"></a><a class="code" href="structTileDrawSetting.html#o9">00082</a>    <a class="code" href="Types_8h.html#a21">uint32</a> m_fontSize;
00083 
<a name="l00084"></a><a class="code" href="structTileDrawSetting.html#o10">00084</a>    <a class="code" href="classMC2SimpleString.html">MC2SimpleString</a> m_imageName;
00085 
00086 };
00087 
<a name="l00088"></a><a class="code" href="classTileDrawSettings.html">00088</a> <span class="keyword">class </span><a class="code" href="classTileDrawSettings.html">TileDrawSettings</a> : <span class="keyword">public</span> <a class="code" href="classmap.html">map</a>&lt;int, TileDrawSetting&gt;
00089 {
00090    <span class="keyword">public</span>:
<a name="l00091"></a><a class="code" href="classTileDrawSettings.html#o0">00091</a>       TilePrimitiveFeature::tileFeature_t m_primitive;
00092 };
00093 
<a name="l00099"></a><a class="code" href="classSTMFDParams.html">00099</a> <span class="keyword">class </span><a class="code" href="classSTMFDParams.html">STMFDParams</a> {
00100 <span class="keyword">public</span>:
<a name="l00101"></a><a class="code" href="classSTMFDParams.html#s0">00101</a>    <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="Types_8h.html#a21">uint32</a> DEFAULT_LAYERS;
<a name="l00102"></a><a class="code" href="classSTMFDParams.html#s1">00102</a>    <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="Types_8h.html#a21">uint32</a> DEFAULT_SERVER_PREFIX;
<a name="l00103"></a><a class="code" href="classSTMFDParams.html#s2">00103</a>    <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="Types_8h.html#a21">uint32</a> HIGH_END_SERVER_PREFIX;
00104 
<a name="l00106"></a><a class="code" href="classSTMFDParams.html#a0">00106</a>    <a class="code" href="classSTMFDParams.html">STMFDParams</a>(): 
00107       m_lang( <a class="code" href="classLangTypes.html">LangTypes</a>::english ), 
00108       m_nightMode( false ),
00109       m_layers( DEFAULT_LAYERS ),
00110       m_drawSettingVersion( 0 ),
00111       m_imageSet( ImageTable::DEFAULT ),
00112       m_serverPrefix( DEFAULT_SERVER_PREFIX )
00113    {}
00114 
<a name="l00115"></a><a class="code" href="classSTMFDParams.html#a1">00115</a>    <a class="code" href="classSTMFDParams.html">STMFDParams</a>( LangTypes::language_t language, 
00116                 <span class="keywordtype">bool</span> nightMode ):
00117       m_lang( language ),
00118       m_nightMode( nightMode ),
00119       m_layers( DEFAULT_LAYERS ),
00120       m_drawSettingVersion( 0 ),
00121       m_imageSet( ImageTable::DEFAULT ),
00122       m_serverPrefix( DEFAULT_SERVER_PREFIX ) {
00123    }
00124 
<a name="l00125"></a><a class="code" href="classSTMFDParams.html#a2">00125</a>    <a class="code" href="classSTMFDParams.html">STMFDParams</a>( LangTypes::language_t language, 
00126                 <span class="keywordtype">bool</span> nightMode,
00127                 uint32 layers,
00128                 uint32 drawSettingVersion,
00129                 ImageTable::ImageSet imageSet,
00130                 uint32 serverPrefix = DEFAULT_SERVER_PREFIX ):
00131       m_lang( language ),
00132       m_nightMode( nightMode ),
00133       m_layers( layers ),
00134       m_drawSettingVersion( drawSettingVersion ),
00135       m_imageSet( imageSet ),
00136       m_serverPrefix( serverPrefix ) {
00137    }
00138    
<a name="l00139"></a><a class="code" href="classSTMFDParams.html#a3">00139</a>    <span class="keywordtype">int</span> <a class="code" href="namespaceSTLUtility.html#a32">operator&lt;</a>( <span class="keyword">const</span> <a class="code" href="classSTMFDParams.html">STMFDParams</a>&amp; other )<span class="keyword"> const </span>{
00140       <span class="keywordflow">if</span> ( m_lang != other.<a class="code" href="classSTMFDParams.html#o0">m_lang</a> ) {
00141          <span class="keywordflow">return</span> m_lang &lt; other.<a class="code" href="classSTMFDParams.html#o0">m_lang</a>;
00142       } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( m_nightMode != other.<a class="code" href="classSTMFDParams.html#o1">m_nightMode</a> ) {
00143          <span class="keywordflow">return</span> m_nightMode &lt; other.<a class="code" href="classSTMFDParams.html#o1">m_nightMode</a>;
00144       } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( m_layers != other.<a class="code" href="classSTMFDParams.html#r0">m_layers</a> ) {
00145          <span class="keywordflow">return</span> m_layers &lt; other.<a class="code" href="classSTMFDParams.html#r0">m_layers</a>;
00146       } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( m_drawSettingVersion != other.<a class="code" href="classSTMFDParams.html#r1">m_drawSettingVersion</a> ) {
00147          <span class="keywordflow">return</span> m_drawSettingVersion &lt; other.<a class="code" href="classSTMFDParams.html#r1">m_drawSettingVersion</a>;
00148       } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( m_serverPrefix != other.<a class="code" href="classSTMFDParams.html#r3">m_serverPrefix</a> ) {
00149          <span class="keywordflow">return</span> m_serverPrefix &lt; other.<a class="code" href="classSTMFDParams.html#r3">m_serverPrefix</a>;
00150       } <span class="keywordflow">else</span> {
00151          <span class="keywordflow">return</span> m_imageSet &lt; other.<a class="code" href="classSTMFDParams.html#r2">m_imageSet</a>;
00152       }
00153    }
00154 
00156    <span class="keywordtype">int</span> <a class="code" href="namespaceTileFeatureScaleRange.html#a3">save</a>( <a class="code" href="classPacket.html">Packet</a>* packet, <span class="keywordtype">int</span>&amp; pos ) <span class="keyword">const</span>;
00157       
00159    <span class="keywordtype">int</span> <a class="code" href="namespaceTileFeatureScaleRange.html#a4">load</a>( <span class="keyword">const</span> <a class="code" href="classPacket.html">Packet</a>* packet, <span class="keywordtype">int</span>&amp; pos );
00160       
<a name="l00161"></a><a class="code" href="classSTMFDParams.html#n0">00161</a>    <span class="keyword">friend</span> ostream&amp; <a class="code" href="UserRightsItemTable_8h.html#a0">operator&lt;&lt;</a>( ostream&amp; str, <span class="keyword">const</span> <a class="code" href="classSTMFDParams.html">STMFDParams</a>&amp; me ) {
00162       str &lt;&lt; <a class="code" href="classLangTypes.html#e0">LangTypes::getLanguageAsString</a>( me.<a class="code" href="classSTMFDParams.html#o0">m_lang</a> );
00163       <span class="keywordflow">return</span> str &lt;&lt; <span class="stringliteral">" nightmode: "</span> &lt;&lt; me.<a class="code" href="classSTMFDParams.html#o1">m_nightMode</a> 
00164                  &lt;&lt; <span class="stringliteral">" drawSettingVersion:  "</span> &lt;&lt; me.<a class="code" href="classSTMFDParams.html#r1">m_drawSettingVersion</a>
00165                  &lt;&lt; <span class="stringliteral">" imageSet: "</span> &lt;&lt; me.<a class="code" href="classSTMFDParams.html#r2">m_imageSet</a>
00166                  &lt;&lt; <span class="stringliteral">" layers: 0x"</span> &lt;&lt; hex &lt;&lt; me.<a class="code" href="classSTMFDParams.html#r0">m_layers</a> &lt;&lt; dec
00167                  &lt;&lt; <span class="stringliteral">" server prefix: "</span> &lt;&lt; me.<a class="code" href="classSTMFDParams.html#r3">m_serverPrefix</a>;
00168    }
00169 
<a name="l00171"></a><a class="code" href="classSTMFDParams.html#a6">00171</a>    LangTypes::language_t getLanguage()<span class="keyword"> const </span>{
00172       <span class="keywordflow">return</span> m_lang;
00173    }
00174 
<a name="l00176"></a><a class="code" href="classSTMFDParams.html#a7">00176</a>    <span class="keywordtype">bool</span> useNightMode()<span class="keyword"> const </span>{ 
00177       <span class="keywordflow">return</span> m_nightMode;
00178    }
00179 
<a name="l00181"></a><a class="code" href="classSTMFDParams.html#a8">00181</a>    <a class="code" href="Types_8h.html#a21">uint32</a> getDrawSettingVersion()<span class="keyword"> const </span>{
00182       <span class="keywordflow">return</span> m_drawSettingVersion;
00183    }
00184 
<a name="l00186"></a><a class="code" href="classSTMFDParams.html#a9">00186</a>    <a class="code" href="Types_8h.html#a21">uint32</a> getLayers()<span class="keyword"> const </span>{
00187       <span class="keywordflow">return</span> m_layers;
00188    }
00189 
<a name="l00191"></a><a class="code" href="classSTMFDParams.html#a10">00191</a>    ImageTable::ImageSet getImageSet()<span class="keyword"> const </span>{
00192       <span class="keywordflow">return</span> m_imageSet;
00193    }
00194 
<a name="l00196"></a><a class="code" href="classSTMFDParams.html#a11">00196</a>    <a class="code" href="Types_8h.html#a21">uint32</a> getServerPrefix()<span class="keyword"> const </span>{
00197       <span class="keywordflow">return</span> m_serverPrefix;
00198    }
00199 
<a name="l00201"></a><a class="code" href="classSTMFDParams.html#a12">00201</a>    <span class="keywordtype">bool</span> <a class="code" href="namespaceSTLUtility.html#a31">operator == </a>( <span class="keyword">const</span> <a class="code" href="classSTMFDParams.html">STMFDParams</a>&amp; other )<span class="keyword"> const </span>{
00202       <span class="keywordflow">return</span>
00203          m_nightMode == other.<a class="code" href="classSTMFDParams.html#o1">m_nightMode</a> &amp;&amp;
00204          m_lang == other.<a class="code" href="classSTMFDParams.html#o0">m_lang</a> &amp;&amp;
00205          m_layers == other.<a class="code" href="classSTMFDParams.html#r0">m_layers</a> &amp;&amp;
00206          m_drawSettingVersion == other.<a class="code" href="classSTMFDParams.html#r1">m_drawSettingVersion</a> &amp;&amp;
00207          m_imageSet == other.<a class="code" href="classSTMFDParams.html#r2">m_imageSet</a> &amp;&amp;
00208          m_serverPrefix == other.<a class="code" href="classSTMFDParams.html#r3">m_serverPrefix</a>;
00209    }
00210 
<a name="l00212"></a><a class="code" href="classSTMFDParams.html#o0">00212</a>    LangTypes::language_t m_lang;
<a name="l00214"></a><a class="code" href="classSTMFDParams.html#o1">00214</a>    <span class="keywordtype">bool</span> m_nightMode;
00215 
00216 <span class="keyword">private</span>:
00217 
<a name="l00218"></a><a class="code" href="classSTMFDParams.html#r0">00218</a>    <a class="code" href="Types_8h.html#a21">uint32</a> m_layers; 
<a name="l00219"></a><a class="code" href="classSTMFDParams.html#r1">00219</a>    <a class="code" href="Types_8h.html#a21">uint32</a> m_drawSettingVersion; 
<a name="l00220"></a><a class="code" href="classSTMFDParams.html#r2">00220</a>    ImageTable::ImageSet m_imageSet; 
<a name="l00221"></a><a class="code" href="classSTMFDParams.html#r3">00221</a>    <a class="code" href="Types_8h.html#a21">uint32</a> m_serverPrefix; 
00222 };
00223 
<a name="l00228"></a><a class="code" href="classServerTileMapFormatDesc.html">00228</a> <span class="keyword">class </span><a class="code" href="classServerTileMapFormatDesc.html">ServerTileMapFormatDesc</a> : <span class="keyword">public</span> <a class="code" href="classTileMapFormatDesc.html">TileMapFormatDesc</a> {   
00229 <span class="keyword">public</span>:
<a name="l00230"></a><a class="code" href="classServerTileMapFormatDesc.html#w0">00230</a>    <span class="keyword">typedef</span> set&lt;MC2SimpleString&gt; paramSet_t;
<a name="l00231"></a><a class="code" href="classServerTileMapFormatDesc.html#s0">00231</a>    <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="Types_8h.html#a25">byte</a> <a class="code" href="classServerTileMapFormatDesc.html#s0">SPECIAL_CUSTOM_POI_MASK</a> = 0x80;
00232 
<a name="l00234"></a><a class="code" href="classServerTileMapFormatDesc.html#w1">00234</a>       <span class="keyword">typedef</span> <a class="code" href="classmap.html">map&lt;int, MC2SimpleString&gt;</a> <a class="code" href="classmap.html">imageByType_t</a>;
00235       
00236       <span class="keyword">explicit</span> <a class="code" href="classServerTileMapFormatDesc.html#a0">ServerTileMapFormatDesc</a>( <span class="keyword">const</span> <a class="code" href="classSTMFDParams.html">STMFDParams</a>&amp; settings );
00237 
00241       <a class="code" href="classServerTileMapFormatDesc.html#a0">ServerTileMapFormatDesc</a>( <span class="keyword">const</span> <a class="code" href="classSTMFDParams.html">STMFDParams</a>&amp; settings,
00242                                <span class="keyword">const</span> <a class="code" href="classCopyrightHolder.html">CopyrightHolder</a>&amp; copyrights );
00243 
00247       <a class="code" href="classServerTileMapFormatDesc.html#a2">~ServerTileMapFormatDesc</a>();
00248 
00249 
00255       <span class="keywordtype">void</span> <a class="code" href="classServerTileMapFormatDesc.html#a3">save</a>( <a class="code" href="classBitBuffer.html">BitBuffer</a>&amp; buf, uint32* timeStampPos = NULL );
00256 
00263       <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classServerTileMapFormatDesc.html#e0">updateTimeStamp</a>( <a class="code" href="classBitBuffer.html">BitBuffer</a>&amp; buf, uint32 timeStampPos );
00264 
00271       <span class="keyword">const</span> <a class="code" href="classTileImportanceNotice.html">TileImportanceNotice</a>* <a class="code" href="classServerTileMapFormatDesc.html#a4">getImportanceOfType</a>( uint32 layerID,
00272                                                        uint16 type ) <span class="keyword">const</span>;
00273 
00274 
00278       <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classServerTileMapFormatDesc.html#a5">setData</a>();
00279 
00283       <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a21">uint32</a> <a class="code" href="classServerTileMapFormatDesc.html#a6">getServerPrefix</a>() <span class="keyword">const</span>;
00284 
00292       <a class="code" href="Types_8h.html#a20">int16</a> <a class="code" href="classServerTileMapFormatDesc.html#a7">getTileFeatureTypeFromGfxFeature</a>(
00293                      <span class="keyword">const</span> <a class="code" href="classGfxFeature.html">GfxFeature</a>* gfxFeature ) <span class="keyword">const</span>;
00294 
00299       <span class="keywordtype">bool</span> <a class="code" href="classServerTileMapFormatDesc.html#a8">closedFeatureType</a>( int16 type ) <span class="keyword">const</span>;
00300 
<a name="l00305"></a><a class="code" href="classServerTileMapFormatDesc.html#a9">00305</a>       <span class="keyword">const</span> <a class="code" href="classmap.html">imageByType_t</a>&amp; <a class="code" href="classServerTileMapFormatDesc.html#a9">getUsedPoiNamesByType</a>()<span class="keyword"> const </span>{
00306          <span class="keywordflow">return</span> m_usedImageByTileFeatureType;
00307       }
00308    
00318       <span class="keywordtype">bool</span> <a class="code" href="classServerTileMapFormatDesc.html#a10">isGfxOfImportance</a>( 
00319                            <span class="keyword">const</span> <a class="code" href="classGfxFeature.html">GfxFeature</a>* gfxFeature,
00320                            <span class="keyword">const</span> <a class="code" href="classTileImportanceNotice.html">TileImportanceNotice</a>* importance,
00321                            float64 sqMeterToSqPixelFactor,
00322                            <span class="keyword">const</span> <a class="code" href="classTileMapParams.html">TileMapParams</a>&amp; param ) <span class="keyword">const</span>;
00323 
00329       <span class="keywordtype">bool</span> <a class="code" href="classServerTileMapFormatDesc.html#a11">hasName</a>( uint16 type ) <span class="keyword">const</span>;
00330 
<a name="l00334"></a><a class="code" href="classServerTileMapFormatDesc.html#a12">00334</a>       <span class="keywordtype">bool</span> <a class="code" href="classServerTileMapFormatDesc.html#a12">hasArg</a>( featureInt type, 
00335                    TileArgNames::tileArgName_t argName )<span class="keyword"> const </span>{
00336          argsByTypeAndName_t::const_iterator it = 
00337             <a class="code" href="classServerTileMapFormatDesc.html#r7">m_argsByTypeAndName</a>.find( type );
00338          <span class="keywordflow">if</span> ( it != <a class="code" href="classServerTileMapFormatDesc.html#r7">m_argsByTypeAndName</a>.end() ) {
00339             argsByName_t::const_iterator jt =  it-&gt;second-&gt;find( argName );
00340             <span class="keywordflow">if</span> ( jt != it-&gt;second-&gt;end() ) {
00341                <span class="keywordflow">return</span> <span class="keyword">true</span>;
00342             }
00343          }
00344          <span class="keywordflow">return</span> <span class="keyword">false</span>;
00345       }
00346 
<a name="l00351"></a><a class="code" href="classServerTileMapFormatDesc.html#w18">00351</a>       <span class="keyword">enum</span> <a class="code" href="classServerTileMapFormatDesc.html#w18">importanceType_t</a> {
00352          <a class="code" href="classServerTileMapFormatDesc.html#w18w2">ALL_AREA_FEATURES</a> = GfxFeature::NBR_GFXFEATURES + 1,
00353          ALL_OTHER_FEATURES,
00354          ALL_ROUTE_FEATURES,
00355          LAND_AND_MAJOR_CITYCENTRES,
00356          <span class="comment">// Place holders for old sorting order of streets.</span>
00357          <span class="comment">// This order lead to that small streets were drawn on top</span>
00358          <span class="comment">// of big ones.</span>
00359          PLACE_HOLDER_STREET_MAIN_AND_MEDIUM_CITYCENTRES_AND_AIRPORTS,
00360          PLACE_HOLDER_STREET_FIRST_AND_MINOR_CITYCENTRES,
00361          PLACE_HOLDER_STREET_SECOND_AND_FERRY,
00362          PLACE_HOLDER_STREET_FOURTH_AND_RAILWAY,
00363          PLACE_HOLDER_POIS,
00364          <span class="comment">// New sorting order of streets.</span>
00365          <span class="comment">// Draw big streets above small ones.</span>
00366          STREET_FOURTH_AND_RAILWAY,
00367          STREET_THIRD_AND_MORE,
00368          STREET_SECOND_AND_FERRY,
00369          STREET_FIRST_AND_MINOR_CITYCENTRES,
00370          STREET_MAIN_AND_MEDIUM_CITYCENTRES_AND_AIRPORTS,
00371          POIS,
00372          TRAFFIC,
00373       };
00374 
00379       <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a21">uint32</a> <a class="code" href="classServerTileMapFormatDesc.html#a13">getNbrImportances</a>( <span class="keyword">const</span> <a class="code" href="classTileMapParams.html">TileMapParams</a>&amp; param ) <span class="keyword">const</span>;
00380       <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a21">uint32</a> <a class="code" href="classServerTileMapFormatDesc.html#a13">getNbrImportances</a>( uint32 layerNbr,
00381                                        uint32 scale,
00382                                        uint32 detailLevel ) <span class="keyword">const</span>;
00383 
00388       <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a21">uint32</a> <a class="code" href="classServerTileMapFormatDesc.html#a15">getNbrPixels</a>( <span class="keyword">const</span> <a class="code" href="classTileMapParams.html">TileMapParams</a>&amp; param ) <span class="keyword">const</span>;
00389      
<a name="l00393"></a><a class="code" href="classServerTileMapFormatDesc.html#s1">00393</a>       <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> c_minRoadFeatureLevel;
<a name="l00394"></a><a class="code" href="classServerTileMapFormatDesc.html#s2">00394</a>       <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> c_defaultRoadFeatureLevel;
<a name="l00395"></a><a class="code" href="classServerTileMapFormatDesc.html#s3">00395</a>       <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> c_maxRoadFeatureLevel;
00396      
00402       <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="classServerTileMapFormatDesc.html#e1">getRoadLevelWithOffset</a>( <span class="keywordtype">int</span> levelWithoutOffset );
00403     
00411       <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classServerTileMapFormatDesc.html#e2">getBitmapNames</a>( set&lt;MC2SimpleString&gt;&amp; bitmaps,
00412                                   <span class="keyword">const</span> <a class="code" href="classMC2SimpleString.html">MC2SimpleString</a>&amp; suffix,
00413                                   ImageTable::ImageSet imageSet );
00414 
00416       <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classServerTileMapFormatDesc.html#e3">getNeededBitmapNames</a>( set&lt;MC2String&gt;&amp; names, 
00417                                         ImageTable::ImageSet imageSet );
00418    
00423       <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a21">uint32</a> <a class="code" href="classServerTileMapFormatDesc.html#a16">getMaxScale</a>( uint32 layerID ) <span class="keyword">const</span>;
00424     
00434       <span class="keywordtype">void</span> <a class="code" href="classServerTileMapFormatDesc.html#a17">getAllImportances</a>( <span class="keyword">const</span> <a class="code" href="classMC2SimpleString.html">MC2SimpleString</a>&amp; param,
00435                               <a class="code" href="classvector.html">vector&lt;MC2SimpleString&gt;</a>&amp; params ) <span class="keyword">const</span>;
00436  
00440       <span class="keyword">inline</span> <a class="code" href="classSTMFDParams.html">STMFDParams</a> <a class="code" href="classServerTileMapFormatDesc.html#a18">getSTMFDParams</a>() <span class="keyword">const</span>;
00441 
00446       <span class="keywordtype">bool</span> <a class="code" href="classServerTileMapFormatDesc.html#a19">sameTileSettingsForLayerID</a>( <span class="keywordtype">int</span> layerID, 
00447                                        <span class="keywordtype">int</span> otherLayerID ) <span class="keyword">const</span>;
00460    <span class="keywordtype">void</span> <a class="code" href="classServerTileMapFormatDesc.html#a20">getAllNotices</a>( <a class="code" href="classTileCollectionNotice.html">TileCollectionNotice</a>&amp; collection,
00461                        paramSet_t&amp; otherParams,
00462                        <span class="keyword">const</span> <a class="code" href="classMC2BoundingBox.html">MC2BoundingBox</a>&amp; bbox,
00463                        <span class="keyword">const</span> set&lt;int&gt;&amp; layers,
00464                        <span class="keywordtype">int</span> useGzip, 
00465                        LangTypes::language_t language,
00466                        uint32 minScale,
00467                        <span class="keyword">const</span> paramSet_t* extraParams ) <span class="keyword">const</span>;
00468 
00474    <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classServerTileMapFormatDesc.html#a21">getPOIImageName</a>( ItemTypes::pointOfInterest_t poi ) <span class="keyword">const</span>;
00475 
00480     <a class="code" href="classMC2String.html">MC2String</a> <a class="code" href="classServerTileMapFormatDesc.html#a21">getPOIImageName</a>( <span class="keywordtype">int</span> tileFeatureType ) <span class="keyword">const</span>;
00481 
00487    <a class="code" href="classMC2String.html">MC2String</a> <a class="code" href="classServerTileMapFormatDesc.html#a23">getItemImageName</a>( ItemTypes::itemType itemType ) <span class="keyword">const</span>;
00488    
00495    <span class="keywordtype">bool</span> <a class="code" href="classServerTileMapFormatDesc.html#a24">checkFeatScaleRange</a>( <span class="keywordtype">int</span> tileType, <span class="keyword">const</span> <a class="code" href="classTileMapParams.html">TileMapParams</a>&amp; param ) <span class="keyword">const</span>;
00500    TileFeature::tileFeature_t 
00501    <a class="code" href="classServerTileMapFormatDesc.html#a25">getTileFeatureForPOI</a>( ItemTypes::pointOfInterest_t poiType ) <span class="keyword">const</span>;
00502 
00504    <span class="keyword">inline</span> <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="classServerTileMapFormatDesc.html#e4">isSpecialCustomPOI</a>( <span class="keywordtype">int</span> tileFeatureType );
00505 
<a name="l00507"></a><a class="code" href="classServerTileMapFormatDesc.html#a26">00507</a>    <span class="keywordtype">bool</span> <a class="code" href="classServerTileMapFormatDesc.html#a26">highEndDevice</a>()<span class="keyword"> const </span>{ 
00508       <span class="keywordflow">return</span> <a class="code" href="classServerTileMapFormatDesc.html#a6">getServerPrefix</a>() == STMFDParams::HIGH_END_SERVER_PREFIX; 
00509    }
00510    
00511 <span class="keyword">private</span>:
00513    <span class="keywordtype">void</span> <a class="code" href="classServerTileMapFormatDesc.html#d0">init</a>( <span class="keyword">const</span> <a class="code" href="classSTMFDParams.html">STMFDParams</a>&amp; settings );
00514 
00519       <span class="keywordtype">void</span> <a class="code" href="classServerTileMapFormatDesc.html#d1">buildArgsByTypeArray</a>();
00520       
00524       <span class="keywordtype">void</span> <a class="code" href="classServerTileMapFormatDesc.html#d2">createPOITables</a>(); 
00525  
00530       <span class="keywordtype">void</span> <a class="code" href="classServerTileMapFormatDesc.html#d3">createArgVectorForType</a>( <span class="keywordtype">int</span> type );
00531       
00540       <span class="keywordtype">void</span> <a class="code" href="classServerTileMapFormatDesc.html#d4">addDefaultScaleRange</a>( 
00541                         int16 type, <a class="code" href="classvector.html">vector&lt;TileFeatureArg*&gt;</a>&amp; args );
00542       
00563       <span class="keywordtype">void</span> <a class="code" href="classServerTileMapFormatDesc.html#d5">addThresholdDataToImportanceTable</a>( 
00564                         uint32 layerID,
00565                         float64 zoomFactor,
00566                         <span class="keywordtype">int</span> nbrStepsPerDetailLevel,
00567                   <span class="keyword">const</span> <a class="code" href="classvector.html">vector</a>&lt;pair&lt;int, int&gt; &gt;&amp; typeAndSqPixelThreshold );
00568 
00577       <span class="keywordtype">void</span> <a class="code" href="classServerTileMapFormatDesc.html#d6">addStaticDataToImportanceTable</a>(
00578                   uint32 layerID,
00579                   <span class="keyword">const</span> <a class="code" href="classvector.html">vector</a>&lt;pair&lt;int, uint16&gt; &gt;&amp; typeAndScaleLevel );
00580    
00609       <span class="keywordtype">void</span> <a class="code" href="classServerTileMapFormatDesc.html#d7">addImportanceTable</a>( <span class="keywordtype">bool</span> fetchStringsByDefault,
00610                                uint32 layerID,
00611                                <span class="keyword">const</span> <a class="code" href="classMC2SimpleString.html">MC2SimpleString</a>&amp; descrStr,
00612                                uint32 updatePeriodMin = 0,
00613                                <span class="keywordtype">bool</span> optional = <span class="keyword">false</span>,
00614                                <span class="keywordtype">bool</span> visibleByDefault = <span class="keyword">true</span>,
00615                                <span class="keywordtype">bool</span> affectedByACPMode = <span class="keyword">false</span>,
00616                                <span class="keywordtype">bool</span> fetchLayerWhenACPEnabled = <span class="keyword">false</span>,
00617                                <span class="keywordtype">bool</span> fetchLayerWhenACPDisabled = <span class="keyword">false</span> );
00618 
00622       <span class="keywordtype">void</span> <a class="code" href="classServerTileMapFormatDesc.html#d8">initTilesAndImportances</a>();
00623 
00630       <a class="code" href="Types_8h.html#a20">int16</a> <a class="code" href="classServerTileMapFormatDesc.html#d9">getStreetTileTypeFromGfxFeature</a>( <span class="keyword">const</span> <a class="code" href="classGfxFeature.html">GfxFeature</a>* gfxFeature,
00631                                              byte roadClass ) <span class="keyword">const</span>;
00632 
00636       <span class="keywordtype">void</span> <a class="code" href="classServerTileMapFormatDesc.html#d10">createCategories</a>( LangTypes::language_t lang );
00637     
00638       <span class="comment">// Forward.</span>
00639       <span class="keyword">struct </span>tileSettings_t;
00640  
00649       <span class="keywordtype">void</span> <a class="code" href="classServerTileMapFormatDesc.html#d11">initTileSizesForLayer</a>( uint32 layerNbr,
00650                                   <span class="keyword">const</span> tileSettings_t&amp; tileSettings );
00651 
00656    <span class="keywordtype">bool</span> <a class="code" href="classServerTileMapFormatDesc.html#d12">useAreaThresholdForType</a>( GfxFeature::gfxFeatureType featureType ) <span class="keyword">const</span>;
00657       
<a name="l00661"></a><a class="code" href="classServerTileMapFormatDesc.html#r0">00661</a>       <a class="code" href="classTileMapCoords.html">TileMapCoords</a> m_coords;
00662                   
<a name="l00664"></a><a class="code" href="classServerTileMapFormatDesc.html#r1">00664</a>       <a class="code" href="classmap.html">imageByType_t</a> m_imageByTileFeatureType;
00665    
<a name="l00667"></a><a class="code" href="classServerTileMapFormatDesc.html#r2">00667</a>       <a class="code" href="classmap.html">imageByType_t</a> m_usedImageByTileFeatureType;
00668 
<a name="l00670"></a><a class="code" href="classServerTileMapFormatDesc.html#y0">00670</a>       <span class="keyword">typedef</span> <a class="code" href="classmap.html">map&lt;ItemTypes::pointOfInterest_t, int&gt;</a>  <a class="code" href="classmap.html">typeByPOI_t</a>;
<a name="l00671"></a><a class="code" href="classServerTileMapFormatDesc.html#r3">00671</a>       <a class="code" href="classmap.html">typeByPOI_t</a> m_tileFeatureTypeByPOIType;
00672       
<a name="l00674"></a><a class="code" href="classServerTileMapFormatDesc.html#y1">00674</a>       <span class="keyword">typedef</span> pair&lt;int, int&gt; scaleRange_t;
00675 
<a name="l00680"></a><a class="code" href="classServerTileMapFormatDesc.html#y2">00680</a>       <span class="keyword">typedef</span> <a class="code" href="classmap.html">map&lt;int, scaleRange_t&gt;</a> <a class="code" href="classmap.html">scaleRangeByType_t</a>;     
<a name="l00681"></a><a class="code" href="classServerTileMapFormatDesc.html#r4">00681</a>       <a class="code" href="classmap.html">scaleRangeByType_t</a> m_scaleRangeByType;
00682       
00683       <span class="keyword">typedef</span> <a class="code" href="classmap.html">map</a>&lt;featureInt, 
<a name="l00684"></a><a class="code" href="classServerTileMapFormatDesc.html#y3">00684</a>          <a class="code" href="classvector.html">vector&lt;TileFeatureArg*&gt;</a> &gt; <a class="code" href="classmap.html">argsByType_t</a>;
00685 
<a name="l00689"></a><a class="code" href="classServerTileMapFormatDesc.html#r5">00689</a>       <a class="code" href="classmap.html">argsByType_t</a> m_argsByTileFeatureType;
00690        
00695       <span class="keyword">typedef</span> <a class="code" href="classmap.html">map</a>&lt;featureInt,
<a name="l00696"></a><a class="code" href="classServerTileMapFormatDesc.html#y4">00696</a>          argTransferMap_t*&gt; <a class="code" href="classmap.html">argTransferPerType_t</a>;
00697             
<a name="l00702"></a><a class="code" href="classServerTileMapFormatDesc.html#r6">00702</a>       <a class="code" href="classmap.html">argTransferPerType_t</a> m_argsPerType;
00703       
<a name="l00704"></a><a class="code" href="classServerTileMapFormatDesc.html#y5">00704</a>       <span class="keyword">typedef</span> <a class="code" href="classmap.html">map&lt;TileArgNames::tileArgName_t, TileFeatureArg*&gt;</a> <a class="code" href="classmap.html">argsByName_t</a>;
00705       
<a name="l00707"></a><a class="code" href="classServerTileMapFormatDesc.html#y6">00707</a>       <span class="keyword">typedef</span> <a class="code" href="classmap.html">map&lt;featureInt, argsByName_t*&gt;</a> <a class="code" href="classmap.html">argsByTypeAndName_t</a>;
00708       
<a name="l00712"></a><a class="code" href="classServerTileMapFormatDesc.html#r7">00712</a>       <a class="code" href="classmap.html">argsByTypeAndName_t</a> m_argsByTypeAndName;
00713       
00715       <span class="comment">//set&lt;ItemTypes::pointOfInterest_t&gt; m_circlePOIs;</span>
00716 
<a name="l00724"></a><a class="code" href="structServerTileMapFormatDesc_1_1TileNotice.html">00724</a>       <span class="keyword">struct </span><a class="code" href="structServerTileMapFormatDesc_1_1TileNotice.html">TileNotice</a> {
00735          <a class="code" href="structServerTileMapFormatDesc_1_1TileNotice.html">TileNotice</a>( ServerTileCategories::category_t category,
00736                      <span class="keywordtype">int</span> tilefeatureType,
00737                      ImageTable::ImageCode image,
00738                      ItemTypes::pointOfInterest_t poiType = 
00739                      ItemTypes::nbr_pointOfInterest );
00740          
<a name="l00742"></a><a class="code" href="structServerTileMapFormatDesc_1_1TileNotice.html#o0">00742</a>          ImageTable::ImageCode m_image;
00743          
<a name="l00745"></a><a class="code" href="structServerTileMapFormatDesc_1_1TileNotice.html#o1">00745</a>          <span class="keywordtype">int</span> m_tileFeatureType;
00746 
<a name="l00752"></a><a class="code" href="structServerTileMapFormatDesc_1_1TileNotice.html#o2">00752</a>          ItemTypes::pointOfInterest_t m_poiType;
00753 
<a name="l00755"></a><a class="code" href="structServerTileMapFormatDesc_1_1TileNotice.html#o3">00755</a>          ServerTileCategories::category_t m_category;
<a name="l00757"></a><a class="code" href="structServerTileMapFormatDesc_1_1TileNotice.html#o4">00757</a>          <span class="keywordtype">int</span> m_level;
00758       };
00759 
<a name="l00761"></a><a class="code" href="classServerTileMapFormatDesc.html#r8">00761</a>       <span class="keywordtype">int</span> m_nbrCategoryPoiTypes;
00762       
<a name="l00767"></a><a class="code" href="classServerTileMapFormatDesc.html#v0">00767</a>       <span class="keyword">static</span> <a class="code" href="classvector.html">vector&lt;TileNotice&gt;</a> c_tileNotices;
00768 
00772       <span class="keyword">static</span> <a class="code" href="classvector.html">vector&lt;TileNotice&gt;</a> <a class="code" href="classServerTileMapFormatDesc.html#h0">createTileNotices</a>();
00773       
00777       <span class="keywordtype">void</span> <a class="code" href="classServerTileMapFormatDesc.html#d13">createDefaultSettings</a>();
00778 
00782       <span class="keywordtype">void</span> <a class="code" href="classServerTileMapFormatDesc.html#d14">createOldDefaultSettings</a>();
00783 
00789       <span class="keywordtype">void</span> <a class="code" href="classServerTileMapFormatDesc.html#d15">addArgTransferMap</a>( <span class="keywordtype">int</span> featureType, <span class="keywordtype">int</span> primitiveType );
00790 
00797       <span class="keywordtype">void</span> <a class="code" href="classServerTileMapFormatDesc.html#d16">writeCategories</a>( <a class="code" href="classSharedBuffer.html">SharedBuffer</a>&amp; buf, <span class="keywordtype">bool</span> latin1 );
00798       
00809       <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt; <span class="keywordtype">bool</span>
<a name="l00810"></a><a class="code" href="classServerTileMapFormatDesc.html#d17">00810</a>       <a class="code" href="classServerTileMapFormatDesc.html#d17">checkAndUpdateArgVector</a>( T&amp; vec, T&amp; invalidVector ) 
00811       {
00812          <span class="comment">// Check if invalid arguments.</span>
00813          <span class="keywordflow">if</span> ( ! ( vec == invalidVector ) ) {
00814             <span class="comment">// Contains valid arguments.</span>
00815             
00816             <span class="comment">// Check if all arguments are the same.</span>
00817             T allSame;
00818             allSame.resize( vec.size(), vec.front() );
00819 
00820             <span class="keywordflow">if</span> ( vec == allSame ) {
00821                <span class="comment">// All arguments are same.</span>
00822                <span class="comment">// Reduce to only contain one.</span>
00823                vec.resize( 1 );
00824             }
00825             <span class="keywordflow">return</span> <span class="keyword">true</span>;
00826          } <span class="keywordflow">else</span> {
00827             <span class="comment">// All arguments invalid.</span>
00828             <span class="keywordflow">return</span> <span class="keyword">false</span>;
00829          }
00830       }
00831 
<a name="l00836"></a><a class="code" href="structServerTileMapFormatDesc_1_1tileSettings__t.html">00836</a>       <span class="keyword">struct </span><a class="code" href="structServerTileMapFormatDesc_1_1tileSettings__t.html">tileSettings_t</a> {
<a name="l00840"></a><a class="code" href="structServerTileMapFormatDesc_1_1tileSettings__t.html#o0">00840</a>          <span class="keywordtype">int</span> m_meters;
00841 
<a name="l00845"></a><a class="code" href="structServerTileMapFormatDesc_1_1tileSettings__t.html#o1">00845</a>          <span class="keywordtype">int</span> m_pixels;
00846 
<a name="l00850"></a><a class="code" href="structServerTileMapFormatDesc_1_1tileSettings__t.html#o2">00850</a>          <span class="keywordtype">int</span> m_dpi;
00851 
<a name="l00855"></a><a class="code" href="structServerTileMapFormatDesc_1_1tileSettings__t.html#o3">00855</a>          <a class="code" href="Types_8h.html#a27">float64</a> m_zoomFactor;
00856 
<a name="l00867"></a><a class="code" href="structServerTileMapFormatDesc_1_1tileSettings__t.html#o4">00867</a>          <a class="code" href="Types_8h.html#a27">float64</a> m_exchangeTileFactor;
00868 
<a name="l00872"></a><a class="code" href="structServerTileMapFormatDesc_1_1tileSettings__t.html#o5">00872</a>          <span class="keywordtype">int</span> m_detailLevels;
00873 
00877          <span class="keywordtype">bool</span> <a class="code" href="namespaceSTLUtility.html#a31">operator == </a>(<span class="keyword">const</span> <a class="code" href="structServerTileMapFormatDesc_1_1tileSettings__t.html">tileSettings_t</a>&amp; other ) <span class="keyword">const</span>;
00878       };
00879 
<a name="l00883"></a><a class="code" href="classServerTileMapFormatDesc.html#r9">00883</a>       <a class="code" href="classvector.html">vector&lt;tileSettings_t&gt;</a> m_tileSettingsByLayerNbr;
00884 
00885       <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a21">uint32</a> <a class="code" href="classServerTileMapFormatDesc.html#d18">makeColor</a> (GDUtils::Color::imageColor dayColor, 
00886                                GDUtils::Color::imageColor nightColor) <span class="keyword">const</span>;
00887       <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a21">uint32</a> <a class="code" href="classServerTileMapFormatDesc.html#d18">makeColor</a>(uint32 dayRed, uint32 dayGreen, uint32 dayBlue, 
00888                               uint32 nightRed, 
00889                               uint32 nightGreen, 
00890                               uint32 nightBlue) <span class="keyword">const</span>;
00891       <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a21">uint32</a> <a class="code" href="classServerTileMapFormatDesc.html#d18">makeColor</a>(GDUtils::Color::imageColor dayColor, 
00892                               uint32 nightRed, 
00893                               uint32 nightGreen, 
00894                               uint32 nightBlue) <span class="keyword">const</span>;
00895 
00896 
<a name="l00897"></a><a class="code" href="classServerTileMapFormatDesc.html#r10">00897</a>    <span class="keywordtype">bool</span> m_nightMode; 
<a name="l00898"></a><a class="code" href="classServerTileMapFormatDesc.html#r11">00898</a>    <a class="code" href="Types_8h.html#a21">uint32</a> m_drawSettingVersion; 
<a name="l00899"></a><a class="code" href="classServerTileMapFormatDesc.html#r12">00899</a>    <a class="code" href="Types_8h.html#a21">uint32</a> m_layers; 
<a name="l00900"></a><a class="code" href="classServerTileMapFormatDesc.html#r13">00900</a>    ImageTable::ImageSet m_imageSet; 
00901 
<a name="l00902"></a><a class="code" href="classServerTileMapFormatDesc.html#r14">00902</a>    <a class="code" href="Types_8h.html#a21">uint32</a> m_textColor;
<a name="l00904"></a><a class="code" href="classServerTileMapFormatDesc.html#r15">00904</a>    <a class="code" href="Types_8h.html#a21">uint32</a> m_topHorizonColor;
<a name="l00906"></a><a class="code" href="classServerTileMapFormatDesc.html#r16">00906</a>    <a class="code" href="Types_8h.html#a21">uint32</a> m_bottomHorizonColor;
00907 }; <span class="comment">// class ServerTileMapFormatDesc</span>
00908 
00909 <span class="comment">// Inlines</span>
00910 <span class="keyword">inline</span> <span class="keywordtype">bool</span> 
<a name="l00911"></a><a class="code" href="classServerTileMapFormatDesc.html#e4">00911</a> <a class="code" href="classServerTileMapFormatDesc.html#e4">ServerTileMapFormatDesc::isSpecialCustomPOI</a>( <span class="keywordtype">int</span> tileFeatureType ) {
00912    <span class="keywordflow">return</span> 
00913       tileFeatureType == TileFeature::special_custom_poi_2 ||
00914       tileFeatureType == TileFeature::special_custom_poi_4 ||
00915       tileFeatureType == TileFeature::special_custom_poi_7 ||
00916       tileFeatureType == TileFeature::special_custom_poi_10 ||
00917       tileFeatureType == TileFeature::special_custom_poi_15 ||
00918       tileFeatureType == TileFeature::special_custom_poi_20 ||
00919       tileFeatureType == TileFeature::special_custom_poi_30;
00920 }
00921 
00922 <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a21">uint32</a> 
<a name="l00923"></a><a class="code" href="classServerTileMapFormatDesc.html#a6">00923</a> <a class="code" href="classServerTileMapFormatDesc.html#a6">ServerTileMapFormatDesc::getServerPrefix</a>()<span class="keyword"> const</span>
00924 <span class="keyword"></span>{
00925    <span class="keywordflow">return</span> m_serverPrefix;
00926 }
00927 
00928 <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a21">uint32</a> 
<a name="l00929"></a><a class="code" href="classServerTileMapFormatDesc.html#a14">00929</a> <a class="code" href="classServerTileMapFormatDesc.html#a13">ServerTileMapFormatDesc::getNbrImportances</a>( uint32 layerNbr,
00930                                             uint32 scale,
00931                                             uint32 detailLevel )<span class="keyword"> const</span>
00932 <span class="keyword"></span>{
00933    <span class="keywordflow">return</span> m_importanceTables[ layerNbr ]
00934             -&gt;getNbrImportanceNbrs( scale, detailLevel );
00935 }
00936                                            
00937 <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a21">uint32</a> 
<a name="l00938"></a><a class="code" href="classServerTileMapFormatDesc.html#a13">00938</a> <a class="code" href="classServerTileMapFormatDesc.html#a13">ServerTileMapFormatDesc::getNbrImportances</a>( 
00939                               <span class="keyword">const</span> <a class="code" href="classTileMapParams.html">TileMapParams</a>&amp; param )<span class="keyword"> const</span>
00940 <span class="keyword"></span>{
00941    <span class="keywordflow">return</span> m_importanceTables[ <a class="code" href="classTileMapFormatDesc.html#a34">getLayerNbrFromID</a>( param.<a class="code" href="classTileMapParams.html#a15">getLayer</a>() ) ]
00942             -&gt;getNbrImportanceNbrs( 0, param.<a class="code" href="classTileMapParams.html#a25">getDetailLevel</a>() );
00943 }
00944 
00945 <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a21">uint32</a> 
<a name="l00946"></a><a class="code" href="classServerTileMapFormatDesc.html#a15">00946</a> <a class="code" href="classServerTileMapFormatDesc.html#a15">ServerTileMapFormatDesc::getNbrPixels</a>( 
00947                               <span class="keyword">const</span> <a class="code" href="classTileMapParams.html">TileMapParams</a>&amp; param )<span class="keyword"> const</span>
00948 <span class="keyword"></span>{
00949    <span class="keywordflow">return</span> <a class="code" href="classServerTileMapFormatDesc.html#r9">m_tileSettingsByLayerNbr</a>[ 
00950       <a class="code" href="classTileMapFormatDesc.html#a34">getLayerNbrFromID</a>( param.<a class="code" href="classTileMapParams.html#a15">getLayer</a>() ) ].m_pixels;
00951 }
00952       
00953 <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a21">uint32</a> 
<a name="l00954"></a><a class="code" href="classServerTileMapFormatDesc.html#a16">00954</a> <a class="code" href="classServerTileMapFormatDesc.html#a16">ServerTileMapFormatDesc::getMaxScale</a>( uint32 layerID )<span class="keyword"> const</span>
00955 <span class="keyword"></span>{
00956    <span class="keyword">const</span> tileScale_t&amp; tileScale = 
00957       *m_tileScaleByLayer[ <a class="code" href="classTileMapFormatDesc.html#a34">getLayerNbrFromID</a>( layerID ) ];
00958    <span class="keywordflow">return</span> tileScale.back().second;
00959 }
00960 
00961 <span class="keyword">inline</span> <a class="code" href="classSTMFDParams.html">STMFDParams</a> 
<a name="l00962"></a><a class="code" href="classServerTileMapFormatDesc.html#a18">00962</a> <a class="code" href="classServerTileMapFormatDesc.html#a18">ServerTileMapFormatDesc::getSTMFDParams</a>()<span class="keyword"> const</span>
00963 <span class="keyword"></span>{
00964    <span class="keywordflow">return</span> <a class="code" href="classSTMFDParams.html">STMFDParams</a>( m_lang, <a class="code" href="classServerTileMapFormatDesc.html#r10">m_nightMode</a>, <a class="code" href="classServerTileMapFormatDesc.html#r12">m_layers</a>, <a class="code" href="classServerTileMapFormatDesc.html#r11">m_drawSettingVersion</a>,
00965                        <a class="code" href="classServerTileMapFormatDesc.html#r13">m_imageSet</a>, <a class="code" href="classServerTileMapFormatDesc.html#a6">getServerPrefix</a>() );
00966 }
00967 
00968 <span class="keywordtype">bool</span>
<a name="l00969"></a><a class="code" href="structServerTileMapFormatDesc_1_1tileSettings__t.html#a0">00969</a> <span class="keyword">inline</span> <a class="code" href="structServerTileMapFormatDesc_1_1tileSettings__t.html#a0">ServerTileMapFormatDesc::tileSettings_t::operator == </a>(<span class="keyword">const</span> <a class="code" href="structServerTileMapFormatDesc_1_1tileSettings__t.html">tileSettings_t</a>&amp; other )<span class="keyword"> const </span>
00970 <span class="keyword"></span>{
00971    <span class="keywordflow">return</span> <a class="code" href="structServerTileMapFormatDesc_1_1tileSettings__t.html#o0">m_meters</a> == other.<a class="code" href="structServerTileMapFormatDesc_1_1tileSettings__t.html#o0">m_meters</a> &amp;&amp;
00972       <a class="code" href="structServerTileMapFormatDesc_1_1tileSettings__t.html#o1">m_pixels</a> == other.<a class="code" href="structServerTileMapFormatDesc_1_1tileSettings__t.html#o1">m_pixels</a> &amp;&amp;
00973       <a class="code" href="structServerTileMapFormatDesc_1_1tileSettings__t.html#o2">m_dpi</a> == other.<a class="code" href="structServerTileMapFormatDesc_1_1tileSettings__t.html#o2">m_dpi</a> &amp;&amp;
00974       fabs( <a class="code" href="structServerTileMapFormatDesc_1_1tileSettings__t.html#o3">m_zoomFactor</a> - other.<a class="code" href="structServerTileMapFormatDesc_1_1tileSettings__t.html#o3">m_zoomFactor</a> ) &lt; 0.001 &amp;&amp;
00975       fabs( <a class="code" href="structServerTileMapFormatDesc_1_1tileSettings__t.html#o4">m_exchangeTileFactor</a> - 
00976             other.<a class="code" href="structServerTileMapFormatDesc_1_1tileSettings__t.html#o4">m_exchangeTileFactor</a> ) &lt; 0.001 &amp;&amp;
00977       <a class="code" href="structServerTileMapFormatDesc_1_1tileSettings__t.html#o5">m_detailLevels</a> == other.<a class="code" href="structServerTileMapFormatDesc_1_1tileSettings__t.html#o5">m_detailLevels</a>;
00978 }
00979 
00980 
00981 <span class="preprocessor">#endif // SERVER_TILE_MAP_FORMAT_DESC_H</span>
00982 <span class="preprocessor"></span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Wed Jun 30 10:11:50 2010 for mc2 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.3.9.1 </small></address>
</body>
</html>
