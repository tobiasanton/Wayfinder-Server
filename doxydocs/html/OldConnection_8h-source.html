<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>mc2: OldConnection.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.9.1 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<div class="nav">
<a class="el" href="dir_000002.html">Server</a>&nbsp;/&nbsp;<a class="el" href="dir_000007.html">MapGen</a>&nbsp;/&nbsp;<a class="el" href="dir_000034.html">include</a></div>
<h1>OldConnection.h</h1><a href="OldConnection_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment">00001 <span class="comment">/*</span>
00002 <span class="comment">Copyright (c) 1999 - 2010, Vodafone Group Services Ltd</span>
00003 <span class="comment">All rights reserved.</span>
00004 <span class="comment"></span>
00005 <span class="comment">Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</span>
00006 <span class="comment"></span>
00007 <span class="comment">    * Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</span>
00008 <span class="comment">    * Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</span>
00009 <span class="comment">    * Neither the name of the Vodafone Group Services Ltd nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.</span>
00010 <span class="comment"></span>
00011 <span class="comment">THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span>
00012 <span class="comment">*/</span>
00013 
00014 <span class="preprocessor">#ifndef OLDCONNECTION_H</span>
00015 <span class="preprocessor"></span><span class="preprocessor">#define OLDCONNECTION_H</span>
00016 <span class="preprocessor"></span>
00017 <span class="preprocessor">#include "<a class="code" href="config_8h.html">config.h</a>"</span>
00018 
00019 <span class="preprocessor">#include "<a class="code" href="Vector_8h.html">Vector.h</a>"</span>
00020 
00021 <span class="preprocessor">#include "<a class="code" href="StringTable_8h.html">StringTable.h</a>"</span>
00022 <span class="preprocessor">#include "<a class="code" href="ItemTypes_8h.html">ItemTypes.h</a>"</span>
00023 
00024 <span class="preprocessor">#include &lt;math.h&gt;</span>
00025 
00026 <span class="keyword">class </span><a class="code" href="classOldGenericMap.html">OldGenericMap</a>;
00027 <span class="keyword">class </span><a class="code" href="classDataBuffer.html">DataBuffer</a>;
00028 <span class="keyword">class </span><a class="code" href="classGMSSignPost.html">GMSSignPost</a>;
00029 
<a name="l00037"></a><a class="code" href="classOldConnection.html">00037</a> <span class="keyword">class </span><a class="code" href="classOldConnection.html">OldConnection</a> {
00038    <span class="keyword">public</span>:
00039       
<a name="l00048"></a><a class="code" href="classOldConnection.html#z160_0">00048</a>          <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="Types_8h.html#a27">float64</a> PENALTY_ROAD_CLASS_0;
00049 
<a name="l00053"></a><a class="code" href="classOldConnection.html#z160_1">00053</a>          <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="Types_8h.html#a27">float64</a> PENALTY_ROAD_CLASS_1;
00054 
<a name="l00058"></a><a class="code" href="classOldConnection.html#z160_2">00058</a>          <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="Types_8h.html#a27">float64</a> PENALTY_ROAD_CLASS_2;
00059 
<a name="l00063"></a><a class="code" href="classOldConnection.html#z160_3">00063</a>          <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="Types_8h.html#a27">float64</a> PENALTY_ROAD_CLASS_3;
00064 
<a name="l00068"></a><a class="code" href="classOldConnection.html#z160_4">00068</a>          <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="Types_8h.html#a27">float64</a> PENALTY_ROAD_CLASS_4;
00069          
<a name="l00073"></a><a class="code" href="classOldConnection.html#z160_5">00073</a>          <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="Types_8h.html#a27">float64</a> PENALTY_ROAD_CLASS_4_30KMH;
00074 
<a name="l00078"></a><a class="code" href="classOldConnection.html#z160_6">00078</a>          <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="Types_8h.html#a27">float64</a> PENALTY_RAMP;
00079 
00081            
<a name="l00090"></a><a class="code" href="classOldConnection.html#z162_0">00090</a>          <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="Types_8h.html#a21">uint32</a> STANDSTILLTIME_U_TURN_MAJOR_ROAD;
00091 
<a name="l00095"></a><a class="code" href="classOldConnection.html#z162_1">00095</a>          <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="Types_8h.html#a21">uint32</a> STANDSTILLTIME_U_TURN_MINOR_ROAD;
00096 
<a name="l00100"></a><a class="code" href="classOldConnection.html#z162_2">00100</a>          <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="Types_8h.html#a21">uint32</a> STANDSTILLTIME_LEFTTURN_MAJOR_ROAD;
00101 
<a name="l00105"></a><a class="code" href="classOldConnection.html#z162_3">00105</a>          <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="Types_8h.html#a21">uint32</a> STANDSTILLTIME_LEFTTURN_MINOR_ROAD;
00106 
<a name="l00110"></a><a class="code" href="classOldConnection.html#z162_4">00110</a>          <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="Types_8h.html#a21">uint32</a> STANDSTILLTIME_RIGHTTURN_MAJOR_ROAD;
00111 
<a name="l00115"></a><a class="code" href="classOldConnection.html#z162_5">00115</a>          <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="Types_8h.html#a21">uint32</a> STANDSTILLTIME_RIGHTTURN_MINOR_ROAD;
00116          
<a name="l00120"></a><a class="code" href="classOldConnection.html#z162_6">00120</a>          <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="Types_8h.html#a21">uint32</a> STANDSTILLTIME_ENTER_ROUNDABOUT;
00121 
<a name="l00125"></a><a class="code" href="classOldConnection.html#z162_7">00125</a>          <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="Types_8h.html#a21">uint32</a> STANDSTILLTIME_ENTER_FERRY;
00126 
<a name="l00130"></a><a class="code" href="classOldConnection.html#z162_8">00130</a>          <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="Types_8h.html#a21">uint32</a> STANDSTILLTIME_EXIT_FERRY;
00131 
<a name="l00135"></a><a class="code" href="classOldConnection.html#z162_9">00135</a>          <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="Types_8h.html#a21">uint32</a> STANDSTILLTIME_CHANGE_FERRY;
00137 
<a name="l00141"></a><a class="code" href="classOldConnection.html#s0">00141</a>       <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="Types_8h.html#a21">uint32</a> MAX_NBR_VEHICLETYPES;
00142 
<a name="l00151"></a><a class="code" href="classOldConnection.html#z164_0">00151</a>          <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="Types_8h.html#a27">float64</a> NORMAL_SPEED_KMH;
00152 
<a name="l00156"></a><a class="code" href="classOldConnection.html#z164_1">00156</a>          <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="Types_8h.html#a27">float64</a> NORMAL_SPEED_MS;
00158 
<a name="l00163"></a><a class="code" href="classOldConnection.html#s1">00163</a>       <span class="keyword">static</span> <a class="code" href="Types_8h.html#a21">uint32</a> tollRoadTimeDefaultPenalty_s;
00164 
<a name="l00169"></a><a class="code" href="classOldConnection.html#s2">00169</a>       <span class="keyword">static</span> <a class="code" href="Types_8h.html#a21">uint32</a> tollRoadDistanceDefaultPenalty_m;
00170 
<a name="l00175"></a><a class="code" href="classOldConnection.html#s3">00175</a>       <span class="keyword">static</span> <span class="keywordtype">float</span> highwayDefaultPenaltyFactor;
00176          
<a name="l00182"></a><a class="code" href="classOldConnection.html#a0">00182</a>       <span class="keyword">inline</span> <a class="code" href="classOldConnection.html">OldConnection</a>() { };
00183 
00187       <a class="code" href="classOldConnection.html">OldConnection</a>(uint32 fromID);
00188       
00194       <a class="code" href="classOldConnection.html">OldConnection</a>(<a class="code" href="classDataBuffer.html">DataBuffer</a>* dataBuffer);
00195 
00200       <span class="keywordtype">void</span> createFromDataBuffer(<a class="code" href="classDataBuffer.html">DataBuffer</a>* dataBuffer);
00201 
00208       <span class="keyword">static</span> <a class="code" href="classOldConnection.html">OldConnection</a>* createNewConnection(<a class="code" href="classDataBuffer.html">DataBuffer</a>* dataBuffer,
00209                                                 <a class="code" href="classOldGenericMap.html">OldGenericMap</a>* theMap);
00210       
00211       
<a name="l00215"></a><a class="code" href="classOldConnection.html#a4">00215</a>       <span class="keyword">inline</span> ~<a class="code" href="classOldConnection.html">OldConnection</a>() {
00216          <a class="code" href="MC2Logging_8h.html#a6">mc2dbg8</a> &lt;&lt; <span class="stringliteral">"~OldConnection"</span> &lt;&lt; endl;
00217       }
00218 
00223       <span class="keywordtype">bool</span> <a class="code" href="namespaceTileFeatureScaleRange.html#a3">save</a>(<a class="code" href="classDataBuffer.html">DataBuffer</a>* dataBuffer);
00224 
00229       <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a21">uint32</a> getConnectFromNode() <span class="keyword">const</span>;
00230 
00235       <span class="keyword">inline</span> <span class="keywordtype">void</span> setTurnDirection(ItemTypes::turndirection_t x);
00236 
00241       <span class="keywordtype">void</span> printMidFile(ofstream&amp; midFile);
00242       
00248       <span class="keyword">inline</span> ItemTypes::turndirection_t getTurnDirection() <span class="keyword">const</span>;
00249 
00255       <span class="keyword">inline</span> StringTable::stringCode getTurnStringCode() <span class="keyword">const</span>;
00256 
00260       <span class="keywordtype">void</span> printTurnDirection();
00261 
00266       <span class="keywordtype">void</span> setCrossingKind(ItemTypes::crossingkind_t x);
00267 
00271       <span class="keyword">inline</span> ItemTypes::crossingkind_t getCrossingKind() <span class="keyword">const</span>;
00272 
00276       <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a21">uint32</a> getVehicleRestrictions() <span class="keyword">const</span>;
00277 
00281       <span class="keywordtype">void</span> setVehicleRestrictions( uint32 vehicleRestriction );
00282 
00286       <span class="keywordtype">void</span> resetVehicleRestrictions();
00287 
00292       <span class="keywordtype">void</span> addVehicleRestrictionsAll();
00293 
00300       <span class="keyword">inline</span> <span class="keywordtype">bool</span> isVehicleAllowed(ItemTypes::vehicle_t vehicle) <span class="keyword">const</span>;
00301 
00306       <span class="keywordtype">void</span> addVehicleRestrictions(uint32 t);
00307 
00312       <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a25">byte</a> getExitCount() <span class="keyword">const</span>;
00313 
00318       <span class="keywordtype">void</span> setExitCount(byte exitCount);
00319 
00324       <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a21">uint32</a> getFromNode() <span class="keyword">const</span>;
00325 
00330       <span class="keywordtype">void</span> setFromNode( uint32 fromNodeID );
00331 
00337       <a class="code" href="Types_8h.html#a25">byte</a> getNbrSignPost(<span class="keyword">const</span> <a class="code" href="classOldGenericMap.html">OldGenericMap</a>&amp; theMap,
00338                           uint32 toNode ) <span class="keyword">const</span>;
00339 
00348       <span class="keyword">const</span> <a class="code" href="classvector.html">vector&lt;GMSSignPost*&gt;</a>&amp; getSignPosts( <span class="keyword">const</span> <a class="code" href="classOldGenericMap.html">OldGenericMap</a>&amp; theMap, 
00349                                                 uint32 toNodeID ) <span class="keyword">const</span>;
00350       
00364       <a class="code" href="Types_8h.html#a27">float64</a> getPenaltyFactor(byte roadClass, 
00365                                <span class="keywordtype">bool</span> isRamp = <span class="keyword">false</span>,
00366                                byte speedLimit = 50);
00367       
00372       <a class="code" href="Types_8h.html#a21">uint32</a> getMemoryUsage(<span class="keywordtype">void</span>) <span class="keyword">const</span>;
00373 
00382       <span class="keyword">inline</span> <span class="keywordtype">bool</span> isMultiConnection() <span class="keyword">const</span>;
00383       
00398       <span class="keywordtype">bool</span> updateConnAttributesFromConn(<a class="code" href="classOldConnection.html">OldConnection</a>* otherConn);
00399 
00401 
00407       <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">double</span> timeCostToSec(<span class="keywordtype">double</span> timeCost);
00408 
00416       <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">double</span> secToTimeCost(<span class="keywordtype">double</span> seconds);
00417 
00424       <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">double</span> distCostToMeters(<span class="keywordtype">double</span> distCost);
00425 
00432       <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">double</span> metersToDistCost(<span class="keywordtype">double</span> meters);
00433 
00440       <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a21">uint32</a> timeCostToSec(uint32 timeCost);
00441 
00449       <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a21">uint32</a> secToTimeCost(uint32 seconds);
00450 
00457       <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a21">uint32</a> distCostToMeters(uint32 distCost);
00458 
00465       <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a21">uint32</a> metersToDistCost(uint32 meters);      
00467    
00468 
00473       <span class="keywordtype">bool</span> getRestrictionExplicitlySet() <span class="keyword">const</span>;
00474       <span class="keywordtype">void</span> setRestrictinoExplicitlySet(<span class="keywordtype">bool</span> value);
00476 
00477    <span class="keyword">protected</span>:
00478      
<a name="l00482"></a><a class="code" href="classOldConnection.html#p0">00482</a>       <a class="code" href="Types_8h.html#a21">uint32</a> m_vehicleRestriction;
00483 
<a name="l00487"></a><a class="code" href="classOldConnection.html#p1">00487</a>       <a class="code" href="Types_8h.html#a21">uint32</a> m_connectFromNodeIndex;
00488 
<a name="l00492"></a><a class="code" href="classOldConnection.html#p2">00492</a>       ItemTypes::turndirection_t m_turnDirection : 8;
00493 
<a name="l00497"></a><a class="code" href="classOldConnection.html#p3">00497</a>       ItemTypes::crossingkind_t m_crossingKind : 8;
00498 
<a name="l00512"></a><a class="code" href="classOldConnection.html#p4">00512</a>       <a class="code" href="Types_8h.html#a25">byte</a> m_exitCount : 8;
00513 
<a name="l00521"></a><a class="code" href="classOldConnection.html#p5">00521</a>       <span class="keywordtype">bool</span> m_restrictionsExplicitlySet;
00522 
00523 };
00524 
00525 
00526 <span class="keyword">inline</span> ItemTypes::turndirection_t 
<a name="l00527"></a><a class="code" href="classOldConnection.html#a9">00527</a> <a class="code" href="classOldConnection.html#a9">OldConnection::getTurnDirection</a>()<span class="keyword"> const</span>
00528 <span class="keyword"></span>{
00529    <span class="keywordflow">return</span> m_turnDirection;
00530 }
00531 
00532 <span class="keyword">inline</span> StringTable::stringCode 
<a name="l00533"></a><a class="code" href="classOldConnection.html#a10">00533</a> <a class="code" href="classOldConnection.html#a10">OldConnection::getTurnStringCode</a>()<span class="keyword"> const</span>
00534 <span class="keyword"></span>{
00535    <span class="keywordflow">switch</span> (m_turnDirection) {
00536       <span class="keywordflow">case</span> ItemTypes::UNDEFINED :
00537          <span class="keywordflow">return</span> (StringTable::UNDEFINED_TURN);
00538          <span class="keywordflow">break</span>;
00539       <span class="keywordflow">case</span> ItemTypes::LEFT :
00540          <span class="keywordflow">return</span> (StringTable::LEFT_TURN);
00541          <span class="keywordflow">break</span>;
00542       <span class="keywordflow">case</span> ItemTypes::AHEAD :
00543          <span class="keywordflow">return</span> (StringTable::AHEAD_TURN);
00544          <span class="keywordflow">break</span>;
00545       <span class="keywordflow">case</span> ItemTypes::RIGHT :
00546          <span class="keywordflow">return</span> (StringTable::RIGHT_TURN);
00547          <span class="keywordflow">break</span>;
00548       <span class="keywordflow">case</span> ItemTypes::UTURN :
00549          <span class="keywordflow">return</span> (StringTable::U_TURN);
00550          <span class="keywordflow">break</span>;
00551       <span class="keywordflow">case</span> ItemTypes::FOLLOWROAD :
00552          <span class="keywordflow">return</span> (StringTable::FOLLOWROAD_TURN);
00553          <span class="keywordflow">break</span>;
00554       <span class="keywordflow">case</span> ItemTypes::ENTER_ROUNDABOUT :
00555          <span class="keywordflow">return</span> (StringTable::ENTER_ROUNDABOUT_TURN);
00556          <span class="keywordflow">break</span>;
00557       <span class="keywordflow">case</span> ItemTypes::EXIT_ROUNDABOUT :
00558          <span class="keywordflow">return</span> (StringTable::EXIT_ROUNDABOUT_TURN);
00559          <span class="keywordflow">break</span>;
00560       <span class="keywordflow">case</span> ItemTypes::RIGHT_ROUNDABOUT :
00561          <span class="keywordflow">return</span> (StringTable::RIGHT_ROUNDABOUT_TURN);
00562          <span class="keywordflow">break</span>;
00563       <span class="keywordflow">case</span> ItemTypes::LEFT_ROUNDABOUT :
00564          <span class="keywordflow">return</span> (StringTable::LEFT_ROUNDABOUT_TURN);
00565          <span class="keywordflow">break</span>;
00566       <span class="keywordflow">case</span> ItemTypes::AHEAD_ROUNDABOUT :
00567          <span class="keywordflow">return</span> (StringTable::AHEAD_ROUNDABOUT_TURN);
00568          <span class="keywordflow">break</span>;
00569       <span class="keywordflow">case</span> ItemTypes::ON_RAMP :
00570          <span class="keywordflow">return</span> (StringTable::ON_RAMP_TURN);
00571          <span class="keywordflow">break</span>;
00572       <span class="keywordflow">case</span> ItemTypes::OFF_RAMP :
00573          <span class="keywordflow">return</span> (StringTable::OFF_RAMP_TURN);
00574          <span class="keywordflow">break</span>;
00575       <span class="keywordflow">case</span> ItemTypes::OFF_RAMP_LEFT :
00576          <span class="keywordflow">return</span> (StringTable::LEFT_OFF_RAMP_TURN);
00577          <span class="keywordflow">break</span>;
00578       <span class="keywordflow">case</span> ItemTypes::OFF_RAMP_RIGHT :
00579          <span class="keywordflow">return</span> (StringTable::RIGHT_OFF_RAMP_TURN);
00580          <span class="keywordflow">break</span>;
00581       <span class="keywordflow">case</span> ItemTypes::ENTER_BUS:
00582          <span class="keywordflow">return</span> (StringTable::ENTER_BUS_TURN);
00583          <span class="keywordflow">break</span>;
00584       <span class="keywordflow">case</span> ItemTypes::EXIT_BUS :
00585          <span class="keywordflow">return</span> (StringTable::EXIT_BUS_TURN);
00586          <span class="keywordflow">break</span>;
00587       <span class="keywordflow">case</span> ItemTypes::CHANGE_BUS :
00588          <span class="keywordflow">return</span> (StringTable::CHANGE_BUS_TURN);
00589          <span class="keywordflow">break</span>;
00590       <span class="keywordflow">case</span> ItemTypes::KEEP_LEFT :
00591          <span class="keywordflow">return</span> (StringTable::KEEP_LEFT);
00592          <span class="keywordflow">break</span>;
00593       <span class="keywordflow">case</span> ItemTypes::KEEP_RIGHT :
00594          <span class="keywordflow">return</span> (StringTable::KEEP_RIGHT);
00595          <span class="keywordflow">break</span>;   
00596       <span class="keywordflow">case</span> ItemTypes::ENTER_FERRY:
00597          <span class="keywordflow">return</span> (StringTable::ENTER_FERRY_TURN);
00598          <span class="keywordflow">break</span>;
00599       <span class="keywordflow">case</span> ItemTypes::EXIT_FERRY :
00600          <span class="keywordflow">return</span> (StringTable::EXIT_FERRY_TURN);
00601          <span class="keywordflow">break</span>;
00602       <span class="keywordflow">case</span> ItemTypes::CHANGE_FERRY :
00603          <span class="keywordflow">return</span> (StringTable::CHANGE_FERRY_TURN);
00604          <span class="keywordflow">break</span>;
00605       <span class="keywordflow">case</span> ItemTypes::MULTI_CONNECTION_TURN :
00606          <span class="keywordflow">return</span> (StringTable::NOSTRING);
00607          <span class="keywordflow">break</span>;
00608    }
00609    <span class="keywordflow">return</span> (StringTable::NOSTRING);  <span class="comment">// To make compiler happy...</span>
00610 }
00611 
00612 <span class="keyword">inline</span> ItemTypes::crossingkind_t 
<a name="l00613"></a><a class="code" href="classOldConnection.html#a13">00613</a> <a class="code" href="classOldConnection.html#a13">OldConnection::getCrossingKind</a>()<span class="keyword"> const</span>
00614 <span class="keyword"></span>{
00615    <span class="keywordflow">return</span> m_crossingKind;
00616 } 
00617 
00618 <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a21">uint32</a> 
<a name="l00619"></a><a class="code" href="classOldConnection.html#a14">00619</a> <a class="code" href="classOldConnection.html#a14">OldConnection::getVehicleRestrictions</a>()<span class="keyword"> const</span>
00620 <span class="keyword"></span>{
00621    <span class="keywordflow">return</span> m_vehicleRestriction;
00622 }
00623 
00624 <span class="keyword">inline</span> <span class="keywordtype">bool</span> 
<a name="l00625"></a><a class="code" href="classOldConnection.html#a18">00625</a> <a class="code" href="classOldConnection.html#a18">OldConnection::isVehicleAllowed</a>(ItemTypes::vehicle_t vehicle)<span class="keyword"> const</span>
00626 <span class="keyword"></span>{
00627    <a class="code" href="Types_8h.html#a21">uint32</a> mask = <a class="code" href="Types_8h.html#a21">uint32</a>(vehicle);
00628    <span class="keywordflow">return</span> ( (mask &amp; m_vehicleRestriction) != 0);
00629 }
00630 
00631 <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a25">byte</a> 
<a name="l00632"></a><a class="code" href="classOldConnection.html#a20">00632</a> <a class="code" href="classOldConnection.html#a20">OldConnection::getExitCount</a>()<span class="keyword"> const</span>
00633 <span class="keyword"></span>{
00634    <span class="keywordflow">return</span> m_exitCount;
00635 }
00636 
00637 <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a21">uint32</a> 
<a name="l00638"></a><a class="code" href="classOldConnection.html#a6">00638</a> <a class="code" href="classOldConnection.html#a6">OldConnection::getConnectFromNode</a>()<span class="keyword"> const</span>
00639 <span class="keyword"></span>{
00640    <span class="keywordflow">return</span> m_connectFromNodeIndex;
00641 }
00642 
00643 <span class="keyword">inline</span> <span class="keywordtype">void</span> 
<a name="l00644"></a><a class="code" href="classOldConnection.html#a7">00644</a> <a class="code" href="classOldConnection.html#a7">OldConnection::setTurnDirection</a>(ItemTypes::turndirection_t x) 
00645 {
00646    <a class="code" href="classOldConnection.html#p2">m_turnDirection</a> = x;
00647 }
00648 
00649 
00650 <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a21">uint32</a> 
<a name="l00651"></a><a class="code" href="classOldConnection.html#a22">00651</a> <a class="code" href="classOldConnection.html#a22">OldConnection::getFromNode</a>()<span class="keyword"> const</span>
00652 <span class="keyword"></span>{
00653    <span class="keywordflow">return</span> m_connectFromNodeIndex;
00654 }
00655 
00656 
00657 <span class="keyword">inline</span> <span class="keywordtype">double</span>
<a name="l00658"></a><a class="code" href="classOldConnection.html#z165_0">00658</a> <a class="code" href="classOldConnection.html#z165_0">OldConnection::timeCostToSec</a>(<span class="keywordtype">double</span> timeCost)
00659 {
00660    <span class="keywordflow">return</span> double(timeCost) / double(<a class="code" href="classOldConnection.html#z164_1">OldConnection::NORMAL_SPEED_MS</a>);
00661 }
00662 
00663 <span class="keyword">inline</span> <span class="keywordtype">double</span>
<a name="l00664"></a><a class="code" href="classOldConnection.html#z165_1">00664</a> <a class="code" href="classOldConnection.html#z165_1">OldConnection::secToTimeCost</a>(<span class="keywordtype">double</span> seconds)
00665 {
00666    <span class="keywordflow">return</span> double(seconds) * OldConnection::NORMAL_SPEED_MS;
00667 
00668 }
00669 
00670 <span class="keyword">inline</span> <span class="keywordtype">double</span>
<a name="l00671"></a><a class="code" href="classOldConnection.html#z165_2">00671</a> <a class="code" href="classOldConnection.html#z165_2">OldConnection::distCostToMeters</a>(<span class="keywordtype">double</span> distCost)
00672 {
00673    <span class="keywordflow">return</span> distCost;
00674 }
00675 
00676 <span class="keyword">inline</span> <span class="keywordtype">double</span>
<a name="l00677"></a><a class="code" href="classOldConnection.html#z165_3">00677</a> <a class="code" href="classOldConnection.html#z165_3">OldConnection::metersToDistCost</a>(<span class="keywordtype">double</span> meters)
00678 {
00679    <span class="keywordflow">return</span> meters;
00680 }
00681 
00682 <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a21">uint32</a>
<a name="l00683"></a><a class="code" href="classOldConnection.html#z165_4">00683</a> <a class="code" href="classOldConnection.html#z165_0">OldConnection::timeCostToSec</a>(uint32 timeCost)
00684 {
00685    <span class="keywordflow">return</span> <a class="code" href="Types_8h.html#a21">uint32</a>(rint(<a class="code" href="classOldConnection.html#z165_0">timeCostToSec</a>(<span class="keywordtype">double</span>(timeCost))));
00686 }
00687 
00688 <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a21">uint32</a>
<a name="l00689"></a><a class="code" href="classOldConnection.html#z165_5">00689</a> <a class="code" href="classOldConnection.html#z165_1">OldConnection::secToTimeCost</a>(uint32 seconds)
00690 {
00691    <span class="keywordflow">return</span> <a class="code" href="Types_8h.html#a21">uint32</a>(rint(<a class="code" href="classOldConnection.html#z165_1">secToTimeCost</a>(<span class="keywordtype">double</span>(seconds))));
00692 }
00693 
00694 <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a21">uint32</a>
<a name="l00695"></a><a class="code" href="classOldConnection.html#z165_6">00695</a> <a class="code" href="classOldConnection.html#z165_2">OldConnection::distCostToMeters</a>(uint32 distCost)
00696 {
00697    <span class="keywordflow">return</span> distCost;
00698 }
00699 
00700 <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a21">uint32</a>
<a name="l00701"></a><a class="code" href="classOldConnection.html#z165_7">00701</a> <a class="code" href="classOldConnection.html#z165_3">OldConnection::metersToDistCost</a>(uint32 meters)
00702 {
00703    <span class="keywordflow">return</span> meters;
00704 }
00705 
00706 <span class="keyword">inline</span> <span class="keywordtype">bool</span>
<a name="l00707"></a><a class="code" href="classOldConnection.html#a28">00707</a> <a class="code" href="classOldConnection.html#a28">OldConnection::isMultiConnection</a>()<span class="keyword"> const</span>
00708 <span class="keyword"></span>{
00709    <span class="keywordflow">return</span>  ( <a class="code" href="classOldConnection.html#p2">m_turnDirection</a> == ItemTypes::MULTI_CONNECTION_TURN );
00710 }
00711 
00712 <span class="preprocessor">#endif</span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Wed Jun 30 10:11:48 2010 for mc2 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.3.9.1 </small></address>
</body>
</html>
