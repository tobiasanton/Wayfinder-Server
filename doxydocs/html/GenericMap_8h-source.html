<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>mc2: GenericMap.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.9.1 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<div class="nav">
<a class="el" href="dir_000002.html">Server</a>&nbsp;/&nbsp;<a class="el" href="dir_000005.html">Shared</a>&nbsp;/&nbsp;<a class="el" href="dir_000006.html">include</a></div>
<h1>GenericMap.h</h1><a href="GenericMap_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment">00001 <span class="comment">/*</span>
00002 <span class="comment">Copyright (c) 1999 - 2010, Vodafone Group Services Ltd</span>
00003 <span class="comment">All rights reserved.</span>
00004 <span class="comment"></span>
00005 <span class="comment">Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</span>
00006 <span class="comment"></span>
00007 <span class="comment">    * Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</span>
00008 <span class="comment">    * Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</span>
00009 <span class="comment">    * Neither the name of the Vodafone Group Services Ltd nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.</span>
00010 <span class="comment"></span>
00011 <span class="comment">THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span>
00012 <span class="comment">*/</span>
00013 
00014 <span class="preprocessor">#ifndef GENERICMAP_H</span>
00015 <span class="preprocessor"></span><span class="preprocessor">#define GENERICMAP_H</span>
00016 <span class="preprocessor"></span>
00017 <span class="preprocessor">#include "<a class="code" href="config_8h.html">config.h</a>"</span>
00018 
00019 <span class="preprocessor">#include &lt;set&gt;</span>
00020 <span class="preprocessor">#include &lt;list&gt;</span>
00021 <span class="preprocessor">#include &lt;map&gt;</span>
00022 <span class="preprocessor">#include &lt;fstream&gt;</span>
00023 
00024 <span class="preprocessor">#include "<a class="code" href="ItemNames_8h.html">ItemNames.h</a>"</span>
00025 <span class="preprocessor">#include "<a class="code" href="Item_8h.html">Item.h</a>"</span>
00026 <span class="preprocessor">#include "<a class="code" href="GenericMapHeader_8h.html">GenericMapHeader.h</a>"</span>
00027 <span class="preprocessor">#include "<a class="code" href="IDTranslationTable_8h.html">IDTranslationTable.h</a>"</span>
00028 <span class="preprocessor">#include "<a class="code" href="UserEnums_8h.html">UserEnums.h</a>"</span>
00029 <span class="preprocessor">#include "<a class="code" href="UserRightsItemTable_8h.html">UserRightsItemTable.h</a>"</span>
00030 <span class="preprocessor">#include "<a class="code" href="SelectableDataTable_8h.html">SelectableDataTable.h</a>"</span>
00031 <span class="preprocessor">#include "<a class="code" href="SimpleArrayObject_8h.html">SimpleArrayObject.h</a>"</span>
00032 <span class="preprocessor">#include "<a class="code" href="ScopedArray_8h.html">ScopedArray.h</a>"</span>
00033 <span class="preprocessor">#include "<a class="code" href="Connection_8h.html">Connection.h</a>"</span>
00034 <span class="preprocessor">#include "<a class="code" href="MC2Coordinate_8h.html">MC2Coordinate.h</a>"</span>
00035 <span class="preprocessor">#include "<a class="code" href="ExpandStringLane_8h.html">ExpandStringLane.h</a>"</span>
00036 <span class="preprocessor">#include "<a class="code" href="MC2MapAllocator_8h.html">MC2MapAllocator.h</a>"</span>
00037 <span class="preprocessor">#include "<a class="code" href="Array_8h.html">Array.h</a>"</span>
00038 <span class="preprocessor">#include "<a class="code" href="ValuePair_8h.html">ValuePair.h</a>"</span>
00039 <span class="preprocessor">#include "<a class="code" href="SignPost_8h.html">SignPost.h</a>"</span>
00040 <span class="preprocessor">#include "<a class="code" href="MapBits_8h.html">MapBits.h</a>"</span>
00041 
00042 <span class="preprocessor">#include "<a class="code" href="MC2Exception_8h.html">MC2Exception.h</a>"</span>
00043 <span class="preprocessor">#include "<a class="code" href="NotCopyable_8h.html">NotCopyable.h</a>"</span>
00044 
00045 <span class="comment">// XXX: This is the maximum size of a zoomlevel of a map, </span>
00046 <span class="comment">//      this is an ugly way</span>
00047 <span class="comment">//      to handle this. Should/will be replaced with the </span>
00048 <span class="comment">//      totalMapSize-attribute when this is implemented</span>
<a name="l00049"></a><a class="code" href="GenericMap_8h.html#a0">00049</a> <span class="preprocessor">#define MAX_BUFFER_SIZE 150000000</span>
00050 <span class="preprocessor"></span><span class="comment">// XXX: Max size of a zoomlevel of a super overview map </span>
00051 <span class="comment">// (0x90000000 or greater)</span>
<a name="l00052"></a><a class="code" href="GenericMap_8h.html#a1">00052</a> <span class="preprocessor">#define MAX_BUFFER_SIZE_SUPER_OVERVIEW 450000000</span>
00053 <span class="preprocessor"></span><span class="comment">// Keep in sync with define in OldGenericMap</span>
00054 
00055 <span class="comment">// Forward declarations.</span>
00056 <span class="keyword">class </span><a class="code" href="classDataBuffer.html">DataBuffer</a>;
00057 <span class="keyword">class </span><a class="code" href="classMapHashTable.html">MapHashTable</a>;
00058 <span class="keyword">class </span><a class="code" href="classAirportItem.html">AirportItem</a>;
00059 <span class="keyword">class </span><a class="code" href="classAircraftRoadItem.html">AircraftRoadItem</a>;
00060 <span class="keyword">class </span><a class="code" href="classBuildingItem.html">BuildingItem</a>;
00061 <span class="keyword">class </span><a class="code" href="classBuiltUpAreaItem.html">BuiltUpAreaItem</a>;
00062 <span class="keyword">class </span><a class="code" href="classBusRouteItem.html">BusRouteItem</a>;
00063 <span class="keyword">class </span><a class="code" href="classCategoryItem.html">CategoryItem</a>;
00064 <span class="keyword">class </span><a class="code" href="classCityPartItem.html">CityPartItem</a>;
00065 <span class="keyword">class </span><a class="code" href="classConnection.html">Connection</a>;
00066 <span class="keyword">class </span><a class="code" href="classFerryItem.html">FerryItem</a>;
00067 <span class="keyword">class </span><a class="code" href="classForestItem.html">ForestItem</a>;
00068 <span class="keyword">class </span><a class="code" href="classGfxData.html">GfxData</a>;
00069 <span class="keyword">class </span><a class="code" href="classGfxDataFull.html">GfxDataFull</a>;
00070 <span class="keyword">class </span><a class="code" href="classGroupItem.html">GroupItem</a>;
00071 <span class="keyword">class </span><a class="code" href="classIndividualBuildingItem.html">IndividualBuildingItem</a>;
00072 <span class="keyword">class </span><a class="code" href="classIslandItem.html">IslandItem</a>;
00073 <span class="keyword">class </span><a class="code" href="classMunicipalItem.html">MunicipalItem</a>;
00074 <span class="keyword">class </span><a class="code" href="classNode.html">Node</a>;
00075 <span class="keyword">class </span><a class="code" href="classNullItem.html">NullItem</a>;
00076 <span class="keyword">class </span><a class="code" href="classParkItem.html">ParkItem</a>;
00077 <span class="keyword">class </span><a class="code" href="classPedestrianAreaItem.html">PedestrianAreaItem</a>;
00078 <span class="keyword">class </span><a class="code" href="classPointOfInterestItem.html">PointOfInterestItem</a>;
00079 <span class="keyword">class </span><a class="code" href="classRailwayItem.html">RailwayItem</a>;
00080 <span class="keyword">class </span><a class="code" href="classStreetItem.html">StreetItem</a>;
00081 <span class="keyword">class </span><a class="code" href="classStreetSegmentItem.html">StreetSegmentItem</a>;
00082 <span class="keyword">class </span><a class="code" href="classSubwayLineItem.html">SubwayLineItem</a>;
00083 <span class="keyword">class </span><a class="code" href="classUserRightsMapInfo.html">UserRightsMapInfo</a>;
00084 <span class="keyword">class </span><a class="code" href="classWaterItem.html">WaterItem</a>;
00085 <span class="keyword">class </span><a class="code" href="classZipCodeItem.html">ZipCodeItem</a>;
00086 <span class="keyword">class </span><a class="code" href="classCartographicItem.html">CartographicItem</a>;
00087 <span class="keyword">class </span><a class="code" href="classZipAreaItem.html">ZipAreaItem</a>;
00088 <span class="keyword">class </span><a class="code" href="classGfxDataFactory.html">GfxDataFactory</a>;
00089 <span class="keyword">class </span><a class="code" href="classTileMapCoord.html">TileMapCoord</a>;
00090 <span class="keyword">class </span><a class="code" href="classStreetNbr.html">StreetNbr</a>;
00091 <span class="keyword">class </span><a class="code" href="classPOIInfo.html">POIInfo</a>;
00092 <span class="keyword">class </span><a class="code" href="classMC2BoundingBox.html">MC2BoundingBox</a>;
00093 
00094 <span class="keyword">class </span><a class="code" href="classBoundrySegmentsVector.html">BoundrySegmentsVector</a>;
00095 
00096 <span class="keyword">class </span><a class="code" href="classAbstractMC2Allocator.html">AbstractMC2Allocator</a>;
00097 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt; <span class="keyword">class </span><a class="code" href="classMC2ArrayAllocator.html">MC2ArrayAllocator</a>;
00098 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt; <span class="keyword">class </span><a class="code" href="classMC2Allocator.html">MC2Allocator</a>;
00099 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt; <span class="keyword">class </span><a class="code" href="classItemAllocator.html">ItemAllocator</a>;
00100 
00101 <span class="keyword">struct </span><a class="code" href="structDataBufferMapObject.html">DataBufferMapObject</a>;
00102 
00103 <span class="keyword">class </span><a class="code" href="classItemIdentifier.html">ItemIdentifier</a>;
00104 
<a name="l00108"></a><a class="code" href="classGenericMapError.html">00108</a> <span class="keyword">class </span><a class="code" href="classGenericMapError.html">GenericMapError</a>: <span class="keyword">public</span> <a class="code" href="classMC2Exception.html">MC2Exception</a> {
00109 <span class="keyword">public</span>:
<a name="l00111"></a><a class="code" href="classGenericMapError.html#a0">00111</a>    <a class="code" href="classGenericMapError.html#a0">GenericMapError</a>( <span class="keyword">const</span> <a class="code" href="classMC2String.html">MC2String</a>&amp; msg ):
00112       <a class="code" href="classMC2Exception.html">MC2Exception</a>( <a class="code" href="classMC2String.html">MC2String</a>(<span class="stringliteral">"[GenericMap]"</span>) + msg ) {
00113    }
00114 };
00115 
<a name="l00122"></a><a class="code" href="classGenericMap.html">00122</a> <span class="keyword">class </span><a class="code" href="classGenericMap.html">GenericMap</a> : <span class="keyword">public</span> <a class="code" href="classGenericMapHeader.html">GenericMapHeader</a>, <span class="keyword">private</span> <a class="code" href="classNotCopyable.html">NotCopyable</a> {
<a name="l00131"></a><a class="code" href="classGenericMap.html#z550_0">00131</a>    <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classMapHandler.html">MapHandler</a>;
<a name="l00132"></a><a class="code" href="classGenericMap.html#z550_1">00132</a>    <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classMapReader.html">MapReader</a>;
<a name="l00133"></a><a class="code" href="classGenericMap.html#z550_2">00133</a>    <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classRouteMapGenerator.html">RouteMapGenerator</a>;
<a name="l00134"></a><a class="code" href="classGenericMap.html#z550_3">00134</a>    <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classGenericMap.html#z550_3">WriteableRouteMultiConnTable</a>;
<a name="l00135"></a><a class="code" href="classGenericMap.html#z550_4">00135</a>    <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classStringTableMapGenerator.html">StringTableMapGenerator</a>;
<a name="l00136"></a><a class="code" href="classGenericMap.html#z550_5">00136</a>    <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classExtraDataUtility.html">ExtraDataUtility</a>;
<a name="l00137"></a><a class="code" href="classGenericMap.html#z550_6">00137</a>    <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classItem.html">Item</a>;
<a name="l00138"></a><a class="code" href="classGenericMap.html#z550_7">00138</a>    <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classBoundrySegment.html">BoundrySegment</a>;
<a name="l00139"></a><a class="code" href="classGenericMap.html#z550_8">00139</a>    <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classBoundrySegmentsVector.html">BoundrySegmentsVector</a>;
<a name="l00140"></a><a class="code" href="classGenericMap.html#z550_9">00140</a>    <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classGenericMap.html#z550_9">ItemInfoDialog</a>;
<a name="l00141"></a><a class="code" href="classGenericMap.html#z550_10">00141</a>    <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classMapGenUtil.html">MapGenUtil</a>;
<a name="l00142"></a><a class="code" href="classGenericMap.html#z550_11">00142</a>    <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classM3Creator.html">M3Creator</a>;
00144 
00145 <span class="keyword">public</span>:
<a name="l00146"></a><a class="code" href="classGenericMap.html#w0">00146</a>    <span class="keyword">typedef</span> <a class="code" href="classSelectableDataTable.html">SelectableDataTable&lt;StreetNbr&gt;</a> <a class="code" href="classSelectableDataTable.html">streetSideTable_t</a>;
<a name="l00147"></a><a class="code" href="classGenericMap.html#w1">00147</a>    <span class="keyword">typedef</span> <a class="code" href="classvector.html">vector&lt;uint16&gt;</a> <a class="code" href="classvector.html">Categories</a>;
00148 
00153    <span class="keyword">explicit</span> <a class="code" href="classGenericMap.html#b0">GenericMap</a>(uint32 <span class="keywordtype">id</span>);
00154 
00163    <span class="keyword">static</span> <a class="code" href="classGenericMap.html">GenericMap</a>* <a class="code" href="classGenericMap.html#e0">createMap</a>(uint32 <span class="keywordtype">id</span>, <span class="keyword">const</span> <span class="keywordtype">char</span>* path = NULL);
00164 
00172    <span class="keyword">static</span> <a class="code" href="classGenericMap.html">GenericMap</a>* <a class="code" href="classGenericMap.html#e0">createMap</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* mcmName);
00173 
00174 
00179    <a class="code" href="Types_8h.html#a21">uint32</a> <a class="code" href="classGenericMap.html#a1">getApproxMapSize</a>() <span class="keyword">const</span>;
00180 
00187    <a class="code" href="Types_8h.html#a21">uint32</a> <a class="code" href="classGenericMap.html#a2">getCityPartID</a>(<span class="keyword">const</span> <a class="code" href="classItem.html">Item</a>* item) <span class="keyword">const</span>;
00188 
00189 
00198    <span class="keywordtype">bool</span> <a class="code" href="classGenericMap.html#a3">itemUsedAsGroup</a>( <a class="code" href="classItem.html">Item</a>* group ) <span class="keyword">const</span>;
00199 
00200       
00207    <a class="code" href="classvector.html">vector&lt;uint32&gt;</a> <a class="code" href="classGenericMap.html#a71">getItemsInGroup</a>(uint32 groupID) <span class="keyword">const</span>;
00208 
00225    <a class="code" href="Types_8h.html#a21">uint32</a> <a class="code" href="classGenericMap.html#a5">polygonHasItemsInside</a>(<a class="code" href="classItem.html">Item</a>* polyItem, 
00226                                 ItemTypes::itemType 
00227                                 typeOfItemsToLookFor = 
00228                                 ItemTypes::numberOfItemTypes);
00229  
00246    <a class="code" href="Types_8h.html#a21">uint32</a> <a class="code" href="classGenericMap.html#z551_0">getRegionID</a>(<span class="keyword">const</span> <a class="code" href="classItem.html">Item</a>* item, 
00247                       ItemTypes::itemType type) <span class="keyword">const</span>;
00248 
00261    <a class="code" href="classItem.html">Item</a>* <a class="code" href="classGenericMap.html#z551_1">getRegion</a>(<span class="keyword">const</span> <a class="code" href="classItem.html">Item</a>* item, 
00262                    ItemTypes::itemType type) <span class="keyword">const</span>;
00263 
00270    <a class="code" href="Types_8h.html#a25">byte</a> <a class="code" href="classGenericMap.html#z551_2">getNbrRegions</a>(<span class="keyword">const</span> <a class="code" href="classItem.html">Item</a>* item, 
00271                       ItemTypes::itemType type) <span class="keyword">const</span>;
00272 
00276    <a class="code" href="classvector.html">vector&lt;Item*&gt;</a> <a class="code" href="classGenericMap.html#z551_3">getRegions</a>(<span class="keyword">const</span> <a class="code" href="classItem.html">Item</a>* item,
00277                             ItemTypes::itemType type) <span class="keyword">const</span>;
00278       
00286    <a class="code" href="Types_8h.html#a21">uint32</a> <a class="code" href="classGenericMap.html#z551_4">getRegionIDIndex</a>(<span class="keyword">const</span> <a class="code" href="classItem.html">Item</a>* item, uint32 i,
00287                            ItemTypes::itemType type) <span class="keyword">const</span>;
00288       
00296    <a class="code" href="classItem.html">Item</a>* <a class="code" href="classGenericMap.html#z551_5">getRegionIndex</a>(<span class="keyword">const</span> <a class="code" href="classItem.html">Item</a>* item, uint32 i,
00297                         ItemTypes::itemType type) <span class="keyword">const</span>;
00298 
00305    <span class="keywordtype">bool</span> <a class="code" href="classGenericMap.html#z551_6">containsRegion</a>( <span class="keyword">const</span> <a class="code" href="classItem.html">Item</a>* item, 
00306                         <span class="keyword">const</span> <a class="code" href="classItem.html">Item</a>* region ) <span class="keyword">const</span>; 
00307 
00315    <a class="code" href="classItem.html">Item</a>* <a class="code" href="classGenericMap.html#z551_7">getIndexAreaFor</a>( <span class="keyword">const</span> <a class="code" href="classItem.html">Item</a>* item ) <span class="keyword">const</span>;
00317 
<a name="l00323"></a><a class="code" href="classGenericMap.html#w2">00323</a>    <span class="keyword">typedef</span> pair&lt;uint32, uint32&gt; multiNodes_t;
00324 
<a name="l00328"></a><a class="code" href="classGenericMap.html#w3">00328</a>    <span class="keyword">typedef</span> list&lt;uint32&gt; expandedNodes_t;
00329       
00330 
00331 
00335    <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="classmap.html">map&lt; multiNodes_t, expandedNodes_t&gt;</a>* 
00336    <a class="code" href="classGenericMap.html#a6">getNodeExpansionTable</a>() <span class="keyword">const</span>;
00337 
00344    <a class="code" href="Types_8h.html#a21">uint32</a> <a class="code" href="classGenericMap.html#a7">updateNativeLanguages</a>();
00345 
00351    <a class="code" href="Types_8h.html#a21">uint32</a> <a class="code" href="classGenericMap.html#a8">updateOfficialNames</a>();
00352 
00353 
00357    <a class="code" href="classMC2Allocator.html">MC2Allocator&lt;Connection&gt;</a>&amp; <a class="code" href="classGenericMap.html#a9">getConnectionAllocator</a>();
00358    <span class="keyword">const</span> <a class="code" href="classMC2Allocator.html">MC2Allocator&lt;Connection&gt;</a>&amp; <a class="code" href="classGenericMap.html#a9">getConnectionAllocator</a>() <span class="keyword">const</span>;
00359 
00360 
00361    <a class="code" href="classMC2Allocator.html">MC2Allocator&lt;TileMapCoord&gt;</a>&amp; <a class="code" href="classGenericMap.html#a11">getCoordinateAllocator</a>();
00362 
<a name="l00366"></a><a class="code" href="structGenericMap_1_1adminAreaCentre__t.html">00366</a>    <span class="keyword">struct </span><a class="code" href="structGenericMap_1_1adminAreaCentre__t.html">adminAreaCentre_t</a> {
<a name="l00367"></a><a class="code" href="structGenericMap_1_1adminAreaCentre__t.html#o0">00367</a>       <a class="code" href="Types_8h.html#a21">uint32</a> itemID;
<a name="l00368"></a><a class="code" href="structGenericMap_1_1adminAreaCentre__t.html#o1">00368</a>       <a class="code" href="classMC2Coordinate.html">MC2Coordinate</a> centre;
00369    };
00370 
<a name="l00375"></a><a class="code" href="classGenericMap.html#w4">00375</a>    <span class="keyword">typedef</span> <a class="code" href="classmap.html">map&lt;uint32, MC2Coordinate&gt;</a> <a class="code" href="classmap.html">adminAreaCentreTable_t</a>;
00376 
00377       
00383    <a class="code" href="classvector.html">vector&lt;ItemTypes::itemType&gt;</a> <a class="code" href="classGenericMap.html#a12">getItemTypesToCreateAdminCentres</a>();
00384 
00391    <a class="code" href="classMC2Coordinate.html">MC2Coordinate</a> <a class="code" href="classGenericMap.html#a13">getCentreFromAdminTable</a>(uint32 itemID) <span class="keyword">const</span>;
00392 
00393 
00398    <span class="keywordtype">void</span> <a class="code" href="classGenericMap.html#a14">setAminAreaCentres</a>( <span class="keyword">const</span> <a class="code" href="classmap.html">adminAreaCentreTable_t</a>&amp; adminCentres );
00399 
00403    <a class="code" href="classmap.html">adminAreaCentreTable_t</a> <a class="code" href="classGenericMap.html#a15">getAdminAreaCentres</a>() <span class="keyword">const</span>;
00404 
00416    <a class="code" href="classmap.html">adminAreaCentreTable_t</a> <a class="code" href="classGenericMap.html#a16">createCentreCoordinatesForAdminAreas</a>(
00417                                           ItemTypes::itemType adminType );
00418 
00426    <a class="code" href="Types_8h.html#a21">uint32</a> <a class="code" href="classGenericMap.html#a17">createAndSetCentreCoordinatesForAdminAreas</a>();
00427 
00434    <span class="keywordtype">bool</span> <a class="code" href="classGenericMap.html#a18">updateAdminAreaCentres</a>();
00435 
00439    <span class="keyword">virtual</span> <a class="code" href="classGenericMap.html#a19">~GenericMap</a>();
00440 
00451    <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a21">uint32</a> <a class="code" href="classGenericMap.html#z553_0">getNbrItemsWithZoom</a>(uint32 z) <span class="keyword">const</span>;
00452          
00457    <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a21">uint32</a> <a class="code" href="classGenericMap.html#z553_1">getNbrItems</a>() <span class="keyword">const</span>; 
00458 
00467    <span class="keyword">inline</span> <a class="code" href="classItem.html">Item</a>* <a class="code" href="classGenericMap.html#z553_2">getItem</a>(uint32 zoom, uint32 index) <span class="keyword">const</span>;
00468 
00474    <span class="keyword">inline</span> <a class="code" href="classItem.html">Item</a>* <a class="code" href="classGenericMap.html#z553_3">itemLookup</a>(uint32 itemID) <span class="keyword">const</span>;
00475 
00482    <a class="code" href="classNode.html">Node</a>* <a class="code" href="classGenericMap.html#z553_4">nodeLookup</a>(uint32 nodeID) <span class="keyword">const</span>;
00483 
00488    <span class="keyword">const</span> <a class="code" href="classMapRights.html">MapRights</a>&amp; <a class="code" href="classGenericMap.html#z553_5">getRights</a>( uint32 itemID ) <span class="keyword">const</span>;
00490 
00491 
00507    <span class="keywordtype">bool</span> <a class="code" href="classGenericMap.html#z555_0">getNodeCoordinates</a>(uint32 nodeID, 
00508                            int32 &amp;lat, int32 &amp;lon) <span class="keyword">const</span>;
00509 
00526    <span class="keywordtype">bool</span> <a class="code" href="classGenericMap.html#z555_1">getItemCoordinates</a>(uint32 itemID, uint16 offset, 
00527                            int32 &amp;lat, int32 &amp; lon) <span class="keyword">const</span>;
00528 
00534    <a class="code" href="classMC2Coordinate.html">MC2Coordinate</a> <a class="code" href="classGenericMap.html#z555_2">getOneGoodCoordinate</a>(<span class="keyword">const</span> <a class="code" href="classItem.html">Item</a>* item) <span class="keyword">const</span>;
00535          
00541    <span class="keywordtype">void</span> <a class="code" href="classGenericMap.html#z555_2">getOneGoodCoordinate</a>(<a class="code" href="classMC2Coordinate.html">MC2Coordinate</a>&amp; coord,
00542                              <span class="keyword">const</span> <a class="code" href="classItem.html">Item</a>* item) <span class="keyword">const</span>;
00543 
00549    <span class="keywordtype">void</span> <a class="code" href="classGenericMap.html#z555_4">getItemBoundingBox</a>(<a class="code" href="classMC2BoundingBox.html">MC2BoundingBox</a>&amp; bbox,
00550                            <span class="keyword">const</span> <a class="code" href="classItem.html">Item</a>* item) <span class="keyword">const</span>;
00551 
00557    <a class="code" href="classMC2BoundingBox.html">MC2BoundingBox</a> <a class="code" href="classGenericMap.html#z555_4">getItemBoundingBox</a>(<span class="keyword">const</span> <a class="code" href="classItem.html">Item</a>* item) <span class="keyword">const</span>;
00558 
00572    <a class="code" href="Types_8h.html#a22">int32</a> <a class="code" href="classGenericMap.html#z555_6">getItemOffset</a>(uint32 itemID, int32 lat, int32 lon) <span class="keyword">const</span>;
00573 
00586    <a class="code" href="Types_8h.html#a22">int32</a> <a class="code" href="classGenericMap.html#z555_6">getItemOffset</a>(<a class="code" href="classItem.html">Item</a>* item, int32 lat, int32 lon) <span class="keyword">const</span>;
00588       
00589    
00608    <a class="code" href="Types_8h.html#a21">uint32</a> <a class="code" href="classGenericMap.html#z557_0">addNameToItem</a>(uint32 itemID, <span class="keyword">const</span> <span class="keywordtype">char</span>* name,
00609                         LangTypes::language_t lang, 
00610                         ItemTypes::name_t type);
00611 
00623    <a class="code" href="Types_8h.html#a21">uint32</a> <a class="code" href="classGenericMap.html#z557_0">addNameToItem</a>(<a class="code" href="classItem.html">Item</a>* item, <span class="keyword">const</span> <span class="keywordtype">char</span>* name, 
00624                         LangTypes::language_t lang, 
00625                         ItemTypes::name_t type);
00626          
00627          
00628          
00630 
00636    <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="classGfxData.html">GfxData</a>* <a class="code" href="classGenericMap.html#a20">getGfxData</a>() <span class="keyword">const</span>;
00637 
00641    <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classGenericMap.html#a21">setGfxData</a>( <a class="code" href="classGfxData.html">GfxData</a>* mapGfx );
00642 
00643 
00644    <span class="keyword">inline</span> <a class="code" href="classGfxDataFactory.html">GfxDataFactory</a>&amp; <a class="code" href="classGenericMap.html#a22">getGfxDataFactory</a>();
00645 
00652    <span class="keyword">const</span> <a class="code" href="classGfxData.html">GfxData</a>* <a class="code" href="classGenericMap.html#a23">getItemGfx</a>( <span class="keyword">const</span> <a class="code" href="classItem.html">Item</a>* item, <a class="code" href="classGfxDataFull.html">GfxDataFull</a>&amp; gfx ) <span class="keyword">const</span>;
00653       
00666    <span class="keywordtype">void</span> <a class="code" href="classGenericMap.html#a24">getMapBoundingBox</a>(<a class="code" href="classMC2BoundingBox.html">MC2BoundingBox</a>&amp; bbox) <span class="keyword">const</span>;
00667 
00675    <span class="keyword">inline</span> <a class="code" href="classMapHashTable.html">MapHashTable</a>* <a class="code" href="classGenericMap.html#a25">getHashTable</a>() <span class="keyword">const</span>;
00676 
00684    <span class="keywordtype">void</span>
00685    <a class="code" href="classGenericMap.html#a26">getItemsWithinRadiusMeter</a>(set&lt;Item*&gt;&amp; resultItems,
00686                              <span class="keyword">const</span> <a class="code" href="classMC2Coordinate.html">MC2Coordinate</a>&amp; center,
00687                              <span class="keywordtype">int</span> radiusMeters,
00688                              <span class="keyword">const</span> set&lt;ItemTypes::itemType&gt;&amp;
00689                              allowedTypes,
00690                              <span class="keyword">const</span> <a class="code" href="classUserRightsMapInfo.html">UserRightsMapInfo</a>* rights = NULL);
00691 
00698    <span class="keywordtype">void</span> <a class="code" href="classGenericMap.html#a27">getItemsWithinBBox</a>(set&lt;Item*&gt;&amp; resultItems,
00699                            <span class="keyword">const</span> <a class="code" href="classMC2BoundingBox.html">MC2BoundingBox</a>&amp; bbox,
00700                            <span class="keyword">const</span> set&lt;ItemTypes::itemType&gt;&amp; allowedTypes,
00701                            <span class="keyword">const</span> <a class="code" href="classUserRightsMapInfo.html">UserRightsMapInfo</a>* rights = NULL);
00702    
00709    <span class="keywordtype">void</span> <a class="code" href="classGenericMap.html#a28">getItemsWithinGfxData</a>(set&lt;Item*&gt;&amp; resultItems,
00710                               <span class="keyword">const</span> <a class="code" href="classGfxData.html">GfxData</a>* gfxData,
00711                               <span class="keyword">const</span> set&lt;ItemTypes::itemType&gt;&amp; allowedTypes,
00712                               <span class="keyword">const</span> <a class="code" href="classUserRightsMapInfo.html">UserRightsMapInfo</a>* rights = NULL);
00713 
00721    <span class="keywordtype">void</span> <a class="code" href="classGenericMap.html#a29">getIDsWithinRadiusMeter</a>(set&lt;uint32&gt;&amp; resultIDs,
00722                                 <span class="keyword">const</span> <a class="code" href="classMC2Coordinate.html">MC2Coordinate</a>&amp; center,
00723                                 <span class="keywordtype">int</span> radiusMeters,
00724                                 <span class="keyword">const</span> set&lt;ItemTypes::itemType&gt;&amp;
00725                                 allowedTypes,
00726                                 <span class="keyword">const</span> <a class="code" href="classUserRightsMapInfo.html">UserRightsMapInfo</a>* rights = NULL) <span class="keyword">const</span>;
00727 
00734    <span class="keywordtype">void</span> <a class="code" href="classGenericMap.html#a30">getIDsWithinBBox</a>(set&lt;uint32&gt;&amp; resultIDs,
00735                          <span class="keyword">const</span> <a class="code" href="classMC2BoundingBox.html">MC2BoundingBox</a>&amp; bbox,
00736                          <span class="keyword">const</span> set&lt;ItemTypes::itemType&gt;&amp; allowedTypes,
00737                          <span class="keyword">const</span> <a class="code" href="classUserRightsMapInfo.html">UserRightsMapInfo</a>* rights = NULL );
00738 
00745    <span class="keywordtype">void</span> <a class="code" href="classGenericMap.html#a31">getIDsWithinGfxData</a>(set&lt;uint32&gt;&amp; resultIDs,
00746                             <span class="keyword">const</span> <a class="code" href="classGfxData.html">GfxData</a>* gfxData,
00747                             <span class="keyword">const</span> set&lt;ItemTypes::itemType&gt;&amp; allowedTypes,
00748                             <span class="keyword">const</span> <a class="code" href="classUserRightsMapInfo.html">UserRightsMapInfo</a>* rights = NULL );
00749    
00756    <a class="code" href="Types_8h.html#a21">uint32</a> <a class="code" href="classGenericMap.html#a32">getClosestItemID</a>( <span class="keyword">const</span> <a class="code" href="classMC2Coordinate.html">MC2Coordinate</a>&amp; coord,
00757                             uint64&amp; dist,
00758                             <span class="keyword">const</span> set&lt;ItemTypes::itemType&gt;&amp; allowedTypes,
00759                             <span class="keyword">const</span> <a class="code" href="classUserRightsMapInfo.html">UserRightsMapInfo</a>* rights = NULL );
00760 
00765    <span class="keywordtype">bool</span> <a class="code" href="classGenericMap.html#a33">itemAllowedByUserRights</a>( uint32 <span class="keywordtype">id</span>,
00766                                  <span class="keyword">const</span> <a class="code" href="classUserRightsMapInfo.html">UserRightsMapInfo</a>&amp; rights ) <span class="keyword">const</span>;
00767       
00772    <span class="keywordtype">bool</span> <a class="code" href="classGenericMap.html#a33">itemAllowedByUserRights</a>( <span class="keyword">const</span> <a class="code" href="classItem.html">Item</a>&amp; item,
00773                                  <span class="keyword">const</span> <a class="code" href="classUserRightsMapInfo.html">UserRightsMapInfo</a>&amp; rights ) <span class="keyword">const</span>;
00774 
00781    <a class="code" href="classMC2String.html">MC2String</a> <a class="code" href="classGenericMap.html#a35">getNameOfNeededRight</a>( <span class="keyword">const</span> <a class="code" href="classItem.html">Item</a>&amp; item,
00782                                    LangTypes::language_t lang ) <span class="keyword">const</span>;
00783    
00790    <a class="code" href="classMC2String.html">MC2String</a> <a class="code" href="classGenericMap.html#a35">getNameOfNeededRight</a>( uint32 <span class="keywordtype">id</span>,
00791                                    LangTypes::language_t lang ) <span class="keyword">const</span>;
00792                                         
00793       
00804    <span class="keyword">inline</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classGenericMap.html#z559_0">getFirstItemName</a>(<span class="keyword">const</span> <a class="code" href="classItem.html">Item</a>* item) <span class="keyword">const</span>;
00805 
00813    <span class="keyword">inline</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classGenericMap.html#z559_0">getFirstItemName</a>(uint32 itemID) <span class="keyword">const</span>;
00814 
00831    <span class="keyword">inline</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classGenericMap.html#z559_2">getItemName</a>( <span class="keyword">const</span> <a class="code" href="classItem.html">Item</a>* item,
00832                                    LangTypes::language_t strLang,
00833                                    ItemTypes::name_t strType ) <span class="keyword">const</span>;
00834 
00835    <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a21">uint32</a> <a class="code" href="classGenericMap.html#z559_3">getNativeLanguageIndex</a>( <span class="keyword">const</span> <a class="code" href="classItem.html">Item</a>&amp; item,
00836                                          ItemTypes::name_t strType ) <span class="keyword">const</span>;
00837 
00855    <span class="keyword">inline</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classGenericMap.html#z559_2">getItemName</a>( uint32 itemID,
00856                                    LangTypes::language_t strLang,
00857                                    ItemTypes::name_t strType ) <span class="keyword">const</span>;
00858 
00879    <span class="keywordtype">bool</span> <a class="code" href="classGenericMap.html#z559_5">itemHasNameAndType</a>(<a class="code" href="classItem.html">Item</a>* item,
00880                            LangTypes::language_t strLang,
00881                            ItemTypes::name_t strType,
00882                            <span class="keyword">const</span> <span class="keywordtype">char</span>* nameStr,
00883                            uint32&amp; strIdx) <span class="keyword">const</span>;
00884          
00896    <span class="keyword">inline</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classGenericMap.html#z559_6">getBestItemName</a>( uint32 itemID ) <span class="keyword">const</span>;
00897    <span class="keyword">inline</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classGenericMap.html#z559_6">getBestItemName</a>( uint32 itemID, 
00898                                        LangTypes::language_t strLang ) <span class="keyword">const</span>;
00899 
00900    <span class="keyword">inline</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classGenericMap.html#z559_6">getBestItemName</a>( uint32 itemID, 
00901                                 <a class="code" href="classvector.html">vector&lt;LangTypes::language_t&gt;</a> &amp;strLang ) <span class="keyword">const</span>;
00902 
00903 
00904    <span class="keyword">inline</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classGenericMap.html#z559_6">getBestItemName</a>( <span class="keyword">const</span> <a class="code" href="classItem.html">Item</a>* item, 
00905                                        LangTypes::language_t strLang ) <span class="keyword">const</span>;
00906 
00907    <span class="keyword">inline</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classGenericMap.html#z559_6">getBestItemName</a>( <span class="keyword">const</span> <a class="code" href="classItem.html">Item</a>* item, 
00908                                 <a class="code" href="classvector.html">vector&lt;LangTypes::language_t&gt;</a> &amp;strLang ) <span class="keyword">const</span>;
00909          
00928    <span class="keyword">inline</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classGenericMap.html#z559_6">getBestItemName</a>( <span class="keyword">const</span> <a class="code" href="classItem.html">Item</a>* item, 
00929                                        ItemTypes::name_t strType,
00930                                        LangTypes::language_t strLang) <span class="keyword">const</span>;
00931 
00932    <span class="keyword">inline</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classGenericMap.html#z559_6">getBestItemName</a>( <span class="keyword">const</span> <a class="code" href="classItem.html">Item</a>* item, 
00933                                        ItemTypes::name_t strType,
00934                                 <a class="code" href="classvector.html">vector&lt;LangTypes::language_t&gt;</a> &amp;strLang) <span class="keyword">const</span>;
00935 
00936 
00945    <span class="keyword">inline</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classGenericMap.html#z559_13">getName</a>(uint32 stringIndex) <span class="keyword">const</span>;
00946 
00956    <span class="keyword">inline</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classGenericMap.html#z559_14">getRawName</a>(uint32 rawIndex) <span class="keyword">const</span>;
00957          
00962    <a class="code" href="Types_8h.html#a21">uint32</a> <a class="code" href="classGenericMap.html#z559_15">getTotalNbrItemNames</a>() <span class="keyword">const</span>;
00964       
00973    <span class="keywordtype">bool</span> <a class="code" href="classGenericMap.html#a37">oneNameSameCase</a>( <span class="keyword">const</span> <a class="code" href="classItem.html">Item</a>* item, 
00974                          <span class="keyword">const</span> <a class="code" href="classItem.html">Item</a>* otherItem ) <span class="keyword">const</span>;
00975       
00984    <span class="keywordtype">bool</span> <a class="code" href="classGenericMap.html#a38">oneNameSimilarCase</a>( <span class="keyword">const</span> <a class="code" href="classItem.html">Item</a>* item, 
00985                             <span class="keyword">const</span> <a class="code" href="classItem.html">Item</a>* otherItem ) <span class="keyword">const</span>;
00986 
00992    <span class="keyword">inline</span> <a class="code" href="classBoundrySegmentsVector.html">BoundrySegmentsVector</a>* <a class="code" href="classGenericMap.html#a39">getBoundrySegments</a>() <span class="keyword">const</span>;
00993       
00997    <span class="keywordtype">void</span> <a class="code" href="classGenericMap.html#a40">createBoundrySegmentsVector</a>();
00998 
01005    <span class="keywordtype">bool</span> <a class="code" href="classGenericMap.html#a41">isPartOfStreet</a>(<span class="keyword">const</span> <a class="code" href="classItem.html">Item</a>* item) <span class="keyword">const</span>;
01006       
01015    <span class="keywordtype">bool</span> <a class="code" href="classGenericMap.html#a42">isPartOfGfxStreet</a>(<span class="keyword">const</span> <a class="code" href="classItem.html">Item</a>* item) <span class="keyword">const</span>;
01016 
01022    <a class="code" href="Types_8h.html#a21">uint32</a> <a class="code" href="classGenericMap.html#a43">partOfNbrStreets</a>(<span class="keyword">const</span> <a class="code" href="classItem.html">Item</a>* item) <span class="keyword">const</span>;
01023       
01030    <span class="keyword">virtual</span> <a class="code" href="Types_8h.html#a21">uint32</a> <a class="code" href="classGenericMap.html#a44">getMemoryUsage</a>() <span class="keyword">const</span>;
01031 
01032    <a class="code" href="Types_8h.html#a21">uint32</a> <a class="code" href="classGenericMap.html#a45">getLaneConnectionIdx</a>( uint32 conId ) <span class="keyword">const</span>;
01033    <a class="code" href="Types_8h.html#a21">uint32</a> <a class="code" href="classGenericMap.html#a45">getLaneConnectionIdx</a>( <span class="keyword">const</span> <a class="code" href="classConnection.html">Connection</a>&amp; con ) <span class="keyword">const</span>;
01034 
<a name="l01035"></a><a class="code" href="classGenericMap.html#w5">01035</a>    <span class="keyword">typedef</span> <a class="code" href="classSTLUtility_1_1Array.html">STLUtility::Array&lt; ExpandStringLane &gt;</a> <a class="code" href="classSTLUtility_1_1Array.html">NodeLaneMapArray</a>;
<a name="l01036"></a><a class="code" href="classGenericMap.html#w6">01036</a>    <span class="keyword">typedef</span> <a class="code" href="classSTLUtility_1_1ValuePair.html">STLUtility::ValuePair&lt; uint32, NodeLaneMapArray &gt;</a> <a class="code" href="classSTLUtility_1_1ValuePair.html">NodeLaneMapPair</a>;
01037    <span class="keyword">typedef</span> <a class="code" href="classvector.html">vector&lt; NodeLaneMapPair, MC2Map::Allocator&lt; NodeLaneMapPair &gt;</a> &gt;
<a name="l01038"></a><a class="code" href="classGenericMap.html#w7">01038</a>       <a class="code" href="classvector.html">NodeLaneMap</a>;
01039    <span class="keyword">const</span> <a class="code" href="classSTLUtility_1_1Array.html">NodeLaneMapArray</a>* <a class="code" href="classGenericMap.html#a47">getNodeLanes</a>( uint32 nodeId ) <span class="keyword">const</span>;
01040 
<a name="l01041"></a><a class="code" href="classGenericMap.html#w8">01041</a>    <span class="keyword">typedef</span> <a class="code" href="classSTLUtility_1_1Array.html">STLUtility::Array&lt; SignPost &gt;</a> <a class="code" href="classSTLUtility_1_1Array.html">ConnectionSignPostMapArray</a>;
01042    <span class="keyword">typedef</span> <a class="code" href="classSTLUtility_1_1ValuePair.html">STLUtility::ValuePair&lt; uint32, ConnectionSignPostMapArray &gt;</a>
<a name="l01043"></a><a class="code" href="classGenericMap.html#w9">01043</a>       <a class="code" href="classSTLUtility_1_1ValuePair.html">ConnectionSignPostMapPair</a>;
01044    <span class="keyword">typedef</span> <a class="code" href="classvector.html">vector</a>&lt; <a class="code" href="classSTLUtility_1_1ValuePair.html">ConnectionSignPostMapPair</a>,
01045                    <a class="code" href="classMC2Map_1_1Allocator.html">MC2Map::Allocator&lt; ConnectionSignPostMapPair &gt;</a> &gt;
<a name="l01046"></a><a class="code" href="classGenericMap.html#w10">01046</a>       <a class="code" href="classvector.html">ConnectionSignPostMap</a>;
01047    <span class="keyword">const</span> <a class="code" href="classSTLUtility_1_1Array.html">ConnectionSignPostMapArray</a>* <a class="code" href="classGenericMap.html#a48">getConnectionSigns</a>( uint32 conID ) <span class="keyword">const</span>;
01048    
01049 
01062    <span class="keywordtype">bool</span> <a class="code" href="classGenericMap.html#a49">getConnectToNodeIDs</a>(uint32 fromNodeID,
01063                             Vector* toNodeIDVec);
01064      
01075    <a class="code" href="classConnection.html">Connection</a>* <a class="code" href="classGenericMap.html#a50">getOpposingConnection</a>(<a class="code" href="classConnection.html">Connection</a>* conn, 
01076                                      uint32 toNodeID);
01077       
01089    <span class="keywordtype">bool</span> <a class="code" href="classGenericMap.html#a51">getOtherConnections</a>( <a class="code" href="classConnection.html">Connection</a>* conn, 
01090                              uint32 toNodeID,
01091                              <a class="code" href="classvector.html">vector</a>&lt;pair&lt;Connection*,Node*&gt; &gt;&amp; otherConn );
01092       
01105    <a class="code" href="Types_8h.html#a21">uint32</a> <a class="code" href="classGenericMap.html#a52">getConnection</a>(uint32 fromItemID, uint32 toItemID, 
01106                         <a class="code" href="classConnection.html">Connection</a>*&amp; conn) <span class="keyword">const</span>;
01107       
01112       
01141    <span class="keywordtype">bool</span> <a class="code" href="classGenericMap.html#z561_0">getConnectionData</a>( <a class="code" href="classConnection.html">Connection</a>* conn, <a class="code" href="classNode.html">Node</a>* toNode,
01142                            float64&amp; time, 
01143                            float64&amp; standStillTime,
01144                            float64&amp; length,
01145                            <span class="keywordtype">bool</span> externalConnection = <span class="keyword">false</span> ) <span class="keyword">const</span>;
01146          
01177    <span class="keywordtype">bool</span> <a class="code" href="classGenericMap.html#z561_1">getConnectionCost</a>(<a class="code" href="classConnection.html">Connection</a>* conn, <a class="code" href="classNode.html">Node</a>* toNode,
01178                           uint32&amp; costA, uint32&amp; costB,
01179                           uint32&amp; costC, uint32&amp; costD,
01180                           <span class="keywordtype">bool</span> externalConnection = <span class="keyword">false</span>) <span class="keyword">const</span>;
01181        
01183 
01185    <a class="code" href="Types_8h.html#a21">uint32</a> <a class="code" href="classGenericMap.html#a53">getConnectionID</a>( <span class="keyword">const</span> <a class="code" href="classConnection.html">Connection</a>&amp; con ) <span class="keyword">const</span>;
01186 
01187 
01192    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classGenericMap.html#a54">createAllocators</a>();
01193 
01206    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classGenericMap.html#a55">initNonItemAllocators</a>( uint32 nbrGfxDatas, 
01207                                        uint32 nbrGfxDataSingleSmallPoly,
01208                                        uint32 nbrGfxDataSingleLine, 
01209                                        uint32 nbrGfxDataSinglePoint,
01210                                        uint32 nbrGfxDataMultiplePoints, 
01211                                        uint32 nbrNodes, 
01212                                        uint32 nbrConnections,
01213                                        uint32 nbrCoordinates,
01214                                        uint32 nbrLanes,
01215                                        uint32 nbrCategories,
01216                                        uint32 nbrSignPosts );
01217 
<a name="l01221"></a><a class="code" href="classGenericMap.html#w11">01221</a>    <span class="keyword">typedef</span> multimap&lt;uint64, ItemTypes::lmdescription_t&gt; landmarkTable_t;
01222       
01226    <span class="keyword">inline</span> <a class="code" href="classGenericMap.html#w11">landmarkTable_t</a>&amp; <a class="code" href="classGenericMap.html#a56">getLandmarkTable</a>();
01227    <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="classGenericMap.html#w11">landmarkTable_t</a>&amp; <a class="code" href="classGenericMap.html#a56">getLandmarkTable</a>() <span class="keyword">const</span>;
01228 
01236    <span class="keyword">const</span> <a class="code" href="classItem.html">Item</a>* <a class="code" href="classGenericMap.html#a58">getItemFromItemIdentifier</a>( <span class="keyword">const</span> <a class="code" href="classItemIdentifier.html">ItemIdentifier</a>&amp; ident ) <span class="keyword">const</span>;
01237             
01248    <span class="keywordtype">bool</span> <a class="code" href="classGenericMap.html#a59">getItemIdentifierForItem</a>( <span class="keyword">const</span> <a class="code" href="classItem.html">Item</a>* item, 
01249                                   <a class="code" href="classItemIdentifier.html">ItemIdentifier</a>&amp; ident ) <span class="keyword">const</span>;
01250 
01251    <a class="code" href="Types_8h.html#a19">uint16</a> <a class="code" href="classGenericMap.html#a60">getStreetLeftSideNbrStart</a>( <span class="keyword">const</span> <a class="code" href="classStreetSegmentItem.html">StreetSegmentItem</a>&amp; item ) <span class="keyword">const</span>;
01252    <a class="code" href="Types_8h.html#a19">uint16</a> <a class="code" href="classGenericMap.html#a61">getStreetLeftSideNbrEnd</a>( <span class="keyword">const</span> <a class="code" href="classStreetSegmentItem.html">StreetSegmentItem</a>&amp; item ) <span class="keyword">const</span>;
01253    <a class="code" href="Types_8h.html#a19">uint16</a> <a class="code" href="classGenericMap.html#a62">getStreetRightSideNbrStart</a>( <span class="keyword">const</span> <a class="code" href="classStreetSegmentItem.html">StreetSegmentItem</a>&amp; item ) <span class="keyword">const</span>;
01254    <a class="code" href="Types_8h.html#a19">uint16</a> <a class="code" href="classGenericMap.html#a63">getStreetRightSideNbrEnd</a>( <span class="keyword">const</span> <a class="code" href="classStreetSegmentItem.html">StreetSegmentItem</a>&amp; item ) <span class="keyword">const</span>;
01255 
01261    <span class="keywordtype">void</span> <a class="code" href="classGenericMap.html#a64">getCategories</a>( <span class="keyword">const</span> <a class="code" href="classItem.html">Item</a>&amp; item, <a class="code" href="classvector.html">Categories</a>&amp; categories ) <span class="keyword">const</span>;
01262                        
01270    <a class="code" href="Types_8h.html#a21">uint32</a> <a class="code" href="classGenericMap.html#a65">expandNodeIDs</a>( list&lt;uint32&gt;&amp; nodeIDs ) <span class="keyword">const</span>;
01271       
01281    <span class="keywordtype">bool</span> <a class="code" href="classGenericMap.html#a66">isUniqueCityCentre</a>( <a class="code" href="classItem.html">Item</a>* item );
01282 
01284    <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classGenericMap.html#a67">updateZoom</a>( <a class="code" href="classItem.html">Item</a>&amp; item );
01285 
<a name="l01290"></a><a class="code" href="classGenericMap.html#a68">01290</a>    <span class="keyword">const</span> <a class="code" href="classUserRightsItemTable.html">UserRightsItemTable</a>&amp; <a class="code" href="classGenericMap.html#a68">getRightsTable</a>()<span class="keyword"> const </span>{
01291       <span class="keywordflow">return</span> *m_userRightsTable;
01292    }
01293 
01295    <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="Types_8h.html#a21">uint32</a>* <a class="code" href="classGenericMap.html#a69">getItemGroups</a>() <span class="keyword">const</span>;
01297    <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="Types_8h.html#a21">uint32</a>* <a class="code" href="classGenericMap.html#a70">getItemNameIdx</a>() <span class="keyword">const</span>;
01299    <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="Types_8h.html#a21">uint32</a>* <a class="code" href="classGenericMap.html#a71">getItemsInGroup</a>() <span class="keyword">const</span>;
01300 
01308    <span class="keywordtype">bool</span> <a class="code" href="classGenericMap.html#a72">isVehicleAllowed</a>(<span class="keyword">const</span> <a class="code" href="classConnection.html">Connection</a>&amp; con, ItemTypes::vehicle_t vehicle ) <span class="keyword">const</span>;
01309    <a class="code" href="Types_8h.html#a21">uint32</a> <a class="code" href="classGenericMap.html#a73">getVehicleRestrictions</a>( <span class="keyword">const</span> <a class="code" href="classConnection.html">Connection</a>&amp; con ) <span class="keyword">const</span>;
01310 
01316    auto_ptr&lt;POIInfo&gt; <a class="code" href="classGenericMap.html#a74">getPOIInfo</a>( <span class="keyword">const</span> <a class="code" href="classPointOfInterestItem.html">PointOfInterestItem</a>* poi ) <span class="keyword">const</span>;
01317 
01326    <a class="code" href="classmap.html">map&lt;uint32, POIInfo*&gt;</a> <a class="code" href="classGenericMap.html#a75">getPOIInfos</a>( <a class="code" href="classvector.html">vector&lt;Item*&gt;</a>::const_iterator begin,
01327                                       <a class="code" href="classvector.html">vector&lt;Item*&gt;</a>::const_iterator end,
01328                                       <span class="keyword">const</span> set&lt;uint32&gt;&amp; keyTypes ) <span class="keyword">const</span>;
01336    <span class="keywordtype">void</span> <a class="code" href="classGenericMap.html#a76">setUserRights</a>(<a class="code" href="classmap.html">UserRightsItemTable::itemMap_t</a>&amp; itemMap);
01337 
01344    <span class="keywordtype">int</span> <a class="code" href="classGenericMap.html#a77">getUserRights</a>(<a class="code" href="classmap.html">UserRightsItemTable::itemMap_t</a>&amp; itemMap);
01345 
<a name="l01349"></a><a class="code" href="classGenericMap.html#o0">01349</a>    <a class="code" href="classGfxData.html">GfxData</a>* m_gfxData;
<a name="l01350"></a><a class="code" href="classGenericMap.html#a78">01350</a>    <a class="code" href="classBoundrySegmentsVector.html">BoundrySegmentsVector</a> *<a class="code" href="classGenericMap.html#a78">getSegmentsOnTheBoundry</a>() { 
01351       <span class="keywordflow">return</span> m_segmentsOnTheBoundry; 
01352    }
01353 
01360    <span class="keywordtype">bool</span> <a class="code" href="classGenericMap.html#a79">isIndexArea</a>( uint32 itemID ) <span class="keyword">const</span>;
01361 
01371    <a class="code" href="Types_8h.html#a21">uint32</a> <a class="code" href="classGenericMap.html#a80">getIndexAreaOrder</a>( uint32 itemID ) <span class="keyword">const</span>;
01372 
01373 <span class="keyword">protected</span>:
01377    <a class="code" href="classGenericMap.html#b0">GenericMap</a>();
01378 
01379 
01380 
01389    <a class="code" href="classGenericMap.html#b0">GenericMap</a>(uint32 mapID, <span class="keyword">const</span> <span class="keywordtype">char</span> *path);
01390 
01391 
01396    <span class="keywordtype">void</span> <a class="code" href="classGenericMap.html#b2">buildHashTable</a>();
01397 
01402    <span class="keywordtype">void</span> <a class="code" href="classGenericMap.html#b3">saveHashTable</a>( <span class="keywordtype">int</span> outfile );
01403 
01410    <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classGenericMap.html#b4">internalSave</a>(<span class="keywordtype">int</span> outfile);
01411 
01417    <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classGenericMap.html#b5">internalLoad</a>(<a class="code" href="classDataBuffer.html">DataBuffer</a>&amp; dataBuffer);
01418 
01423    <span class="keywordtype">void</span> <a class="code" href="classGenericMap.html#b6">doMapTricks</a>();
01424 
01432    <span class="keywordtype">bool</span> <a class="code" href="classGenericMap.html#b7">loadFirstBodyBlock</a>(<a class="code" href="classDataBuffer.html">DataBuffer</a>&amp; dataBuffer);
01433 
01434 
01445    <span class="keywordtype">bool</span> <a class="code" href="classGenericMap.html#b8">findEmptySlot</a>(uint32 zoomlevel, uint32 &amp;cnt);
01446 
01454    <span class="keywordtype">bool</span> <a class="code" href="classGenericMap.html#b9">swapItems</a>( uint32 aID, uint32 bID );
01455 
01469    <span class="keyword">virtual</span> <a class="code" href="classItem.html">Item</a>* <a class="code" href="classGenericMap.html#b10">createNewItem</a>( <a class="code" href="classDataBuffer.html">DataBuffer</a>* dataBuffer );
01470 
01481    <span class="keyword">virtual</span> <a class="code" href="classGfxData.html">GfxData</a>* <a class="code" href="classGenericMap.html#b11">createNewGfxData</a>( <a class="code" href="classDataBuffer.html">DataBuffer</a>* dataBuffer );
01482 
01491    <span class="keyword">virtual</span> <a class="code" href="classConnection.html">Connection</a>* <a class="code" href="classGenericMap.html#b12">createNewConnection</a>( <a class="code" href="classDataBuffer.html">DataBuffer</a>* dataBuffer );
01492       
01493 
01506    <span class="keywordtype">bool</span> <a class="code" href="classGenericMap.html#b13">getAllItemsWithStringIndex</a>( uint32 strIndex, Vector* result );
01507       
01508       
01517    <span class="keywordtype">void</span> <a class="code" href="classGenericMap.html#b14">getItemsWithName</a>( <span class="keyword">const</span> <span class="keywordtype">char</span>* name, 
01518                           set&lt;const Item*&gt;&amp; items,
01519                           ItemTypes::itemType itemType 
01520                           = ItemTypes::numberOfItemTypes ) <span class="keyword">const</span>;
01521 
01522 
01532    <span class="keywordtype">void</span> <a class="code" href="classGenericMap.html#b15">dbgPrintFilePos</a>(<a class="code" href="classMC2String.html">MC2String</a> message, 
01533                         <span class="keywordtype">int</span> outfile, 
01534                         <a class="code" href="classDataBuffer.html">DataBuffer</a>* dbuf=NULL);
01535 
01536       
<a name="l01551"></a><a class="code" href="classGenericMap.html#p0">01551</a>    <a class="code" href="classItem.html">Item</a> **<a class="code" href="classGenericMap.html#p0">m_itemsZoom</a>[NUMBER_GFX_ZOOMLEVELS];
01552 
<a name="l01557"></a><a class="code" href="classGenericMap.html#p1">01557</a>    <a class="code" href="Types_8h.html#a21">uint32</a> <a class="code" href="classGenericMap.html#p1">m_itemsZoomSize</a>[NUMBER_GFX_ZOOMLEVELS];
01558 
<a name="l01564"></a><a class="code" href="classGenericMap.html#p2">01564</a>    <a class="code" href="Types_8h.html#a21">uint32</a> <a class="code" href="classGenericMap.html#p2">m_itemsZoomAllocated</a>[NUMBER_GFX_ZOOMLEVELS];
01565       
<a name="l01569"></a><a class="code" href="classGenericMap.html#p3">01569</a>    <a class="code" href="classItemNames.html">ItemNames</a> *m_itemNames;
01570 
<a name="l01574"></a><a class="code" href="classGenericMap.html#p4">01574</a>    <a class="code" href="Types_8h.html#a21">uint32</a> m_approxMapSize;
01575       
<a name="l01581"></a><a class="code" href="classGenericMap.html#p5">01581</a>    <span class="keyword">mutable</span> auto_ptr&lt;MapHashTable&gt; m_hashTable;
01582 
<a name="l01589"></a><a class="code" href="classGenericMap.html#p6">01589</a>    <a class="code" href="classBoundrySegmentsVector.html">BoundrySegmentsVector</a>* m_segmentsOnTheBoundry;
01590 
<a name="l01596"></a><a class="code" href="classGenericMap.html#p7">01596</a>    <a class="code" href="classGenericMap.html#w11">landmarkTable_t</a> m_landmarkTable;
01597 
<a name="l01616"></a><a class="code" href="classGenericMap.html#p8">01616</a>    <a class="code" href="classmap.html">map&lt;multiNodes_t, expandedNodes_t&gt;</a> m_nodeExpansionTable;
01617        
01618 
01619 <span class="keyword">private</span>:
01626    <span class="keywordtype">bool</span> <a class="code" href="classGenericMap.html#d0">modifyItemNumberName</a>( <a class="code" href="classItem.html">Item</a>&amp; item );
01627 
01655    <span class="keywordtype">bool</span> <a class="code" href="classGenericMap.html#z563_0">getSingleConnectionLength</a>(<a class="code" href="classConnection.html">Connection</a>* conn, <a class="code" href="classNode.html">Node</a>* toNode,
01656                                   float64&amp; length,
01657                                   <span class="keywordtype">bool</span> externalConnection 
01658                                   = <span class="keyword">false</span>) <span class="keyword">const</span>;
01659          
01698    <span class="keywordtype">bool</span> <a class="code" href="classGenericMap.html#z563_1">getSingleConnectionTime</a>(<a class="code" href="classConnection.html">Connection</a>* conn, <a class="code" href="classNode.html">Node</a>* toNode,
01699                                 float64&amp; time, 
01700                                 float64&amp; standStillTime,
01701                                 float64 length,
01702                                 <span class="keywordtype">bool</span> externalConnection 
01703                                 = <span class="keyword">false</span>) <span class="keyword">const</span>;
01705 
01706     
01713    <span class="keywordtype">void</span> <a class="code" href="classGenericMap.html#d1">initEmptyMap</a>(uint32 <span class="keywordtype">id</span>);
01714 
01727    <a class="code" href="Types_8h.html#a27">float64</a> <a class="code" href="classGenericMap.html#d2">getDistanceToNode</a>( byte nodeNbr, <a class="code" href="classGfxData.html">GfxData</a>* gfx, 
01728                               int32 lat, int32 lon);
01729 
01730 <span class="keyword">public</span>:
01735    <span class="keyword">inline</span> <a class="code" href="classItemNames.html">ItemNames</a>* <a class="code" href="classGenericMap.html#a81">getItemNames</a>() <span class="keyword">const</span>;
01736 <span class="keyword">private</span>:
01737 
01751    <a class="code" href="Types_8h.html#a27">float64</a> <a class="code" href="classGenericMap.html#d3">calcBusSSILength</a>(<a class="code" href="classBusRouteItem.html">BusRouteItem</a>* bri, float64 dist, 
01752                             <span class="keywordtype">bool</span> isSSINode0) <span class="keyword">const</span>;
01753 
01754 <span class="keyword">protected</span>:
01763 
<a name="l01764"></a><a class="code" href="classGenericMap.html#z565_3">01764</a>    <a class="code" href="classItemAllocator.html">ItemAllocator&lt;StreetSegmentItem&gt;</a>* m_streetSegmentItemAllocator;
01765 
<a name="l01767"></a><a class="code" href="classGenericMap.html#z565_4">01767</a>    <a class="code" href="classItemAllocator.html">ItemAllocator&lt;StreetItem&gt;</a>* m_streetItemAllocator;
01768 
<a name="l01770"></a><a class="code" href="classGenericMap.html#z565_5">01770</a>    <a class="code" href="classItemAllocator.html">ItemAllocator&lt;MunicipalItem&gt;</a>* m_municipalItemAllocator;
01771 
<a name="l01773"></a><a class="code" href="classGenericMap.html#z565_6">01773</a>    <a class="code" href="classItemAllocator.html">ItemAllocator&lt;CityPartItem&gt;</a>* m_cityPartItemAllocator;
01774 
<a name="l01776"></a><a class="code" href="classGenericMap.html#z565_7">01776</a>    <a class="code" href="classItemAllocator.html">ItemAllocator&lt;WaterItem&gt;</a>* m_waterItemAllocator;
01777 
<a name="l01779"></a><a class="code" href="classGenericMap.html#z565_8">01779</a>    <a class="code" href="classItemAllocator.html">ItemAllocator&lt;ParkItem&gt;</a>* m_parkItemAllocator;
01780 
<a name="l01782"></a><a class="code" href="classGenericMap.html#z565_9">01782</a>    <a class="code" href="classItemAllocator.html">ItemAllocator&lt;ForestItem&gt;</a>* m_forestItemAllocator;
01783 
<a name="l01785"></a><a class="code" href="classGenericMap.html#z565_10">01785</a>    <a class="code" href="classItemAllocator.html">ItemAllocator&lt;BuildingItem&gt;</a>* m_buildingItemAllocator;
01786 
<a name="l01788"></a><a class="code" href="classGenericMap.html#z565_11">01788</a>    <a class="code" href="classItemAllocator.html">ItemAllocator&lt;RailwayItem&gt;</a>* m_railwayItemAllocator;
01789 
<a name="l01791"></a><a class="code" href="classGenericMap.html#z565_12">01791</a>    <a class="code" href="classItemAllocator.html">ItemAllocator&lt;IslandItem&gt;</a>* m_islandItemAllocator;
01792 
<a name="l01794"></a><a class="code" href="classGenericMap.html#z565_13">01794</a>    <a class="code" href="classItemAllocator.html">ItemAllocator&lt;ZipCodeItem&gt;</a>* m_zipCodeItemAllocator;
01795 
<a name="l01797"></a><a class="code" href="classGenericMap.html#z565_14">01797</a>    <a class="code" href="classItemAllocator.html">ItemAllocator&lt;ZipAreaItem&gt;</a>* m_zipAreaItemAllocator;
01798 
<a name="l01800"></a><a class="code" href="classGenericMap.html#z565_15">01800</a>    <a class="code" href="classItemAllocator.html">ItemAllocator&lt;PointOfInterestItem&gt;</a>* m_pointOfInterestItemAllocator;
01801 
<a name="l01803"></a><a class="code" href="classGenericMap.html#z565_16">01803</a>    <a class="code" href="classItemAllocator.html">ItemAllocator&lt;CategoryItem&gt;</a>* m_categoryItemAllocator;
01804 
<a name="l01806"></a><a class="code" href="classGenericMap.html#z565_17">01806</a>    <a class="code" href="classItemAllocator.html">ItemAllocator&lt;BuiltUpAreaItem&gt;</a>* m_builtUpAreaItemAllocator;
01807 
<a name="l01809"></a><a class="code" href="classGenericMap.html#z565_18">01809</a>    <a class="code" href="classItemAllocator.html">ItemAllocator&lt;BusRouteItem&gt;</a>* m_busRouteItemAllocator;
01810 
<a name="l01812"></a><a class="code" href="classGenericMap.html#z565_19">01812</a>    <a class="code" href="classItemAllocator.html">ItemAllocator&lt;AirportItem&gt;</a>* m_airportItemAllocator;
01813 
<a name="l01815"></a><a class="code" href="classGenericMap.html#z565_20">01815</a>    <a class="code" href="classItemAllocator.html">ItemAllocator&lt;AircraftRoadItem&gt;</a>* m_aircraftRoadItemAllocator;
01816 
<a name="l01818"></a><a class="code" href="classGenericMap.html#z565_21">01818</a>    <a class="code" href="classItemAllocator.html">ItemAllocator&lt;PedestrianAreaItem&gt;</a>* m_pedestrianAreaItemAllocator;
01819 
<a name="l01821"></a><a class="code" href="classGenericMap.html#z565_22">01821</a>    <a class="code" href="classItemAllocator.html">ItemAllocator&lt;Item&gt;</a>* m_militaryBaseItemAllocator;
01822 
01824    <a class="code" href="classItemAllocator.html">ItemAllocator&lt;IndividualBuildingItem&gt;</a>*
<a name="l01825"></a><a class="code" href="classGenericMap.html#z565_23">01825</a>                               m_individualBuildingItemAllocator;
01826 
<a name="l01828"></a><a class="code" href="classGenericMap.html#z565_24">01828</a>    <a class="code" href="classItemAllocator.html">ItemAllocator&lt;SubwayLineItem&gt;</a>* m_subwayLineItemAllocator;
01829 
<a name="l01831"></a><a class="code" href="classGenericMap.html#z565_25">01831</a>    <a class="code" href="classItemAllocator.html">ItemAllocator&lt;NullItem&gt;</a>* m_nullItemAllocator;
01832 
<a name="l01834"></a><a class="code" href="classGenericMap.html#z565_26">01834</a>    <a class="code" href="classItemAllocator.html">ItemAllocator&lt;FerryItem&gt;</a>* m_ferryItemAllocator;
01835 
<a name="l01837"></a><a class="code" href="classGenericMap.html#z565_27">01837</a>    <a class="code" href="classItemAllocator.html">ItemAllocator&lt;Item&gt;</a>* m_simpleItemAllocator;
<a name="l01839"></a><a class="code" href="classGenericMap.html#z565_28">01839</a>    <a class="code" href="classItemAllocator.html">ItemAllocator&lt;CartographicItem&gt;</a>* m_cartographicItemAllocator;
01840 
01841 
<a name="l01842"></a><a class="code" href="classGenericMap.html#z565_0">01842</a>    <span class="keyword">typedef</span> std::vector&lt;DataBufferMapObject* &gt; ItemAllocatorContainer;
<a name="l01843"></a><a class="code" href="classGenericMap.html#z565_29">01843</a>    <a class="code" href="classGenericMap.html#z565_0">ItemAllocatorContainer</a> m_itemAllocators;
01844 
<a name="l01846"></a><a class="code" href="classGenericMap.html#z565_30">01846</a>    std::auto_ptr&lt;GfxDataFactory&gt; m_gfxDataFactory;
01847 
<a name="l01849"></a><a class="code" href="classGenericMap.html#z565_31">01849</a>    <a class="code" href="classMC2Allocator.html">MC2Allocator&lt;class Connection&gt;</a>* m_connectionAllocator;
01850 
01851 
<a name="l01852"></a><a class="code" href="classGenericMap.html#z565_32">01852</a>    <a class="code" href="classMC2Allocator.html">MC2Allocator&lt;TileMapCoord&gt;</a>* m_coordinateAllocator;
01853 
<a name="l01855"></a><a class="code" href="classGenericMap.html#z565_1">01855</a>    <span class="keyword">typedef</span> <a class="code" href="Types_8h.html#a19">uint16</a> CategoryID;
01856 
<a name="l01858"></a><a class="code" href="classGenericMap.html#z565_2">01858</a>    <span class="keyword">typedef</span> <a class="code" href="classMC2ArrayAllocator.html">MC2ArrayAllocator&lt;CategoryID&gt;</a> <a class="code" href="classMC2ArrayAllocator.html">CategoryAllocator</a>;
<a name="l01859"></a><a class="code" href="classGenericMap.html#z565_33">01859</a>    <a class="code" href="classMC2ArrayAllocator.html">CategoryAllocator</a>* m_categoryAllocator;
01860 
<a name="l01862"></a><a class="code" href="classGenericMap.html#z565_34">01862</a>    <a class="code" href="classMC2ArrayAllocator.html">MC2ArrayAllocator&lt; class ExpandStringLane &gt;</a>* m_laneAllocator;
01863 
<a name="l01865"></a><a class="code" href="classGenericMap.html#z565_35">01865</a>    <a class="code" href="classMC2ArrayAllocator.html">MC2ArrayAllocator&lt; class SignPost &gt;</a>* m_signPostAllocator;
01866 
<a name="l01868"></a><a class="code" href="classGenericMap.html#z565_36">01868</a>    <a class="code" href="classUserRightsItemTable.html">UserRightsItemTable</a>* m_userRightsTable;
01869 
<a name="l01871"></a><a class="code" href="classGenericMap.html#z565_37">01871</a>    <a class="code" href="classIDTranslationTable.html">IDTranslationTable</a> m_idTranslationTable;
01872 
<a name="l01874"></a><a class="code" href="classGenericMap.html#z565_38">01874</a>    <a class="code" href="classUserRightsMapInfo.html">UserRightsMapInfo</a>* m_allRight;
01875 
01877    <span class="keyword">friend</span> <a class="code" href="classItem.html">Item</a>* <a class="code" href="classItem.html#e1">Item::createNewItem</a>( <a class="code" href="classDataBuffer.html">DataBuffer</a>&amp;, <a class="code" href="classGenericMap.html">GenericMap</a>&amp; );
01878    <span class="keyword">friend</span> <a class="code" href="classConnection.html">Connection</a>* <a class="code" href="classConnection.html#e0">Connection::createNewConnection</a>( <a class="code" href="classDataBuffer.html">DataBuffer</a>&amp;, 
01879                                                        <a class="code" href="classGenericMap.html">GenericMap</a>&amp; );
01880 
<a name="l01882"></a><a class="code" href="classGenericMap.html#p9">01882</a>    <a class="code" href="Types_8h.html#a21">uint32</a> m_poiInfoStartOffset; <span class="comment">//&lt; start offset of POI Info data in file</span>
01886 <span class="comment"></span>   <span class="keywordtype">void</span> <a class="code" href="classGenericMap.html#b16">copyPOIInfoData</a>( <span class="keyword">const</span> <a class="code" href="classDataBuffer.html">DataBuffer</a>&amp; buffer );
01887 <span class="keyword">private</span>:
01888    <span class="keywordtype">void</span> <a class="code" href="classGenericMap.html#d4">loadSignPosts</a>( <a class="code" href="classDataBuffer.html">DataBuffer</a>&amp; buff );
01889    <span class="keywordtype">void</span> <a class="code" href="classGenericMap.html#d5">saveSignPosts</a>( <span class="keywordtype">int</span> outfile );
01890    <span class="keywordtype">void</span> <a class="code" href="classGenericMap.html#d6">loadLanes</a>( <a class="code" href="classDataBuffer.html">DataBuffer</a>&amp; buff );
01891    <span class="keywordtype">void</span> <a class="code" href="classGenericMap.html#d7">saveLanes</a>( <span class="keywordtype">int</span> outfile );
01892    <span class="keywordtype">void</span> <a class="code" href="classGenericMap.html#d8">loadCategoryIds</a>( <a class="code" href="classDataBuffer.html">DataBuffer</a>&amp; buff );
01893    <span class="keywordtype">void</span> <a class="code" href="classGenericMap.html#d9">saveCategoryIds</a>( <span class="keywordtype">int</span> outfile ) <span class="keyword">const</span>;
01894    <span class="keywordtype">void</span> <a class="code" href="classGenericMap.html#d10">loadRoadDisplayClasses</a>( <a class="code" href="classDataBuffer.html">DataBuffer</a>&amp; buff );
01895    <span class="keywordtype">void</span> <a class="code" href="classGenericMap.html#d11">saveRoadDisplayClasses</a>( <span class="keywordtype">int</span> outfile ) <span class="keyword">const</span>;
01896    <span class="keywordtype">void</span> <a class="code" href="classGenericMap.html#d12">loadAreaDisplayClasses</a>( <a class="code" href="classDataBuffer.html">DataBuffer</a>&amp; buff );
01897    <span class="keywordtype">void</span> <a class="code" href="classGenericMap.html#d13">saveAreaDisplayClasses</a>( <span class="keywordtype">int</span> outfile ) <span class="keyword">const</span>;
01898 
01902    <span class="keywordtype">void</span> <a class="code" href="classGenericMap.html#d14">loadIndexAreaOrders</a>( <a class="code" href="classDataBuffer.html">DataBuffer</a>&amp; buff );
01903 
01907    <span class="keywordtype">void</span> <a class="code" href="classGenericMap.html#d15">saveIndexAreaOrders</a>( <span class="keywordtype">int</span> outfile );
01908 
01909 
<a name="l01915"></a><a class="code" href="classGenericMap.html#r0">01915</a>    <a class="code" href="classScopedArray.html">ScopedArray&lt;adminAreaCentre_t&gt;</a> m_adminAreaCentres;
01916 
<a name="l01920"></a><a class="code" href="classGenericMap.html#r1">01920</a>    <a class="code" href="Types_8h.html#a21">uint32</a> m_nbrAdminAreaCentres;
01921 
01922 
<a name="l01923"></a><a class="code" href="classGenericMap.html#r2">01923</a>    <a class="code" href="classSelectableDataTable.html">streetSideTable_t</a> m_streetSideTable;
01924 
<a name="l01925"></a><a class="code" href="classGenericMap.html#r3">01925</a>    <a class="code" href="classSimpleArrayObject.html">SimpleArrayObject&lt;uint32&gt;</a> m_groups; 
<a name="l01926"></a><a class="code" href="classGenericMap.html#r4">01926</a>    <a class="code" href="classSimpleArrayObject.html">SimpleArrayObject&lt;uint32&gt;</a> m_names; 
<a name="l01927"></a><a class="code" href="classGenericMap.html#r5">01927</a>    <a class="code" href="classSimpleArrayObject.html">SimpleArrayObject&lt;uint32&gt;</a> m_itemsInGroup; 
01928 
<a name="l01930"></a><a class="code" href="classGenericMap.html#r6">01930</a>    <a class="code" href="classSimpleArrayObject.html">SimpleArrayObject&lt;uint32&gt;</a> m_poiOffsetTable;
01931 
<a name="l01933"></a><a class="code" href="classGenericMap.html#r7">01933</a>    <a class="code" href="classMC2Map_1_1Allocator.html">MC2Map::Allocator&lt; char &gt;</a> m_stlAllocator;
01934  
01935 <span class="comment">//   typedef std::map&lt;uint32, SignPostArray *&gt; SignPostMap;</span>
01936 <span class="comment">//   SignPostMap  m_signPostMap; ///&lt; sign posts in Connections</span>
01937 
<a name="l01939"></a><a class="code" href="classGenericMap.html#r8">01939</a>    <a class="code" href="classvector.html">NodeLaneMap</a> m_nodeLane;
01940 
01941    <span class="keyword">typedef</span> <a class="code" href="classvector.html">vector&lt; STLUtility::ValuePair&lt; uint32, uint32 &gt;</a>, <a class="code" href="classMC2Map_1_1Allocator.html">MC2Map::Allocator</a>&lt; 
<a name="l01942"></a><a class="code" href="classGenericMap.html#y0">01942</a>       <a class="code" href="classSTLUtility_1_1ValuePair.html">STLUtility::ValuePair&lt; uint32, uint32 &gt;</a> &gt; &gt; <a class="code" href="classvector.html">ConnectionLaneMap</a>;
<a name="l01944"></a><a class="code" href="classGenericMap.html#r9">01944</a>    <a class="code" href="classvector.html">ConnectionLaneMap</a> m_connectionLaneIdx;
01945 
<a name="l01947"></a><a class="code" href="classGenericMap.html#y1">01947</a>    <span class="keyword">typedef</span> <a class="code" href="classSTLUtility_1_1Array.html">STLUtility::Array&lt; CategoryID &gt;</a> <a class="code" href="classSTLUtility_1_1Array.html">CategoryArray</a>;
<a name="l01949"></a><a class="code" href="classGenericMap.html#y2">01949</a>    <span class="keyword">typedef</span> <a class="code" href="classSTLUtility_1_1ValuePair.html">STLUtility::ValuePair&lt; uint32, CategoryArray &gt;</a> <a class="code" href="classSTLUtility_1_1ValuePair.html">CategoryMapPair</a>;
01951    <span class="keyword">typedef</span> <a class="code" href="classvector.html">vector</a>&lt; <a class="code" href="classSTLUtility_1_1ValuePair.html">CategoryMapPair</a>, 
<a name="l01952"></a><a class="code" href="classGenericMap.html#y3">01952</a>                    <a class="code" href="classMC2Map_1_1Allocator.html">MC2Map::Allocator&lt; CategoryMapPair &gt;</a> &gt; <a class="code" href="classvector.html">CategoryMap</a>;
<a name="l01953"></a><a class="code" href="classGenericMap.html#r10">01953</a>    <a class="code" href="classvector.html">CategoryMap</a> m_categoryIds;
01954 
<a name="l01955"></a><a class="code" href="classGenericMap.html#r11">01955</a>    <a class="code" href="classvector.html">ConnectionSignPostMap</a> m_connectionSignPost;
01956 
<a name="l01958"></a><a class="code" href="classGenericMap.html#y4">01958</a>    <span class="keyword">typedef</span> <a class="code" href="classSimpleArrayObject.html">SimpleArrayObject&lt;uint32&gt;</a> <a class="code" href="classSimpleArrayObject.html">VehicleRestrictionArray</a>;
<a name="l01959"></a><a class="code" href="classGenericMap.html#r12">01959</a>    <a class="code" href="classSimpleArrayObject.html">VehicleRestrictionArray</a> m_vehicleRestrictions;
<a name="l01960"></a><a class="code" href="classGenericMap.html#r13">01960</a>    auto_ptr&lt;DataBuffer&gt; m_poiInfoData; 
01961 
01963    <span class="keyword">typedef</span> <a class="code" href="classvector.html">vector&lt; STLUtility::ValuePair&lt; uint32, uint32 &gt;</a>, <a class="code" href="classMC2Map_1_1Allocator.html">MC2Map::Allocator</a>&lt; 
<a name="l01964"></a><a class="code" href="classGenericMap.html#y5">01964</a>       <a class="code" href="classSTLUtility_1_1ValuePair.html">STLUtility::ValuePair&lt; uint32, uint32 &gt;</a> &gt; &gt; <a class="code" href="classvector.html">IndexAreaOrderMap</a>;
01965 
<a name="l01967"></a><a class="code" href="classGenericMap.html#r14">01967</a>    <a class="code" href="classvector.html">IndexAreaOrderMap</a> m_indexAreaOrderMap;
01968 };
01969 
01970 <span class="comment">// ========================================================================</span>
01971 <span class="comment">//                                      Implementation of inlined methods =</span>
01972 
01973 <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="classmap.html">map&lt;GenericMap::multiNodes_t, GenericMap::expandedNodes_t&gt;</a>*
<a name="l01974"></a><a class="code" href="classGenericMap.html#a6">01974</a> <a class="code" href="classGenericMap.html#a6">GenericMap::getNodeExpansionTable</a>()<span class="keyword"> const</span>
01975 <span class="keyword"></span>{
01976    <span class="keywordflow">return</span> &amp;m_nodeExpansionTable;
01977 }
01978 
01979 <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a21">uint32</a> 
<a name="l01980"></a><a class="code" href="classGenericMap.html#z553_0">01980</a> <a class="code" href="classGenericMap.html#z553_0">GenericMap::getNbrItemsWithZoom</a>(uint32 z)<span class="keyword"> const </span>
01981 <span class="keyword"></span>{
01982    <span class="keywordflow">if</span> (z&lt;NUMBER_GFX_ZOOMLEVELS)
01983       <span class="keywordflow">return</span> (<a class="code" href="classGenericMap.html#p1">m_itemsZoomSize</a>[z]);
01984    <span class="keywordflow">else</span>
01985       <span class="keywordflow">return</span> (0);
01986 }
01987 
01988 <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a21">uint32</a> 
<a name="l01989"></a><a class="code" href="classGenericMap.html#z553_1">01989</a> <a class="code" href="classGenericMap.html#z553_1">GenericMap::getNbrItems</a>()<span class="keyword"> const </span>
01990 <span class="keyword"></span>{
01991    <a class="code" href="Types_8h.html#a21">uint32</a> retVal = 0;
01992    <span class="keywordflow">for</span> (<a class="code" href="Types_8h.html#a21">uint32</a> z = 0; z &lt; NUMBER_GFX_ZOOMLEVELS; z++)
01993       retVal += <a class="code" href="classGenericMap.html#p1">m_itemsZoomSize</a>[z];
01994    <span class="keywordflow">return</span> (retVal);
01995 }
01996 
01997 <span class="keyword">inline</span> <a class="code" href="classItem.html">Item</a>* 
<a name="l01998"></a><a class="code" href="classGenericMap.html#z553_2">01998</a> <a class="code" href="classGenericMap.html#z553_2">GenericMap::getItem</a>(uint32 zoom, uint32 index)<span class="keyword"> const </span>
01999 <span class="keyword"></span>{
02000    <span class="keywordflow">if</span> (index &lt; <a class="code" href="classGenericMap.html#z553_0">getNbrItemsWithZoom</a>(zoom))
02001       <span class="keywordflow">return</span> (<a class="code" href="classGenericMap.html#p0">m_itemsZoom</a>[zoom][index]);
02002    <span class="keywordflow">else</span>
02003       <span class="keywordflow">return</span> (NULL);
02004 }
02005 
02006 <span class="keyword">inline</span> <a class="code" href="classItem.html">Item</a>*
<a name="l02007"></a><a class="code" href="classGenericMap.html#z553_3">02007</a> <a class="code" href="classGenericMap.html#z553_3">GenericMap::itemLookup</a>(uint32 itemID)<span class="keyword"> const </span>
02008 <span class="keyword"></span>{
02009    <span class="keywordflow">if</span> ((itemID &amp; 0x07ffffff) &lt; 
02010       <a class="code" href="classGenericMap.html#z553_0">getNbrItemsWithZoom</a>((itemID &amp; 0x78000000) &gt;&gt; 27))
02011       <span class="keywordflow">return</span> <a class="code" href="classGenericMap.html#p0">m_itemsZoom</a>[(itemID &amp; 0x78000000) &gt;&gt; 27]
02012                       [itemID &amp; 0x07ffffff];
02013    <span class="keywordflow">else</span>
02014       <span class="keywordflow">return</span> NULL;
02015 }
02016     
02017 <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="classGfxData.html">GfxData</a>* 
<a name="l02018"></a><a class="code" href="classGenericMap.html#a20">02018</a> <a class="code" href="classGenericMap.html#a20">GenericMap::getGfxData</a>()<span class="keyword"> const</span>
02019 <span class="keyword"></span>{
02020    <span class="keywordflow">return</span> (m_gfxData);
02021 }
02022 
02023 <span class="keyword">inline</span> <span class="keywordtype">void</span> 
<a name="l02024"></a><a class="code" href="classGenericMap.html#a21">02024</a> <a class="code" href="classGenericMap.html#a21">GenericMap::setGfxData</a>( <a class="code" href="classGfxData.html">GfxData</a>* mapGfx )
02025 {
02026    <a class="code" href="classGenericMap.html#o0">m_gfxData</a> = mapGfx;
02027 }
02028 
02029 
<a name="l02030"></a><a class="code" href="classGenericMap.html#a22">02030</a> <span class="keyword">inline</span> <a class="code" href="classGfxDataFactory.html">GfxDataFactory</a>&amp; <a class="code" href="classGenericMap.html#a22">GenericMap::getGfxDataFactory</a>() {
02031    <span class="keywordflow">return</span> *<a class="code" href="classGenericMap.html#z565_30">m_gfxDataFactory</a>.get();
02032 }
02033 
02034 <span class="keyword">inline</span> GenericMap::landmarkTable_t&amp;
<a name="l02035"></a><a class="code" href="classGenericMap.html#a56">02035</a> <a class="code" href="classGenericMap.html#a56">GenericMap::getLandmarkTable</a>()
02036 {
02037    <span class="keywordflow">return</span> (m_landmarkTable);
02038 }
02039 <span class="keyword">inline</span> <span class="keyword">const</span> GenericMap::landmarkTable_t&amp;
<a name="l02040"></a><a class="code" href="classGenericMap.html#a57">02040</a> <a class="code" href="classGenericMap.html#a56">GenericMap::getLandmarkTable</a>()<span class="keyword"> const</span>
02041 <span class="keyword"></span>{
02042    <span class="keywordflow">return</span> (m_landmarkTable);
02043 }
02044 
02045 <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="Types_8h.html#a21">uint32</a>* 
<a name="l02046"></a><a class="code" href="classGenericMap.html#a69">02046</a> <a class="code" href="classGenericMap.html#a69">GenericMap::getItemGroups</a>()<span class="keyword"> const </span>{
02047    <span class="keywordflow">return</span> <a class="code" href="classGenericMap.html#r3">m_groups</a>.<a class="code" href="classSimpleArray.html#a17">data</a>();
02048 }
02049 
02050 <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="Types_8h.html#a21">uint32</a>*
<a name="l02051"></a><a class="code" href="classGenericMap.html#a71">02051</a> <a class="code" href="classGenericMap.html#a71">GenericMap::getItemsInGroup</a>()<span class="keyword"> const </span>{
02052    <span class="keywordflow">return</span> <a class="code" href="classGenericMap.html#r5">m_itemsInGroup</a>.<a class="code" href="classSimpleArray.html#a17">data</a>();
02053 }
02054 
02055 <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="Types_8h.html#a21">uint32</a>*
<a name="l02056"></a><a class="code" href="classGenericMap.html#a70">02056</a> <a class="code" href="classGenericMap.html#a70">GenericMap::getItemNameIdx</a>()<span class="keyword"> const </span>{
02057    <span class="keywordflow">return</span> <a class="code" href="classGenericMap.html#r4">m_names</a>.<a class="code" href="classSimpleArray.html#a17">data</a>();
02058 }
02059 
02060 
02061 <span class="keyword">inline</span> <a class="code" href="classMapHashTable.html">MapHashTable</a>* 
<a name="l02062"></a><a class="code" href="classGenericMap.html#a25">02062</a> <a class="code" href="classGenericMap.html#a25">GenericMap::getHashTable</a>()<span class="keyword"> const</span>
02063 <span class="keyword"></span>{
02064    <span class="keywordflow">return</span> <a class="code" href="classGenericMap.html#p5">m_hashTable</a>.get();
02065 }
02066 
02067 <span class="keyword">inline</span> <a class="code" href="classItemNames.html">ItemNames</a>* 
<a name="l02068"></a><a class="code" href="classGenericMap.html#a81">02068</a> <a class="code" href="classGenericMap.html#a81">GenericMap::getItemNames</a>()<span class="keyword"> const </span>
02069 <span class="keyword"></span>{
02070    <span class="keywordflow">return</span> (m_itemNames);
02071 }
02072 
02073 <span class="keyword">inline</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* 
<a name="l02074"></a><a class="code" href="classGenericMap.html#z559_0">02074</a> <a class="code" href="classGenericMap.html#z559_0">GenericMap::getFirstItemName</a>(<span class="keyword">const</span> <a class="code" href="classItem.html">Item</a>* item)<span class="keyword"> const </span>
02075 <span class="keyword"></span>{
02076    <span class="comment">// Make sure that nothing is null</span>
02077    <span class="keywordflow">if</span> ((<a class="code" href="RouteRequestData_8h.html#a3a1">item</a> == NULL) || (<a class="code" href="classGenericMap.html#p3">m_itemNames</a> == NULL)) {
02078       <span class="keywordflow">return</span> (NULL);
02079    }
02080 
02081    <span class="comment">// Return the name, if any -- otherwise "MISSING"</span>
02082    <span class="keywordflow">if</span> (<a class="code" href="RouteRequestData_8h.html#a3a1">item</a>-&gt;<a class="code" href="classItem.html#z673_11">getNbrNames</a>() &gt; 0)
02083       <span class="keywordflow">return</span> (<a class="code" href="classGenericMap.html#p3">m_itemNames</a>-&gt;<a class="code" href="classItemNames.html#a9">getString</a>(<a class="code" href="RouteRequestData_8h.html#a3a1">item</a>-&gt;<a class="code" href="classItem.html#z673_2">getStringIndex</a>(0)));
02084    <span class="keywordflow">else</span>  
02085       <span class="keywordflow">return</span> (<a class="code" href="classGenericMap.html#p3">m_itemNames</a>-&gt;<a class="code" href="classItemNames.html#a9">getString</a>(0));
02086       <span class="comment">// Does not work for co map, where "MISSING" is not stored.</span>
02087 }
02088 
02089 <span class="keyword">inline</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* 
<a name="l02090"></a><a class="code" href="classGenericMap.html#z559_1">02090</a> <a class="code" href="classGenericMap.html#z559_0">GenericMap::getFirstItemName</a>(uint32 itemID)<span class="keyword"> const </span>
02091 <span class="keyword"></span>{
02092    <span class="keywordflow">return</span> (<a class="code" href="classGenericMap.html#z559_0">getFirstItemName</a>(<a class="code" href="classGenericMap.html#z553_3">itemLookup</a>(itemID)));
02093 }
02094 
02095 <span class="keyword">inline</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* 
<a name="l02096"></a><a class="code" href="classGenericMap.html#z559_13">02096</a> <a class="code" href="classGenericMap.html#z559_13">GenericMap::getName</a>(uint32 stringIndex)<span class="keyword"> const</span>
02097 <span class="keyword"></span>{
02098    <span class="keywordflow">if</span> (<a class="code" href="classGenericMap.html#p3">m_itemNames</a> != NULL) {
02099       <span class="keywordflow">return</span> (<a class="code" href="classGenericMap.html#p3">m_itemNames</a>-&gt;<a class="code" href="classItemNames.html#a9">getString</a>(stringIndex));
02100    } <span class="keywordflow">else</span> {
02101       <span class="keywordflow">throw</span> <a class="code" href="classGenericMapError.html">GenericMapError</a>(<span class="stringliteral">"Map has not been loaded!"</span>);
02102    }
02103 }
02104 
02105 <span class="keyword">inline</span> <span class="keyword">const</span> <span class="keywordtype">char</span>*
<a name="l02106"></a><a class="code" href="classGenericMap.html#z559_14">02106</a> <a class="code" href="classGenericMap.html#z559_14">GenericMap::getRawName</a>(uint32 rawIndex)<span class="keyword"> const</span>
02107 <span class="keyword"></span>{
02108    <span class="keywordflow">if</span> ( rawIndex == MAX_UINT32 ) {
02109       <span class="keywordflow">return</span> NULL;
02110    } <span class="keywordflow">else</span> {
02111       <span class="keywordflow">return</span> <a class="code" href="classGenericMap.html#z559_13">getName</a>(<a class="code" href="ItemTypes_8h.html#a10">GET_STRING_INDEX</a>(rawIndex));
02112    }
02113 }
02114 
02115 <span class="keyword">inline</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* 
<a name="l02116"></a><a class="code" href="classGenericMap.html#z559_9">02116</a> <a class="code" href="classGenericMap.html#z559_6">GenericMap::getBestItemName</a>(<span class="keyword">const</span> <a class="code" href="classItem.html">Item</a>* item, 
02117                             LangTypes::language_t strLang)<span class="keyword"> const</span>
02118 <span class="keyword"></span>{
02119 <span class="preprocessor">#if 1</span>
02120 <span class="preprocessor"></span>   <span class="keywordflow">if</span> ((<a class="code" href="RouteRequestData_8h.html#a3a1">item</a> == NULL) || (<a class="code" href="RouteRequestData_8h.html#a3a1">item</a>-&gt;<a class="code" href="classItem.html#z673_11">getNbrNames</a>() == 0)) {
02121       <span class="keywordflow">return</span> NULL;
02122    }
02123    <span class="keywordflow">return</span> <a class="code" href="classGenericMap.html#z559_14">getRawName</a>(<a class="code" href="RouteRequestData_8h.html#a3a1">item</a>-&gt;<a class="code" href="classItem.html#z673_6">getBestRawName</a>(strLang));
02124 <span class="preprocessor">#else</span>
02125 <span class="preprocessor"></span>   <a class="code" href="classvector.html">vector&lt;LangTypes::language_t&gt;</a> strLangs;
02126    strLangs.push_back(strLang);
02127    <span class="comment">// Use English as default language</span>
02128    <span class="keywordflow">if</span> (strLang != LangTypes::english) {
02129       strLangs.push_back(LangTypes::english);
02130    }
02131    <span class="keywordflow">return</span> <a class="code" href="classGenericMap.html#z559_6">getBestItemName</a>(<a class="code" href="RouteRequestData_8h.html#a3a1">item</a>, strLangs);
02132 <span class="preprocessor">#endif</span>
02133 <span class="preprocessor"></span>}
02134 
02135 <span class="keyword">inline</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* 
<a name="l02136"></a><a class="code" href="classGenericMap.html#z559_10">02136</a> <a class="code" href="classGenericMap.html#z559_6">GenericMap::getBestItemName</a>(<span class="keyword">const</span> <a class="code" href="classItem.html">Item</a>* item, 
02137                             <a class="code" href="classvector.html">vector&lt;LangTypes::language_t&gt;</a> &amp;strLang)<span class="keyword"> const</span>
02138 <span class="keyword"></span>{
02139    <span class="comment">// Make sure we have anything</span>
02140    <span class="keywordflow">if</span> ((<a class="code" href="RouteRequestData_8h.html#a3a1">item</a> == NULL) || (<a class="code" href="RouteRequestData_8h.html#a3a1">item</a>-&gt;<a class="code" href="classItem.html#z673_11">getNbrNames</a>() == 0)) {
02141       <span class="keywordflow">return</span> NULL;
02142    }
02143 
02144 <span class="preprocessor">#if 1</span>
02145 <span class="preprocessor"></span>   <span class="comment">// getRawName will return NULL if the index is MAX_UINT32</span>
02146    <span class="keywordflow">return</span> <a class="code" href="classGenericMap.html#z559_14">getRawName</a>(<a class="code" href="RouteRequestData_8h.html#a3a1">item</a>-&gt;<a class="code" href="classItem.html#z673_6">getBestRawName</a>(strLang));
02147 <span class="preprocessor">#else</span>
02148 <span class="preprocessor"></span>   
02149    <span class="comment">// 1. Official name</span>
02150    <span class="keyword">const</span> <span class="keywordtype">char</span>* retVal = <a class="code" href="classGenericMap.html#z559_6">getBestItemName</a>(<a class="code" href="RouteRequestData_8h.html#a3a1">item</a>, ItemTypes::officialName, 
02151                                         strLang);
02152    <span class="keywordflow">if</span> (retVal != NULL) {
02153       <span class="keywordflow">return</span> retVal;
02154    }
02155 
02156    <span class="comment">// 2. Alternative name in requested language, return when/if found!</span>
02157    retVal = <a class="code" href="classGenericMap.html#z559_6">getBestItemName</a>(<a class="code" href="RouteRequestData_8h.html#a3a1">item</a>, ItemTypes::alternativeName, strLang);
02158    <span class="keywordflow">if</span> (retVal != NULL) {
02159       <span class="keywordflow">return</span> retVal;
02160    }
02161 
02162    <span class="comment">// 3. Any name in requested language, return when/if found!</span>
02163    retVal = <a class="code" href="classGenericMap.html#z559_6">getBestItemName</a>(<a class="code" href="RouteRequestData_8h.html#a3a1">item</a>, ItemTypes::invalidName, strLang);
02164    <span class="keywordflow">if</span> (retVal != NULL) {
02165       <span class="keywordflow">return</span> retVal;
02166    }
02167 
02168    <span class="comment">// 4. Any name (the first one)</span>
02169    <span class="keywordflow">return</span> <a class="code" href="classGenericMap.html#z559_13">getName</a>(<a class="code" href="RouteRequestData_8h.html#a3a1">item</a>-&gt;<a class="code" href="classItem.html#z673_3">getRawStringIndex</a>(0));
02170 <span class="preprocessor">#endif</span>
02171 <span class="preprocessor"></span>}
02172 
02173 <span class="keyword">inline</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* 
<a name="l02174"></a><a class="code" href="classGenericMap.html#z559_6">02174</a> <a class="code" href="classGenericMap.html#z559_6">GenericMap::getBestItemName</a>(uint32 itemID)<span class="keyword"> const</span>
02175 <span class="keyword"></span>{
02176    <span class="keywordflow">return</span> (<a class="code" href="classGenericMap.html#z559_6">getBestItemName</a>(itemID, LangTypes::invalidLanguage));
02177 }
02178 
02179 <span class="keyword">inline</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* 
<a name="l02180"></a><a class="code" href="classGenericMap.html#z559_7">02180</a> <a class="code" href="classGenericMap.html#z559_6">GenericMap::getBestItemName</a>(uint32 itemID, LangTypes::language_t strLang)<span class="keyword"> const</span>
02181 <span class="keyword"></span>{
02182    <span class="keywordflow">return</span> (<a class="code" href="classGenericMap.html#z559_6">getBestItemName</a>(<a class="code" href="classGenericMap.html#z553_3">itemLookup</a>(itemID), strLang));
02183 }
02184 
02185 <span class="keyword">inline</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* 
<a name="l02186"></a><a class="code" href="classGenericMap.html#z559_8">02186</a> <a class="code" href="classGenericMap.html#z559_6">GenericMap::getBestItemName</a>(uint32 itemID, 
02187                             <a class="code" href="classvector.html">vector&lt;LangTypes::language_t&gt;</a> &amp;strLang)<span class="keyword"> const</span>
02188 <span class="keyword"></span>{
02189    <span class="keywordflow">return</span> (<a class="code" href="classGenericMap.html#z559_6">getBestItemName</a>(<a class="code" href="classGenericMap.html#z553_3">itemLookup</a>(itemID), strLang));
02190 }
02191 
02192 
02193 <span class="keyword">inline</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* 
<a name="l02194"></a><a class="code" href="classGenericMap.html#z559_11">02194</a> <a class="code" href="classGenericMap.html#z559_6">GenericMap::getBestItemName</a>(<span class="keyword">const</span> <a class="code" href="classItem.html">Item</a>* item, 
02195                             ItemTypes::name_t strType,
02196                             LangTypes::language_t strLang)<span class="keyword"> const</span>
02197 <span class="keyword"></span>{
02198 <span class="preprocessor">#if 1</span>
02199 <span class="preprocessor"></span>   <span class="keywordflow">if</span> ((<a class="code" href="RouteRequestData_8h.html#a3a1">item</a> == NULL) || (<a class="code" href="RouteRequestData_8h.html#a3a1">item</a>-&gt;<a class="code" href="classItem.html#z673_11">getNbrNames</a>() == 0)) {
02200       <span class="keywordflow">return</span> NULL;
02201    }
02202    <span class="keywordflow">return</span> <a class="code" href="classGenericMap.html#z559_14">getRawName</a>(<a class="code" href="RouteRequestData_8h.html#a3a1">item</a>-&gt;<a class="code" href="classItem.html#z673_9">getBestRawNameOfType</a>(strType, strLang) );
02203 <span class="preprocessor">#else</span>
02204 <span class="preprocessor"></span>   <a class="code" href="classvector.html">vector&lt;LangTypes::language_t&gt;</a> strLangs;
02205    strLangs.push_back(strLang);
02206    <span class="comment">// Use English as default language</span>
02207    <span class="keywordflow">if</span> (strLang != LangTypes::english) {
02208       strLangs.push_back(LangTypes::english);
02209    }
02210    <span class="keywordflow">return</span> <a class="code" href="classGenericMap.html#z559_6">getBestItemName</a>(<a class="code" href="RouteRequestData_8h.html#a3a1">item</a>, strType, strLangs);
02211 <span class="preprocessor">#endif</span>
02212 <span class="preprocessor"></span>}
02213 
02214 <span class="keyword">inline</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* 
<a name="l02215"></a><a class="code" href="classGenericMap.html#z559_12">02215</a> <a class="code" href="classGenericMap.html#z559_6">GenericMap::getBestItemName</a>(<span class="keyword">const</span> <a class="code" href="classItem.html">Item</a>* item, 
02216                             ItemTypes::name_t strType,
02217                             <a class="code" href="classvector.html">vector&lt;LangTypes::language_t&gt;</a> &amp;strLang)<span class="keyword"> const</span>
02218 <span class="keyword"></span>{
02219 <span class="preprocessor">#if 1</span>
02220 <span class="preprocessor"></span>   <span class="keywordflow">if</span> ((<a class="code" href="RouteRequestData_8h.html#a3a1">item</a> == NULL) || (<a class="code" href="RouteRequestData_8h.html#a3a1">item</a>-&gt;<a class="code" href="classItem.html#z673_11">getNbrNames</a>() == 0)) {
02221       <span class="keywordflow">return</span> NULL;
02222    }
02223    <span class="keywordflow">return</span> <a class="code" href="classGenericMap.html#z559_14">getRawName</a>(<a class="code" href="RouteRequestData_8h.html#a3a1">item</a>-&gt;<a class="code" href="classItem.html#z673_9">getBestRawNameOfType</a>(strType, strLang));
02224 <span class="preprocessor">#else</span>
02225 <span class="preprocessor"></span>   <a class="code" href="Types_8h.html#a21">uint32</a> i = 0;
02226    <span class="comment">// In requested language, return when/if found!</span>
02227    <span class="keywordflow">while</span> (i &lt; strLang.size()) {
02228       <a class="code" href="Types_8h.html#a21">uint32</a> strIndex = <a class="code" href="RouteRequestData_8h.html#a3a1">item</a>-&gt;<a class="code" href="classItem.html#z673_5">getNameWithType</a>(strType, strLang[i]);
02229       <span class="keywordflow">if</span> (strIndex != MAX_UINT32) {
02230          <span class="keywordflow">return</span> <a class="code" href="classGenericMap.html#z559_13">getName</a>(strIndex);
02231       }
02232       ++i;
02233    }
02234 
02235    <span class="comment">// Try any language</span>
02236    <a class="code" href="Types_8h.html#a21">uint32</a> strIndex = <a class="code" href="RouteRequestData_8h.html#a3a1">item</a>-&gt;<a class="code" href="classItem.html#z673_5">getNameWithType</a>(strType, 
02237                                            LangTypes::invalidLanguage);
02238    <span class="keywordflow">if</span> (strIndex != MAX_UINT32) {
02239       <span class="keywordflow">return</span> <a class="code" href="classGenericMap.html#z559_13">getName</a>(strIndex);
02240    }
02241    
02242    <span class="keywordflow">return</span> NULL;
02243 <span class="preprocessor">#endif</span>
02244 <span class="preprocessor"></span>}
02245 
02246 <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a21">uint32</a> <a class="code" href="classGenericMap.html#z559_3">GenericMap::</a>
<a name="l02247"></a><a class="code" href="classGenericMap.html#z559_3">02247</a> <a class="code" href="classGenericMap.html#z559_3">getNativeLanguageIndex</a>( <span class="keyword">const</span> <a class="code" href="classItem.html">Item</a>&amp; item,
02248                         ItemTypes::name_t strType )<span class="keyword"> const </span>{
02249    <span class="comment">// Get the name with correct type and language</span>
02250    <a class="code" href="Types_8h.html#a21">uint32</a> stringIndex = MAX_UINT32;
02251 
02252    <span class="comment">// Try the languages of the map</span>
02253    <span class="keywordflow">if</span> ( ! m_nativeLanguages.empty() ) {
02254       <a class="code" href="Types_8h.html#a21">uint32</a> mapLangNbr = 0;
02255       <span class="keywordflow">while</span> ( (stringIndex == MAX_UINT32) &amp;&amp; 
02256               (mapLangNbr &lt; m_nativeLanguages.size())) {
02257          stringIndex = <a class="code" href="RouteRequestData_8h.html#a3a1">item</a>.<a class="code" href="classItem.html#z673_5">getNameWithType</a>(strType, m_nativeLanguages[ mapLangNbr ] );
02258          mapLangNbr++;
02259       }
02260    }
02261 
02262    <span class="keywordflow">return</span> stringIndex;
02263 }
02264 
02265 <span class="keyword">inline</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* 
<a name="l02266"></a><a class="code" href="classGenericMap.html#z559_2">02266</a> <a class="code" href="classGenericMap.html#z559_2">GenericMap::getItemName</a>( <span class="keyword">const</span> <a class="code" href="classItem.html">Item</a>* item,
02267                          LangTypes::language_t strLang,
02268                          ItemTypes::name_t strType )<span class="keyword"> const </span>
02269 <span class="keyword"></span>{
02270    <span class="keywordflow">if</span> ( <a class="code" href="RouteRequestData_8h.html#a3a1">item</a> == NULL || <a class="code" href="classGenericMap.html#p3">m_itemNames</a> == NULL ) {
02271       <span class="keywordflow">return</span> NULL;
02272    }
02273 <span class="preprocessor">#if 1</span>
02274 <span class="preprocessor"></span>   <span class="keywordflow">return</span> <a class="code" href="classGenericMap.html#z559_14">getRawName</a>(<a class="code" href="RouteRequestData_8h.html#a3a1">item</a>-&gt;<a class="code" href="classItem.html#z673_6">getBestRawName</a>(strLang, strType));
02275 <span class="preprocessor">#else</span>
02276 <span class="preprocessor"></span>   <span class="comment">// Get the name with correct type and language</span>
02277    <a class="code" href="Types_8h.html#a21">uint32</a> stringIndex = <a class="code" href="RouteRequestData_8h.html#a3a1">item</a>-&gt;<a class="code" href="classItem.html#z673_5">getNameWithType</a>(strType, strLang);
02278 
02279    <span class="keywordflow">if</span> ( stringIndex == MAX_UINT32 ) {
02280       <span class="comment">// Try the languages of the map</span>
02281       stringIndex = <a class="code" href="classGenericMap.html#z559_3">getNativeLanguageIndex</a>( *<a class="code" href="RouteRequestData_8h.html#a3a1">item</a>, strType );
02282    }
02283 
02284    <span class="comment">// Try english</span>
02285    <span class="keywordflow">if</span> ((stringIndex == MAX_UINT32) &amp;&amp; (strLang != LangTypes::english))
02286       stringIndex = <a class="code" href="RouteRequestData_8h.html#a3a1">item</a>-&gt;<a class="code" href="classItem.html#z673_5">getNameWithType</a>(strType, LangTypes::english);
02287 
02288    <span class="comment">// Take the first name with correct type</span>
02289    <span class="keywordflow">if</span> (stringIndex == MAX_UINT32) 
02290       stringIndex = <a class="code" href="RouteRequestData_8h.html#a3a1">item</a>-&gt;<a class="code" href="classItem.html#z673_5">getNameWithType</a>(strType, LangTypes::invalidLanguage);
02291 
02292    <span class="comment">// Take the first name with any type</span>
02293    <span class="keywordflow">if</span> (stringIndex == MAX_UINT32) 
02294       stringIndex = <a class="code" href="RouteRequestData_8h.html#a3a1">item</a>-&gt;<a class="code" href="classItem.html#z673_5">getNameWithType</a>(ItemTypes::invalidName,
02295                                           LangTypes::invalidLanguage);
02296 
02297    <span class="comment">// Return the found name (or NULL if stringIndex == MAX_UINT32)</span>
02298    <span class="keywordflow">return</span> <a class="code" href="classGenericMap.html#p3">m_itemNames</a>-&gt;<a class="code" href="classItemNames.html#a9">getString</a>(stringIndex);
02299 <span class="preprocessor">#endif</span>
02300 <span class="preprocessor"></span>}
02301 
02302 <span class="keyword">inline</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* 
<a name="l02303"></a><a class="code" href="classGenericMap.html#z559_4">02303</a> <a class="code" href="classGenericMap.html#z559_2">GenericMap::getItemName</a>( uint32 itemID,
02304                          LangTypes::language_t strLang,
02305                          ItemTypes::name_t strType )<span class="keyword"> const </span>
02306 <span class="keyword"></span>{
02307    <span class="keywordflow">return</span> <a class="code" href="classGenericMap.html#z559_2">getItemName</a>( <a class="code" href="classGenericMap.html#z553_3">itemLookup</a>( itemID ), strLang, strType );
02308 }
02309 
02310 <span class="keyword">inline</span> <a class="code" href="classBoundrySegmentsVector.html">BoundrySegmentsVector</a>* 
<a name="l02311"></a><a class="code" href="classGenericMap.html#a39">02311</a> <a class="code" href="classGenericMap.html#a39">GenericMap::getBoundrySegments</a>()<span class="keyword"> const </span>
02312 <span class="keyword"></span>{
02313    <span class="keywordflow">return</span> m_segmentsOnTheBoundry;
02314 }
02315 
02316 <span class="keyword">inline</span> <span class="keywordtype">void</span>
<a name="l02317"></a><a class="code" href="classGenericMap.html#a67">02317</a> <a class="code" href="classGenericMap.html#a67">GenericMap::updateZoom</a>( <a class="code" href="classItem.html">Item</a>&amp; item ) {
02318    <span class="keywordtype">int</span> zoom = (<a class="code" href="RouteRequestData_8h.html#a3a1">item</a>.<a class="code" href="classItem.html#a3">getID</a>() &amp; 0x78000000) &gt;&gt; 27;
02319    <a class="code" href="classGenericMap.html#p0">m_itemsZoom</a>[ zoom ][ <a class="code" href="RouteRequestData_8h.html#a3a1">item</a>.<a class="code" href="classItem.html#a3">getID</a>() &amp; 0x07FFFFFF ] = &amp;item;
02320 }
02321 
02322 <span class="preprocessor">#endif</span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Wed Jun 30 10:11:46 2010 for mc2 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.3.9.1 </small></address>
</body>
</html>
