<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>mc2: MimePart.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.9.1 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<div class="nav">
<a class="el" href="dir_000002.html">Server</a>&nbsp;/&nbsp;<a class="el" href="dir_000005.html">Shared</a>&nbsp;/&nbsp;<a class="el" href="dir_000006.html">include</a></div>
<h1>MimePart.h</h1><a href="MimePart_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment">00001 <span class="comment">/*</span>
00002 <span class="comment">Copyright (c) 1999 - 2010, Vodafone Group Services Ltd</span>
00003 <span class="comment">All rights reserved.</span>
00004 <span class="comment"></span>
00005 <span class="comment">Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</span>
00006 <span class="comment"></span>
00007 <span class="comment">    * Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</span>
00008 <span class="comment">    * Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</span>
00009 <span class="comment">    * Neither the name of the Vodafone Group Services Ltd nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.</span>
00010 <span class="comment"></span>
00011 <span class="comment">THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span>
00012 <span class="comment">*/</span>
00013 
00014 <span class="preprocessor">#ifndef MimePart_H</span>
00015 <span class="preprocessor"></span><span class="preprocessor">#define MimePart_H</span>
00016 <span class="preprocessor"></span>
00017 <span class="comment">// Includes</span>
00018 <span class="preprocessor">#include "<a class="code" href="config_8h.html">config.h</a>"</span>
00019 <span class="preprocessor">#include "<a class="code" href="ImageDrawConfig_8h.html">ImageDrawConfig.h</a>"</span>
00020 <span class="preprocessor">#include "<a class="code" href="MC2String_8h.html">MC2String.h</a>"</span>
00021 
00022 <span class="keyword">class </span><a class="code" href="classMimePartText.html">MimePartText</a>;
00023 
00024 
<a name="l00029"></a><a class="code" href="classMimePart.html">00029</a> <span class="keyword">class </span><a class="code" href="classMimePart.html">MimePart</a> {
00030    <span class="keyword">public</span>:
<a name="l00034"></a><a class="code" href="classMimePart.html#w9">00034</a>       <span class="keyword">enum</span> mainContentType {
00036          MAIN_CONTENT_TYPE_TEXT,
00037          
00039          MAIN_CONTENT_TYPE_IMAGE,
00040 
00042          MAIN_CONTENT_TYPE_APPLICATION,
00043  
00045          MAIN_CONTENT_TYPE_NBR
00046       };
00047 
00048 
<a name="l00052"></a><a class="code" href="classMimePart.html#w10">00052</a>       <span class="keyword">enum</span> transferEncoding {
00054          TRANSFER_ENCODING_BASE64,
00055 
00057          TRANSFER_ENCODING_END
00058       };
00059 
00060 
<a name="l00064"></a><a class="code" href="classMimePart.html#w11">00064</a>       <span class="keyword">enum</span> characterSet {
00066          CHARSET_ISO_8859_1 = 0,
00067 
00069          CHARSET_UTF_8,
00070 
00072          CHARSET_END
00073       };
00074 
00075       
00088       <a class="code" href="classMimePart.html">MimePart</a>( <span class="keyword">const</span> byte* buff, uint32 buffLength,
00089                 mainContentType mainType, 
00090                 <span class="keyword">const</span> <span class="keywordtype">char</span>* contentLocation, <span class="keywordtype">bool</span> copyLocation,
00091                 transferEncoding encoding = TRANSFER_ENCODING_BASE64 );
00092 
00093 
00097       <a class="code" href="classMimePart.html">MimePart</a>( <span class="keyword">const</span> <a class="code" href="classMimePart.html">MimePart</a>&amp; other );
00098 
00099       
00103       <span class="keyword">virtual</span> ~<a class="code" href="classMimePart.html">MimePart</a>();
00104 
00105       
00110       <span class="keyword">const</span> <span class="keywordtype">char</span>* getContentLocation() <span class="keyword">const</span>;
00111 
00112       
00117       <span class="keyword">const</span> <span class="keywordtype">char</span>* getContent() <span class="keyword">const</span>;
00118 
00119 
00124       <a class="code" href="Types_8h.html#a21">uint32</a> getContentLength() <span class="keyword">const</span>;
00125 
00126       
00131       mainContentType getMainContentType() <span class="keyword">const</span>;
00132       
00133       
00138       <span class="keyword">virtual</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* getContentType() <span class="keyword">const </span>= 0;
00139 
00140       
00144       <span class="keyword">const</span> <span class="keywordtype">char</span>* getTransferEncoding() <span class="keyword">const</span>;
00145 
00146 
00154       <a class="code" href="Types_8h.html#a25">byte</a>* getUnencodedContent( uint32&amp; size ) <span class="keyword">const</span>;
00155 
00156 
00165       <span class="keyword">static</span> <span class="keywordtype">char</span>* transferEncode( <span class="keyword">const</span> byte* buff, uint32 buffLength,
00166                                    transferEncoding encoding,
00167                                    uint32&amp; outLength );
00168 
00169 
00177       <span class="keyword">static</span> <a class="code" href="Types_8h.html#a25">byte</a>* transferDecode( <span class="keyword">const</span> <span class="keywordtype">char</span>* buff, uint32 buffLength,
00178                                    transferEncoding encoding,
00179                                    uint32&amp; outLength );
00180 
00181 
00185       <span class="keywordtype">void</span> addHeaderfield( <span class="keyword">const</span> <span class="keywordtype">char</span>* name, <span class="keyword">const</span> <span class="keywordtype">char</span>* value );
00186 
00187 
00191       <span class="keyword">const</span> <a class="code" href="classvector.html">vector&lt;MC2String&gt;</a>&amp; getHeaderfield() <span class="keyword">const</span>;
00192 
00193 
00197       <span class="keyword">virtual</span> <a class="code" href="classMimePart.html">MimePart</a>* getClone() <span class="keyword">const </span>= 0;
00198 
00199 
<a name="l00203"></a><a class="code" href="classMimePart.html#s0">00203</a>       <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* m_transferEncodingStr[];
00204 
00205 
<a name="l00209"></a><a class="code" href="classMimePart.html#s1">00209</a>       <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* m_characterSetStr[];
00210 
00211    <span class="keyword">private</span>:
00212       
<a name="l00216"></a><a class="code" href="classMimePart.html#r0">00216</a>       <span class="keywordtype">char</span>* m_buff;
00217 
00218 
<a name="l00222"></a><a class="code" href="classMimePart.html#r1">00222</a>       <a class="code" href="Types_8h.html#a21">uint32</a> m_buffLength;
00223 
00224 
<a name="l00228"></a><a class="code" href="classMimePart.html#r2">00228</a>       mainContentType m_type;
00229 
00230       
<a name="l00234"></a><a class="code" href="classMimePart.html#r3">00234</a>       <span class="keywordtype">char</span>* m_contentLocation;
00235 
00236       
<a name="l00240"></a><a class="code" href="classMimePart.html#r4">00240</a>       <span class="keywordtype">bool</span> m_copyLocation;
00241 
00242 
<a name="l00246"></a><a class="code" href="classMimePart.html#r5">00246</a>       transferEncoding m_transferEncoding;
00247 
00248 
<a name="l00252"></a><a class="code" href="classMimePart.html#r6">00252</a>       <a class="code" href="classvector.html">vector&lt;MC2String&gt;</a> m_extraHeaders;
00253 };
00254 
00255 
<a name="l00260"></a><a class="code" href="classMimePartText.html">00260</a> <span class="keyword">class </span><a class="code" href="classMimePartText.html">MimePartText</a> : <span class="keyword">public</span> <a class="code" href="classMimePart.html">MimePart</a> {
00261    <span class="keyword">public</span>:
<a name="l00265"></a><a class="code" href="classMimePartText.html#w6">00265</a>       <span class="keyword">enum</span> <a class="code" href="classMimePartText.html#w6">contentType</a> {
00267          <a class="code" href="classMimePartText.html#w6w0">CONTENT_TYPE_TEXT_HTML</a> = 0,
00269          CONTENT_TYPE_TEXT_XML,
00271          CONTENT_TYPE_TEXT_PLAIN,
00273          CONTENT_TYPE_TEXT_CCS,
00274          <span class="comment">// text/vnd.wap.wml</span>
00275          CONTENT_TYPE_TEXT_WML,
00277          <a class="code" href="classMimePartText.html#w6w5">CONTENT_TYPE_NBR</a>
00278       };         
00279 
00280 
00294       <a class="code" href="classMimePartText.html#a0">MimePartText</a>( <span class="keyword">const</span> byte* buff, uint32 buffLength,
00295                     contentType type, 
00296                     characterSet charset,
00297                     <span class="keyword">const</span> <span class="keywordtype">char</span>* contentLocation, <span class="keywordtype">bool</span> copyLocation,
00298                     transferEncoding encoding = TRANSFER_ENCODING_BASE64 );
00299 
00300 
00304       <a class="code" href="classMimePartText.html#a0">MimePartText</a>( <span class="keyword">const</span> <a class="code" href="classMimePartText.html">MimePartText</a>&amp; other );
00305 
00306 
00310       <span class="keyword">virtual</span> <a class="code" href="classMimePartText.html#a2">~MimePartText</a>();
00311    
00312       
00316       <span class="keyword">virtual</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classMimePartText.html#a3">getContentType</a>() <span class="keyword">const</span>;
00317 
00318 
00324       <span class="keyword">static</span> contentType <a class="code" href="classMimePartText.html#e0">getContentTypeForMimeType</a>( <span class="keyword">const</span> <span class="keywordtype">char</span>* mimeType );
00325 
00326 
00333       <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classMimePartText.html#e1">getContentTypeAsString</a>( contentType type );
00334 
00335 
00339       <span class="keyword">virtual</span> <a class="code" href="classMimePart.html">MimePart</a>* <a class="code" href="classMimePartText.html#a4">getClone</a>() <span class="keyword">const</span>;
00340 
00341 
00342    <span class="keyword">private</span>:
<a name="l00346"></a><a class="code" href="classMimePartText.html#v0">00346</a>       <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classMimePartText.html#v0">m_contentTypeStr</a>[];
00347 
00348       
<a name="l00352"></a><a class="code" href="classMimePartText.html#r0">00352</a>       <span class="keywordtype">char</span>* m_contentType;
00353 };
00354 
00355 
00356 
<a name="l00361"></a><a class="code" href="classMimePartImage.html">00361</a> <span class="keyword">class </span><a class="code" href="classMimePartImage.html">MimePartImage</a> : <span class="keyword">public</span> <a class="code" href="classMimePart.html">MimePart</a> {
00362    <span class="keyword">public</span>:
<a name="l00366"></a><a class="code" href="classMimePartImage.html#w5">00366</a>       <span class="keyword">enum</span> <a class="code" href="classMimePartImage.html#w5">contentType</a> {
00368          CONTENT_TYPE_IMAGE_GIF,
00370          CONTENT_TYPE_IMAGE_PNG,
00372          CONTENT_TYPE_IMAGE_JPEG,
00374          CONTENT_TYPE_IMAGE_WBMP,
00376          <a class="code" href="classMimePartImage.html#w5w4">CONTENT_TYPE_NBR</a>
00377       };
00378 
00379 
00384       <span class="keyword">static</span> contentType <a class="code" href="classMimePartImage.html#e0">imageTypeFromImageFormat</a>( 
00385          ImageDrawConfig::imageFormat format );
00386 
00387 
00399       <a class="code" href="classMimePartImage.html#a0">MimePartImage</a>( <span class="keyword">const</span> byte* buff, uint32 buffLength,
00400                      contentType type, 
00401                      <span class="keyword">const</span> <span class="keywordtype">char</span>* contentLocation, <span class="keywordtype">bool</span> copyLocation,
00402                      transferEncoding encoding = 
00403                      TRANSFER_ENCODING_BASE64 );
00404 
00405 
00409       <a class="code" href="classMimePartImage.html#a0">MimePartImage</a>( <span class="keyword">const</span> <a class="code" href="classMimePartImage.html">MimePartImage</a>&amp; other );
00410 
00411 
00415       <span class="keyword">virtual</span> <a class="code" href="classMimePartImage.html#a2">~MimePartImage</a>();
00416    
00417       
00421       <span class="keyword">virtual</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classMimePartImage.html#a3">getContentType</a>() <span class="keyword">const</span>;
00422       
00423 
00429       <span class="keyword">static</span> contentType <a class="code" href="classMimePartImage.html#e1">getContentTypeForMimeType</a>( <span class="keyword">const</span> <span class="keywordtype">char</span>* mimeType );
00430 
00431 
00438       <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classMimePartImage.html#e2">getContentTypeAsString</a>( contentType type );
00439 
00440 
00444       <span class="keyword">virtual</span> <a class="code" href="classMimePart.html">MimePart</a>* <a class="code" href="classMimePartImage.html#a4">getClone</a>() <span class="keyword">const</span>;
00445 
00446 
00447    <span class="keyword">private</span>:
<a name="l00451"></a><a class="code" href="classMimePartImage.html#v0">00451</a>       <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classMimePartImage.html#v0">m_contentTypeStr</a>[];
00452 
00453       
<a name="l00457"></a><a class="code" href="classMimePartImage.html#r0">00457</a>       <a class="code" href="classMimePartImage.html#w5">contentType</a> m_contentType;
00458 };
00459 
00460 
<a name="l00465"></a><a class="code" href="classMimePartApplication.html">00465</a> <span class="keyword">class </span><a class="code" href="classMimePartApplication.html">MimePartApplication</a> : <span class="keyword">public</span> <a class="code" href="classMimePart.html">MimePart</a> {
00466    <span class="keyword">public</span>:
<a name="l00470"></a><a class="code" href="classMimePartApplication.html#w4">00470</a>       <span class="keyword">enum</span> <a class="code" href="classMimePartApplication.html#w4">contentType</a> {
00472          <a class="code" href="classMimePartApplication.html#w4w0">CONTENT_TYPE_APPLICATION_OCTETSTREAM</a> = 0,
00474          <a class="code" href="classMimePartApplication.html#w4w1">CONTENT_TYPE_APPLICATION_SMIL</a> = 1,
00476          <a class="code" href="classMimePartApplication.html#w4w2">CONTENT_TYPE_APPLICATION_XML</a> = 2,
00478          <a class="code" href="classMimePartApplication.html#w4w3">CONTENT_TYPE_NBR</a>
00479       };
00480 
00481 
00496       <a class="code" href="classMimePartApplication.html#a0">MimePartApplication</a>( <span class="keyword">const</span> byte* buff, uint32 buffLength,
00497                            contentType type, 
00498                            <span class="keyword">const</span> <span class="keywordtype">char</span>* contentLocation, <span class="keywordtype">bool</span> copyLocation,
00499                            characterSet charset = CHARSET_END,
00500                            transferEncoding encoding = 
00501                            TRANSFER_ENCODING_BASE64 );
00502 
00503 
00507       <a class="code" href="classMimePartApplication.html#a0">MimePartApplication</a>( <span class="keyword">const</span> <a class="code" href="classMimePartApplication.html">MimePartApplication</a>&amp; other );
00508 
00509 
00513       <span class="keyword">virtual</span> <a class="code" href="classMimePartApplication.html#a2">~MimePartApplication</a>();
00514    
00515       
00519       <span class="keyword">virtual</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classMimePartApplication.html#a3">getContentType</a>() <span class="keyword">const</span>;
00520 
00521 
00527       <span class="keyword">static</span> contentType <a class="code" href="classMimePartApplication.html#e0">getContentTypeForMimeType</a>( <span class="keyword">const</span> <span class="keywordtype">char</span>* mimeType );
00528 
00529 
00536       <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classMimePartApplication.html#e1">getContentTypeAsString</a>( contentType type );
00537 
00538 
00542       <span class="keyword">virtual</span> <a class="code" href="classMimePart.html">MimePart</a>* <a class="code" href="classMimePartApplication.html#a4">getClone</a>() <span class="keyword">const</span>;
00543 
00544 
00545    <span class="keyword">private</span>:
<a name="l00549"></a><a class="code" href="classMimePartApplication.html#v0">00549</a>       <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classMimePartApplication.html#v0">m_contentTypeStr</a>[];
00550 
00551 
<a name="l00555"></a><a class="code" href="classMimePartApplication.html#r0">00555</a>       <span class="keywordtype">char</span>* m_contentType;
00556 };
00557 
00558 
00559 <span class="preprocessor">#endif // MimePart_H </span>
00560 <span class="preprocessor"></span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Wed Jun 30 10:11:48 2010 for mc2 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.3.9.1 </small></address>
</body>
</html>
