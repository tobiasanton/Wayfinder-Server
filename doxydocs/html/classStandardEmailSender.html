<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>mc2: StandardEmailSender Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.9.1 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>StandardEmailSender Class Reference</h1>Objects of this class is to be used when sending emails.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="StandardEmailSender_8h-source.html">StandardEmailSender.h</a>&gt;</code>
<p>
Inheritance diagram for StandardEmailSender:<p><center><img src="classStandardEmailSender__inherit__graph.png" border="0" usemap="#StandardEmailSender__inherit__map" alt="Inheritance graph"></center>
<map name="StandardEmailSender__inherit__map">
<area href="classEmailSender.html" shape="rect" coords="32,5,131,32" alt="">
</map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center>Collaboration diagram for StandardEmailSender:<p><center><img src="classStandardEmailSender__coll__graph.png" border="0" usemap="#StandardEmailSender__coll__map" alt="Collaboration graph"></center>
<map name="StandardEmailSender__coll__map">
<area href="classEmailSender.html" shape="rect" coords="32,5,131,32" alt="">
</map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center><a href="classStandardEmailSender-members.html">List of all members.</a><h2>Public Member Functions</h2>
<ul>
<li><a class="el" href="classStandardEmailSender.html#a0">StandardEmailSender</a> ()
<dl class="el"><dd class="mdescRight">Create a new StandardEmailSender.  <a href="#a0"></a><br></dl><li><a class="el" href="classStandardEmailSender.html#a1">StandardEmailSender</a> (const char *smtpHost)
<dl class="el"><dd class="mdescRight">Create a new StandardEmailSender.  <a href="#a1"></a><br></dl><li>bool <a class="el" href="classStandardEmailSender.html#a2">sendMail</a> (const char *fromAddress, const char *toAddress, const char *subject, <a class="el" href="Types_8h.html#a21">uint32</a> nbrOptionalHeaders, const char *const *const optionalHeaderTypes, const char *const *const optionalHeaderValues, const char *message)
<dl class="el"><dd class="mdescRight"><dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fromAddress</em>&nbsp;</td><td>The address in the from-field. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>toAddress</em>&nbsp;</td><td>The recipents email address. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>subject</em>&nbsp;</td><td>The subject of the email. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>nbrOptionalHeaders</em>&nbsp;</td><td>The number of headerlines in optionalHeaderTypes and optionalHeaderValues. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>optionalHeaderTypes</em>&nbsp;</td><td>The types of the optional headerlines. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>optionalHeaderValues</em>&nbsp;</td><td>The values of the optional headerlines. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>message</em>&nbsp;</td><td>The body in the email. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>True if the message is sent properly, false otherwise.</dd></dl>
  <a href="#a2"></a><br></dl></ul>
<h2>Private Member Functions</h2>
<ul>
<li><a class="el" href="classMC2String.html">MC2String</a> <a class="el" href="classStandardEmailSender.html#d0">createHeaderLine</a> (const char *headerData)
<dl class="el"><dd class="mdescRight">Creates header line.  <a href="#d0"></a><br></dl><li>bool <a class="el" href="classStandardEmailSender.html#d1">responseOK</a> (const char *inbuff, int size, const char *ok)
<dl class="el"><dd class="mdescRight">Check a SMTP-response.  <a href="#d1"></a><br></dl></ul>
<h2>Private Attributes</h2>
<ul>
<li>char * <a class="el" href="classStandardEmailSender.html#r0">m_smtphost</a>
<dl class="el"><dd class="mdescRight">The name of the host, running the SMTP-server.  <a href="#r0"></a><br></dl><li><a class="el" href="Types_8h.html#a21">uint32</a> <a class="el" href="classStandardEmailSender.html#r1">m_smtpport</a>
<dl class="el"><dd class="mdescRight">The port that will be used at m_smtphost.  <a href="#r1"></a><br></dl></ul>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Objects of this class is to be used when sending emails. 
<p>
The objects store the SMTP-host as an attribute, and then the sendMail-method might be called many times. The mail is send with SMTP (Simple Mail Transfer Protocol), that is described in RFC 821 and 822. The possible error codes etc. are also described in that RFC's.<p>
It might be necessery to do some implovements to this class for example: <ul>
<li>
Option to send one mail to several recipients. </li>
<li>
Avoid looking up the name of the SMTP-host every time a mail should be sent. </li>
<li>
User supplied header lines, Content-Type, Mime-Version etc.. </li>
</ul>

<p>

<p>
Definition at line <a class="el" href="StandardEmailSender_8h-source.html#l00037">37</a> of file <a class="el" href="StandardEmailSender_8h-source.html">StandardEmailSender.h</a>.<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="a0" doxytag="StandardEmailSender::StandardEmailSender"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">StandardEmailSender::StandardEmailSender           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Create a new StandardEmailSender. 
<p>
Default values will be used for the SMTP-host and the port there.     </td>
  </tr>
</table>
<a class="anchor" name="a1" doxytag="StandardEmailSender::StandardEmailSender"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">StandardEmailSender::StandardEmailSender           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const char *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>smtpHost</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Create a new StandardEmailSender. 
<p>
Use the given SMTP-host to send the mails. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>smtphost</em>&nbsp;</td><td>The name of the SMTP-host. </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="d0" doxytag="StandardEmailSender::createHeaderLine"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="classMC2String.html">MC2String</a> StandardEmailSender::createHeaderLine           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const char *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>headerData</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [private]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Creates header line. 
<p>
Adds encoding if necessary.     </td>
  </tr>
</table>
<a class="anchor" name="d1" doxytag="StandardEmailSender::responseOK"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool StandardEmailSender::responseOK           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>inbuff</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>size</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>ok</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [private]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Check a SMTP-response. 
<p>
Example of usage: <code>if (!responseOK(inbuff, nbrReadBytes, "250")) MC2ERROR("...");</code> <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>inbuff</em>&nbsp;</td><td>The data read from the socket. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>The size of the indata. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ok</em>&nbsp;</td><td>A string containing the "good" answer code that should be present in the inbuff to make this method return true. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>True if the given inbuffer contains the ok-answer. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a2" doxytag="StandardEmailSender::sendMail"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool StandardEmailSender::sendMail           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>fromAddress</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>toAddress</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>subject</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="Types_8h.html#a21">uint32</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>nbrOptionalHeaders</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const char *const *const &nbsp;</td>
          <td class="mdname" nowrap> <em>optionalHeaderTypes</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const char *const *const &nbsp;</td>
          <td class="mdname" nowrap> <em>optionalHeaderValues</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>message</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fromAddress</em>&nbsp;</td><td>The address in the from-field. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>toAddress</em>&nbsp;</td><td>The recipents email address. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>subject</em>&nbsp;</td><td>The subject of the email. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>nbrOptionalHeaders</em>&nbsp;</td><td>The number of headerlines in optionalHeaderTypes and optionalHeaderValues. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>optionalHeaderTypes</em>&nbsp;</td><td>The types of the optional headerlines. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>optionalHeaderValues</em>&nbsp;</td><td>The values of the optional headerlines. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>message</em>&nbsp;</td><td>The body in the email. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>True if the message is sent properly, false otherwise.</dd></dl>
 
<p>

<p>
Implements <a class="el" href="classEmailSender.html#a1">EmailSender</a>.    </td>
  </tr>
</table>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="r0" doxytag="StandardEmailSender::m_smtphost"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">char* <a class="el" href="classStandardEmailSender.html#r0">StandardEmailSender::m_smtphost</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The name of the host, running the SMTP-server. 
<p>

<p>
Definition at line <a class="el" href="StandardEmailSender_8h-source.html#l00073">73</a> of file <a class="el" href="StandardEmailSender_8h-source.html">StandardEmailSender.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="r1" doxytag="StandardEmailSender::m_smtpport"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="Types_8h.html#a21">uint32</a> <a class="el" href="classStandardEmailSender.html#r1">StandardEmailSender::m_smtpport</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The port that will be used at m_smtphost. 
<p>
The default value is 25. 
<p>
Definition at line <a class="el" href="StandardEmailSender_8h-source.html#l00079">79</a> of file <a class="el" href="StandardEmailSender_8h-source.html">StandardEmailSender.h</a>.    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="StandardEmailSender_8h-source.html">StandardEmailSender.h</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Wed Jun 30 10:27:33 2010 for mc2 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.3.9.1 </small></address>
</body>
</html>
