<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>mc2: CategoriesDataHolder Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.9.1 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>CategoriesDataHolder Class Reference</h1>Class for holding read <a class="el" href="classCategoriesData.html">CategoriesData</a> data.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="CategoriesData_8h-source.html">CategoriesData.h</a>&gt;</code>
<p>
Inheritance diagram for CategoriesDataHolder:<p><center><img src="classCategoriesDataHolder__inherit__graph.png" border="0" usemap="#CategoriesDataHolder__inherit__map" alt="Inheritance graph"></center>
<map name="CategoriesDataHolder__inherit__map">
<area href="classNavCategoriesDataHolder.html" shape="rect" coords="5,80,181,107" alt="">
<area href="classXMLCategoriesDataHolder.html" shape="rect" coords="205,80,387,107" alt="">
</map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center>Collaboration diagram for CategoriesDataHolder:<p><center><img src="classCategoriesDataHolder__coll__graph.png" border="0" usemap="#CategoriesDataHolder__coll__map" alt="Collaboration graph"></center>
<map name="CategoriesDataHolder__coll__map">
<area href="classISABMutex.html" shape="rect" coords="37,5,125,32" alt="">
</map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center><a href="classCategoriesDataHolder-members.html">List of all members.</a><h2>Public Types</h2>
<ul>
<li>typedef <a class="el" href="Types_8h.html#a21">uint32</a> <a class="el" href="classCategoriesDataHolder.html#w0">POIType</a>
</ul>
<h2>Public Member Functions</h2>
<ul>
<li><a class="el" href="classCategoriesDataHolder.html#a0">CategoriesDataHolder</a> ()
<dl class="el"><dd class="mdescRight">CategoriesDataHolder.  <a href="#a0"></a><br></dl><li>virtual <a class="el" href="classCategoriesDataHolder.html#a1">~CategoriesDataHolder</a> ()
<dl class="el"><dd class="mdescRight">Destructor.  <a href="#a1"></a><br></dl><li><a class="el" href="classCategoriesData.html">CategoriesData</a> * <a class="el" href="classCategoriesDataHolder.html#a2">makeCategory</a> (const <a class="el" href="classMC2String.html">MC2String</a> &amp;categorySet, <a class="el" href="namespaceImageTable.html#a137">ImageTable::ImageSet</a> imageSet, const char *clientType, <a class="el" href="classLangTypes.html#w99">LangTypes::language_t</a> language, bool latin1, <a class="el" href="classCategoryRegionID.html">CategoryRegionID</a> catRegionID)
<dl class="el"><dd class="mdescRight">Make the category.  <a href="#a2"></a><br></dl><li>const char * <a class="el" href="classCategoriesDataHolder.html#a3">getSearchListImageName</a> (<a class="el" href="namespaceImageTable.html#a137">ImageTable::ImageSet</a> imageSet, <a class="el" href="classCategoriesDataHolder.html#w0">POIType</a> poiType) const 
<dl class="el"><dd class="mdescRight">Get image for search list from poi type, if we don't have an icon for the poi or if the image set doesn't have special icons for the search list "" is returned and the caller should fall back on for instance regular poi icons.  <a href="#a3"></a><br></dl></ul>
<h2>Protected Member Functions</h2>
<ul>
<li>virtual <a class="el" href="classCategoriesData.html">CategoriesData</a> * <a class="el" href="classCategoriesDataHolder.html#b0">createCategoriesData</a> (bool latin1)=0
<dl class="el"><dd class="mdescRight">Create a new <a class="el" href="classCategoriesData.html">CategoriesData</a> object.  <a href="#b0"></a><br></dl></ul>
<h2>Private Types</h2>
<ul>
<li>typedef std::map&lt; <a class="el" href="classCategoriesDataHolder.html#w0">POIType</a>,<br>
 const char * &gt; <a class="el" href="classCategoriesDataHolder.html#y0">POIImageTable</a>
<dl class="el"><dd class="mdescRight">point of interest type to image name map  <a href="#y0"></a><br></dl><li>typedef <a class="el" href="classMC2String.html">MC2String</a> <a class="el" href="classCategoriesDataHolder.html#y1">CategoryListName</a>
<li>typedef std::map&lt; <a class="el" href="classMC2String.html">CategoryListName</a>,<br>
 <a class="el" href="classCategoriesDataHolder.html#y0">POIImageTable</a> &gt; <a class="el" href="classCategoriesDataHolder.html#y2">POIImageCategoryTable</a>
<dl class="el"><dd class="mdescRight">category list name to point of interest table map  <a href="#y2"></a><br></dl><li>typedef <a class="el" href="classmap.html">map</a>&lt; <a class="el" href="classMC2String.html">MC2String</a>, <a class="el" href="classvector.html">vector</a>&lt;<br>
 <a class="el" href="namespaceCategoryTreeUtils.html#a5">CategoryTreeUtils::CategoryID</a> &gt; &gt; <a class="el" href="classCategoriesDataHolder.html#y3">RegionToCategoryListMap</a>
<li>typedef <a class="el" href="classmap.html">map</a>&lt; <a class="el" href="classMC2String.html">MC2String</a>, <a class="el" href="classmap.html">RegionToCategoryListMap</a> &gt; <a class="el" href="classCategoriesDataHolder.html#y4">CategoryListMap</a>
</ul>
<h2>Private Member Functions</h2>
<ul>
<li><a class="el" href="structCategoriesDataHolder_1_1CatData.html">CatData</a> * <a class="el" href="classCategoriesDataHolder.html#d0">getCatData</a> (const <a class="el" href="classMC2String.html">MC2String</a> &amp;categorySet, <a class="el" href="namespaceImageTable.html#a137">ImageTable::ImageSet</a> imageSet, const char *clientType, <a class="el" href="classLangTypes.html#w99">LangTypes::language_t</a> language, bool latin1, <a class="el" href="classCategoryRegionID.html">CategoryRegionID</a> regionID)
<dl class="el"><dd class="mdescRight">Gets the category list in a localized format which <a class="el" href="classCategoriesData.html">CategoriesData</a> subclasses can use to populate their lists.  <a href="#d0"></a><br></dl><li>void <a class="el" href="classCategoriesDataHolder.html#d1">getCategories</a> (const <a class="el" href="classMC2String.html">MC2String</a> &amp;categorySet, <a class="el" href="classCategoryRegionID.html">CategoryRegionID</a> regionID, <a class="el" href="classvector.html">vector</a>&lt; <a class="el" href="namespaceCategoryTreeUtils.html#a5">CategoryTreeUtils::CategoryID</a> &gt; &amp;categories)
<dl class="el"><dd class="mdescRight">Gets the list of categories for a given category set and region ID.  <a href="#d1"></a><br></dl><li>void <a class="el" href="classCategoriesDataHolder.html#d2">readCategoryListsFromFile</a> (const <a class="el" href="classMC2String.html">MC2String</a> &amp;categorySet)
<dl class="el"><dd class="mdescRight">Reads a category list definition file and inserts the lists into m_categoryLists.  <a href="#d2"></a><br></dl><li>bool <a class="el" href="classCategoriesDataHolder.html#d3">timeToFlushCategoryLists</a> () const 
<dl class="el"><dd class="mdescRight">Checks if it's time to flush the cached category lists.  <a href="#d3"></a><br></dl><li>void <a class="el" href="classCategoriesDataHolder.html#d4">flushCategoryLists</a> ()
<dl class="el"><dd class="mdescRight">Flushes the category list cache so category lists will be read from file again.  <a href="#d4"></a><br></dl></ul>
<h2>Private Attributes</h2>
<ul>
<li><a class="el" href="classCategoriesDataHolder.html#y2">POIImageCategoryTable</a> <a class="el" href="classCategoriesDataHolder.html#r0">m_poiImages</a>
<dl class="el"><dd class="mdescRight">Special POI image list for some clients ( i.e iphone ) in the search result.  <a href="#r0"></a><br></dl><li><a class="el" href="classISABMutex.html">ISABMutex</a> <a class="el" href="classCategoriesDataHolder.html#r1">m_mtx</a>
<dl class="el"><dd class="mdescRight">The mutex.  <a href="#r1"></a><br></dl><li><a class="el" href="classmap.html">CategoryListMap</a> <a class="el" href="classCategoriesDataHolder.html#r2">m_categoryLists</a>
<dl class="el"><dd class="mdescRight">Cached category lists as read from file, for various category sets this map contains category lists for specific regions.  <a href="#r2"></a><br></dl><li><a class="el" href="Types_8h.html#a21">uint32</a> <a class="el" href="classCategoriesDataHolder.html#r3">m_flushTime</a>
<dl class="el"><dd class="mdescRight">When was m_categoryLists last flushed?  <a href="#r3"></a><br></dl></ul>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Class for holding read <a class="el" href="classCategoriesData.html">CategoriesData</a> data. 
<p>

<p>
Definition at line <a class="el" href="CategoriesData_8h-source.html#l00033">33</a> of file <a class="el" href="CategoriesData_8h-source.html">CategoriesData.h</a>.<hr><h2>Member Typedef Documentation</h2>
<a class="anchor" name="y4" doxytag="CategoriesDataHolder::CategoryListMap"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">typedef <a class="el" href="classmap.html">map</a>&lt;<a class="el" href="classMC2String.html">MC2String</a>, <a class="el" href="classmap.html">RegionToCategoryListMap</a>&gt; <a class="el" href="classmap.html">CategoriesDataHolder::CategoryListMap</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="CategoriesData_8h-source.html#l00168">168</a> of file <a class="el" href="CategoriesData_8h-source.html">CategoriesData.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="y1" doxytag="CategoriesDataHolder::CategoryListName"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">typedef <a class="el" href="classMC2String.html">MC2String</a> <a class="el" href="classMC2String.html">CategoriesDataHolder::CategoryListName</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="CategoriesData_8h-source.html#l00154">154</a> of file <a class="el" href="CategoriesData_8h-source.html">CategoriesData.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="y2" doxytag="CategoriesDataHolder::POIImageCategoryTable"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">typedef std::map&lt; <a class="el" href="classMC2String.html">CategoryListName</a>, <a class="el" href="classCategoriesDataHolder.html#y0">POIImageTable</a> &gt; <a class="el" href="classCategoriesDataHolder.html#y2">CategoriesDataHolder::POIImageCategoryTable</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
category list name to point of interest table map 
<p>

<p>
Definition at line <a class="el" href="CategoriesData_8h-source.html#l00156">156</a> of file <a class="el" href="CategoriesData_8h-source.html">CategoriesData.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="y0" doxytag="CategoriesDataHolder::POIImageTable"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">typedef std::map&lt; <a class="el" href="classCategoriesDataHolder.html#w0">POIType</a>, const char* &gt; <a class="el" href="classCategoriesDataHolder.html#y0">CategoriesDataHolder::POIImageTable</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
point of interest type to image name map 
<p>

<p>
Definition at line <a class="el" href="CategoriesData_8h-source.html#l00152">152</a> of file <a class="el" href="CategoriesData_8h-source.html">CategoriesData.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="w0" doxytag="CategoriesDataHolder::POIType"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">typedef <a class="el" href="Types_8h.html#a21">uint32</a> <a class="el" href="classCategoriesDataHolder.html#w0">CategoriesDataHolder::POIType</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="CategoriesData_8h-source.html#l00077">77</a> of file <a class="el" href="CategoriesData_8h-source.html">CategoriesData.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="y3" doxytag="CategoriesDataHolder::RegionToCategoryListMap"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">typedef <a class="el" href="classmap.html">map</a>&lt;<a class="el" href="classMC2String.html">MC2String</a>, <a class="el" href="classvector.html">vector</a>&lt;<a class="el" href="namespaceCategoryTreeUtils.html#a5">CategoryTreeUtils::CategoryID</a>&gt; &gt; <a class="el" href="classmap.html">CategoriesDataHolder::RegionToCategoryListMap</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="CategoriesData_8h-source.html#l00167">167</a> of file <a class="el" href="CategoriesData_8h-source.html">CategoriesData.h</a>.    </td>
  </tr>
</table>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="a0" doxytag="CategoriesDataHolder::CategoriesDataHolder"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">CategoriesDataHolder::CategoriesDataHolder           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
CategoriesDataHolder. 
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a1" doxytag="CategoriesDataHolder::~CategoriesDataHolder"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual CategoriesDataHolder::~<a class="el" href="classCategoriesDataHolder.html">CategoriesDataHolder</a>           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Destructor. 
<p>
    </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="b0" doxytag="CategoriesDataHolder::createCategoriesData"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual <a class="el" href="classCategoriesData.html">CategoriesData</a>* CategoriesDataHolder::createCategoriesData           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">bool&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>latin1</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected, pure virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Create a new <a class="el" href="classCategoriesData.html">CategoriesData</a> object. 
<p>

<p>
Implemented in <a class="el" href="classNavCategoriesDataHolder.html#b0">NavCategoriesDataHolder</a>, and <a class="el" href="classXMLCategoriesDataHolder.html#b0">XMLCategoriesDataHolder</a>.    </td>
  </tr>
</table>
<a class="anchor" name="d4" doxytag="CategoriesDataHolder::flushCategoryLists"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void CategoriesDataHolder::flushCategoryLists           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [private]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Flushes the category list cache so category lists will be read from file again. 
<p>
The reason for flushing is that we should be able to change category lists without restarting the servers.     </td>
  </tr>
</table>
<a class="anchor" name="d0" doxytag="CategoriesDataHolder::getCatData"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="structCategoriesDataHolder_1_1CatData.html">CatData</a>* CategoriesDataHolder::getCatData           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="classMC2String.html">MC2String</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>categorySet</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="namespaceImageTable.html#a137">ImageTable::ImageSet</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>imageSet</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>clientType</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="classLangTypes.html#w99">LangTypes::language_t</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>language</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>bool&nbsp;</td>
          <td class="mdname" nowrap> <em>latin1</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="classCategoryRegionID.html">CategoryRegionID</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>regionID</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [private]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Gets the category list in a localized format which <a class="el" href="classCategoriesData.html">CategoriesData</a> subclasses can use to populate their lists. 
<p>
The function first gets the appropriate list of categories (a vector of numbers identifying the categories) and then converts this into translated names, icon filenames etc.<p>
<dl compact><dt><b>Returns:</b></dt><dd>NULL if there was no appropriate category list. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="d1" doxytag="CategoriesDataHolder::getCategories"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void CategoriesDataHolder::getCategories           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="classMC2String.html">MC2String</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>categorySet</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="classCategoryRegionID.html">CategoryRegionID</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>regionID</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="classvector.html">vector</a>&lt; <a class="el" href="namespaceCategoryTreeUtils.html#a5">CategoryTreeUtils::CategoryID</a> &gt; &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>categories</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [private]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Gets the list of categories for a given category set and region ID. 
<p>
If there is no specific list for the region, the category list for <a class="el" href="classCategoryRegionID.html#s0">CategoryRegionID::NO_REGION</a> will be returned. If the category set doesn't exist or there is no default list defined this function may return an empty list.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>categorySet</em>&nbsp;</td><td>The category set. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>regionID</em>&nbsp;</td><td>The region identifier. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>categories</em>&nbsp;</td><td>The categories are returned in this vector. </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a3" doxytag="CategoriesDataHolder::getSearchListImageName"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">const char* CategoriesDataHolder::getSearchListImageName           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="namespaceImageTable.html#a137">ImageTable::ImageSet</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>imageSet</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="classCategoriesDataHolder.html#w0">POIType</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>poiType</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"> const</td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get image for search list from poi type, if we don't have an icon for the poi or if the image set doesn't have special icons for the search list "" is returned and the caller should fall back on for instance regular poi icons. 
<p>
<dl compact><dt><b>Returns:</b></dt><dd>image name without suffix or "". </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a2" doxytag="CategoriesDataHolder::makeCategory"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="classCategoriesData.html">CategoriesData</a>* CategoriesDataHolder::makeCategory           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="classMC2String.html">MC2String</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>categorySet</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="namespaceImageTable.html#a137">ImageTable::ImageSet</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>imageSet</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>clientType</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="classLangTypes.html#w99">LangTypes::language_t</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>language</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>bool&nbsp;</td>
          <td class="mdname" nowrap> <em>latin1</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="classCategoryRegionID.html">CategoryRegionID</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>catRegionID</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Make the category. 
<p>
Mutex protected method.     </td>
  </tr>
</table>
<a class="anchor" name="d2" doxytag="CategoriesDataHolder::readCategoryListsFromFile"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void CategoriesDataHolder::readCategoryListsFromFile           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="classMC2String.html">MC2String</a> &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>categorySet</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [private]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Reads a category list definition file and inserts the lists into m_categoryLists. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>categorySet</em>&nbsp;</td><td>The category set to read definition for from file. </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="d3" doxytag="CategoriesDataHolder::timeToFlushCategoryLists"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool CategoriesDataHolder::timeToFlushCategoryLists           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const<code> [private]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Checks if it's time to flush the cached category lists. 
<p>
<dl compact><dt><b>Returns:</b></dt><dd>Whether it's time to flush. </dd></dl>
    </td>
  </tr>
</table>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="r2" doxytag="CategoriesDataHolder::m_categoryLists"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="classmap.html">CategoryListMap</a> <a class="el" href="classCategoriesDataHolder.html#r2">CategoriesDataHolder::m_categoryLists</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Cached category lists as read from file, for various category sets this map contains category lists for specific regions. 
<p>

<p>
Definition at line <a class="el" href="CategoriesData_8h-source.html#l00175">175</a> of file <a class="el" href="CategoriesData_8h-source.html">CategoriesData.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="r3" doxytag="CategoriesDataHolder::m_flushTime"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="Types_8h.html#a21">uint32</a> <a class="el" href="classCategoriesDataHolder.html#r3">CategoriesDataHolder::m_flushTime</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
When was m_categoryLists last flushed? 
<p>

<p>
Definition at line <a class="el" href="CategoriesData_8h-source.html#l00180">180</a> of file <a class="el" href="CategoriesData_8h-source.html">CategoriesData.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="r1" doxytag="CategoriesDataHolder::m_mtx"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="classISABMutex.html">ISABMutex</a> <a class="el" href="classCategoriesDataHolder.html#r1">CategoriesDataHolder::m_mtx</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The mutex. 
<p>

<p>
Definition at line <a class="el" href="CategoriesData_8h-source.html#l00164">164</a> of file <a class="el" href="CategoriesData_8h-source.html">CategoriesData.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="r0" doxytag="CategoriesDataHolder::m_poiImages"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="classCategoriesDataHolder.html#y2">POIImageCategoryTable</a> <a class="el" href="classCategoriesDataHolder.html#r0">CategoriesDataHolder::m_poiImages</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Special POI image list for some clients ( i.e iphone ) in the search result. 
<p>

<p>
Definition at line <a class="el" href="CategoriesData_8h-source.html#l00159">159</a> of file <a class="el" href="CategoriesData_8h-source.html">CategoriesData.h</a>.    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="CategoriesData_8h-source.html">CategoriesData.h</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Wed Jun 30 10:23:13 2010 for mc2 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.3.9.1 </small></address>
</body>
</html>
