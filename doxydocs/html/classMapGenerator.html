<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>mc2: MapGenerator Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.9.1 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>MapGenerator Class Reference</h1>Subclasses of this class extracts an map and sends it via socket to the module or server that asked for it.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="MapGenerator_8h-source.html">MapGenerator.h</a>&gt;</code>
<p>
Inheritance diagram for MapGenerator:<p><center><img src="classMapGenerator__inherit__graph.png" border="0" usemap="#MapGenerator__inherit__map" alt="Inheritance graph"></center>
<map name="MapGenerator__inherit__map">
<area href="classGenericGfxMapGenerator.html" shape="rect" coords="95,155,268,181" alt="">
<area href="classInfoMapGenerator.html" shape="rect" coords="292,155,423,181" alt="">
<area href="classRouteMapGenerator.html" shape="rect" coords="447,155,588,181" alt="">
<area href="classSearchMapGenerator.html" shape="rect" coords="612,155,761,181" alt="">
<area href="classStringTableMapGenerator.html" shape="rect" coords="785,155,959,181" alt="">
<area href="classISABThread.html" shape="rect" coords="471,5,564,32" alt="">
<area href="classGfxCountryMapGenerator.html" shape="rect" coords="5,229,181,256" alt="">
<area href="classGfxMapGenerator.html" shape="rect" coords="205,229,333,256" alt="">
</map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center>Collaboration diagram for MapGenerator:<p><center><img src="classMapGenerator__coll__graph.png" border="0" usemap="#MapGenerator__coll__map" alt="Collaboration graph"></center>
<map name="MapGenerator__coll__map">
<area href="classISABThread.html" shape="rect" coords="24,264,117,291" alt="">
<area href="classISABThreadGroup.html" shape="rect" coords="5,173,136,200" alt="">
<area href="classMapHandler.html" shape="rect" coords="141,264,235,291" alt="">
<area href="classTCPSocket.html" shape="rect" coords="259,264,347,291" alt="">
<area href="classSocket.html" shape="rect" coords="169,173,231,200" alt="">
<area href="classSelectable.html" shape="rect" coords="159,83,241,109" alt="">
<area href="classTemplateSelectable.html" shape="rect" coords="113,5,287,32" alt="">
<area href="classWriteable.html" shape="rect" coords="255,173,332,200" alt="">
<area href="classReadable.html" shape="rect" coords="356,173,433,200" alt="">
<area href="classStepLogger.html" shape="rect" coords="457,173,548,200" alt="">
<area href="classMC2String.html" shape="rect" coords="460,83,545,109" alt="">
<area href="classvector.html" shape="rect" coords="449,5,556,32" alt="">
</map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center><a href="classMapGenerator-members.html">List of all members.</a><h2>Public Member Functions</h2>
<ul>
<li><a class="el" href="classMapGenerator.html#a0">MapGenerator</a> (<a class="el" href="classMapHandler.html">MapHandler</a> *mh, <a class="el" href="Types_8h.html#a21">uint32</a> *<a class="el" href="classMapGenerator.html#p1">mapIDs</a>, <a class="el" href="Types_8h.html#a21">uint32</a> <a class="el" href="classMapGenerator.html#p2">nbrMaps</a>, <a class="el" href="Types_8h.html#a19">uint16</a> <a class="el" href="classMapGenerator.html#p3">port</a>)
<dl class="el"><dd class="mdescRight">Creates one MapGenerator that generates a map for the specified area.  <a href="#a0"></a><br></dl><li>virtual bool <a class="el" href="classMapGenerator.html#a1">getIndexDBNeeded</a> () const 
<dl class="el"><dd class="mdescRight">Returns true if the <a class="el" href="classMapModuleNoticeContainer.html">MapModuleNoticeContainer</a> is needed in generateDataBuffer.  <a href="#a1"></a><br></dl><li>virtual <a class="el" href="classDataBuffer.html">DataBuffer</a> * <a class="el" href="classMapGenerator.html#a2">generateDataBuffer</a> (const <a class="el" href="classGenericMap.html">GenericMap</a> *theMap, const <a class="el" href="classMapModuleNoticeContainer.html">MapModuleNoticeContainer</a> *indexdb)
<dl class="el"><dd class="mdescRight">Generates the <a class="el" href="classDataBuffer.html">DataBuffer</a> that is sent to the module.  <a href="#a2"></a><br></dl><li>virtual <a class="el" href="classMapGenerator.html#a3">~MapGenerator</a> ()
<dl class="el"><dd class="mdescRight">Deletes the MapGenerator and releases the used memory.  <a href="#a3"></a><br></dl><li>virtual void <a class="el" href="classMapGenerator.html#a4">run</a> ()
<dl class="el"><dd class="mdescRight">Waits for a connection to port, in an amount of time, responds with the map asked for.  <a href="#a4"></a><br></dl><li><a class="el" href="Types_8h.html#a19">uint16</a> <a class="el" href="classMapGenerator.html#a5">getPortInUse</a> ()
<dl class="el"><dd class="mdescRight">Get the port that this map generater uses.  <a href="#a5"></a><br></dl><li><a class="el" href="Types_8h.html#a21">uint32</a> <a class="el" href="classMapGenerator.html#a6">getMapID</a> (<a class="el" href="Types_8h.html#a21">uint32</a> i)
<dl class="el"><dd class="mdescRight">Get a ID of one map that should be processed.  <a href="#a6"></a><br></dl></ul>
<h2>Static Public Member Functions</h2>
<ul>
<li><a class="el" href="classMapGenerator.html">MapGenerator</a> * <a class="el" href="classMapGenerator.html#e0">createGenerator</a> (<a class="el" href="classMapProcessor.html">MapProcessor</a> *mapProc, <a class="el" href="classMapHandler.html">MapHandler</a> *mh, <a class="el" href="Types_8h.html#a21">uint32</a> mapType, <a class="el" href="Types_8h.html#a21">uint32</a> mapID, <a class="el" href="Types_8h.html#a19">uint16</a> freePort, <a class="el" href="Types_8h.html#a21">uint32</a> zoomLevel, const <a class="el" href="classvector.html">vector</a>&lt; <a class="el" href="Types_8h.html#a21">uint32</a> &gt; &amp;overview)
<dl class="el"><dd class="mdescRight">Creates a new MapGenerator with the correct dynamic type.  <a href="#e0"></a><br></dl><li><a class="el" href="classMapGenerator.html">MapGenerator</a> * <a class="el" href="classMapGenerator.html#e1">createGeneratorForDataBuffer</a> (<a class="el" href="Types_8h.html#a21">uint32</a> mapType)
<dl class="el"><dd class="mdescRight">Creates a new MapGenerator for the supplied type of map.  <a href="#e1"></a><br></dl></ul>
<h2>Static Public Attributes</h2>
<ul>
<li>const int <a class="el" href="classMapGenerator.html#s0">generatorVersion</a>
<dl class="el"><dd class="mdescRight">MapGenerator version.  <a href="#s0"></a><br></dl></ul>
<h2>Protected Member Functions</h2>
<ul>
<li><a class="el" href="classTCPSocket.html">TCPSocket</a> * <a class="el" href="classMapGenerator.html#b0">waitForConnection</a> (char *handshake, int maxHandshake)
<dl class="el"><dd class="mdescRight">Waits for a connection to write the map to.  <a href="#b0"></a><br></dl></ul>
<h2>Protected Attributes</h2>
<ul>
<li><a class="el" href="classMapHandler.html">MapHandler</a> * <a class="el" href="classMapGenerator.html#p0">mapHandler</a>
<dl class="el"><dd class="mdescRight">The maphandler that should be used for retreiving maps etc.  <a href="#p0"></a><br></dl><li><a class="el" href="Types_8h.html#a21">uint32</a> * <a class="el" href="classMapGenerator.html#p1">mapIDs</a>
<dl class="el"><dd class="mdescRight">The maps this extracter should use.  <a href="#p1"></a><br></dl><li><a class="el" href="Types_8h.html#a21">uint32</a> <a class="el" href="classMapGenerator.html#p2">nbrMaps</a>
<dl class="el"><dd class="mdescRight">The number of maps in the maps-vector.  <a href="#p2"></a><br></dl><li><a class="el" href="Types_8h.html#a19">uint16</a> <a class="el" href="classMapGenerator.html#p3">port</a>
<dl class="el"><dd class="mdescRight">The port to wait for a connection.  <a href="#p3"></a><br></dl><li><a class="el" href="classTCPSocket.html">TCPSocket</a> * <a class="el" href="classMapGenerator.html#p4">theSocket</a>
<dl class="el"><dd class="mdescRight">The socket that the run-method should do accept on.  <a href="#p4"></a><br></dl></ul>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Subclasses of this class extracts an map and sends it via socket to the module or server that asked for it. 
<p>

<p>
Definition at line <a class="el" href="MapGenerator_8h-source.html#l00035">35</a> of file <a class="el" href="MapGenerator_8h-source.html">MapGenerator.h</a>.<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="a0" doxytag="MapGenerator::MapGenerator"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">MapGenerator::MapGenerator           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classMapHandler.html">MapHandler</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>mh</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="Types_8h.html#a21">uint32</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>mapIDs</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="Types_8h.html#a21">uint32</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>nbrMaps</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="Types_8h.html#a19">uint16</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>port</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Creates one MapGenerator that generates a map for the specified area. 
<p>
This is an abstract class, it is the subclasses that actually generates the map.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>mh</em>&nbsp;</td><td>The <a class="el" href="classMapHandler.html">MapHandler</a> to use to retreiving the <a class="el" href="classMap.html">Map</a>:s </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mapIDs</em>&nbsp;</td><td>ID of the maps to use. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>nbrMaps</em>&nbsp;</td><td>How many maps in mapID. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>port</em>&nbsp;</td><td>The port to wait for connection. </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a3" doxytag="MapGenerator::~MapGenerator"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual MapGenerator::~<a class="el" href="classMapGenerator.html">MapGenerator</a>           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Deletes the MapGenerator and releases the used memory. 
<p>
If this destructor isn't used in a subclass, remember to release the <a class="el" href="classWriteLock.html">WriteLock</a> of the map.     </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="e0" doxytag="MapGenerator::createGenerator"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="classMapGenerator.html">MapGenerator</a>* MapGenerator::createGenerator           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classMapProcessor.html">MapProcessor</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>mapProc</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="classMapHandler.html">MapHandler</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>mh</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="Types_8h.html#a21">uint32</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>mapType</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="Types_8h.html#a21">uint32</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>mapID</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="Types_8h.html#a19">uint16</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>freePort</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="Types_8h.html#a21">uint32</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>zoomLevel</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const <a class="el" href="classvector.html">vector</a>&lt; <a class="el" href="Types_8h.html#a21">uint32</a> &gt; &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>overview</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Creates a new MapGenerator with the correct dynamic type. 
<p>
This function is for use in the <a class="el" href="classMapProcessor.html">MapProcessor</a>.     </td>
  </tr>
</table>
<a class="anchor" name="e1" doxytag="MapGenerator::createGeneratorForDataBuffer"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="classMapGenerator.html">MapGenerator</a>* MapGenerator::createGeneratorForDataBuffer           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="Types_8h.html#a21">uint32</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>mapType</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Creates a new MapGenerator for the supplied type of map. 
<p>
To be used when creating maps for caching, i.e. generateDataBuffer will be used instead of start. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>mapType</em>&nbsp;</td><td>Type of mapGenerator to create. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>NULL if not supported. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a2" doxytag="MapGenerator::generateDataBuffer"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual <a class="el" href="classDataBuffer.html">DataBuffer</a>* MapGenerator::generateDataBuffer           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="classGenericMap.html">GenericMap</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>theMap</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const <a class="el" href="classMapModuleNoticeContainer.html">MapModuleNoticeContainer</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>indexdb</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Generates the <a class="el" href="classDataBuffer.html">DataBuffer</a> that is sent to the module. 
<p>
Not implemented for all modules. The <a class="el" href="classDataBuffer.html">DataBuffer</a> should be deleted by the caller. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>theMap</em>&nbsp;</td><td>The map to generate the modulemap for. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>indexdb</em>&nbsp;</td><td><a class="el" href="classMapModuleNoticeContainer.html">MapModuleNoticeContainer</a> needed if getIndexDBNeeded returns true. </td></tr>
  </table>
</dl>

<p>
Reimplemented in <a class="el" href="classRouteMapGenerator.html#a4">RouteMapGenerator</a>, and <a class="el" href="classSearchMapGenerator.html#a3">SearchMapGenerator</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a1" doxytag="MapGenerator::getIndexDBNeeded"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual bool MapGenerator::getIndexDBNeeded           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const<code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns true if the <a class="el" href="classMapModuleNoticeContainer.html">MapModuleNoticeContainer</a> is needed in generateDataBuffer. 
<p>
If this function returns false NULL can be sent in. <dl compact><dt><b>Returns:</b></dt><dd>True if index.db is needed in generateDataBuffer. </dd></dl>

<p>
Reimplemented in <a class="el" href="classRouteMapGenerator.html#a3">RouteMapGenerator</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a6" doxytag="MapGenerator::getMapID"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="Types_8h.html#a21">uint32</a> MapGenerator::getMapID           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="Types_8h.html#a21">uint32</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>i</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get a ID of one map that should be processed. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>The</em>&nbsp;</td><td>cardinal number of the map. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>mapID of map number i. If i is an invalid number MAX_UINT32 is returned. </dd></dl>

<p>
Definition at line <a class="el" href="MapGenerator_8h-source.html#l00187">187</a> of file <a class="el" href="MapGenerator_8h-source.html">MapGenerator.h</a>.
<p>
References <a class="el" href="MapGenerator_8h-source.html#l00159">mapIDs</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a5" doxytag="MapGenerator::getPortInUse"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="Types_8h.html#a19">uint16</a> MapGenerator::getPortInUse           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get the port that this map generater uses. 
<p>
<dl compact><dt><b>Returns:</b></dt><dd>The port this MapGenerator is binded to. </dd></dl>

<p>
Definition at line <a class="el" href="MapGenerator_8h-source.html#l00181">181</a> of file <a class="el" href="MapGenerator_8h-source.html">MapGenerator.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a4" doxytag="MapGenerator::run"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual void MapGenerator::run           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Waits for a connection to port, in an amount of time, responds with the map asked for. 
<p>
If no connection in time the thread kills it self. 
<p>
Reimplemented from <a class="el" href="classISABThread.html#a3">ISABThread</a>.
<p>
Reimplemented in <a class="el" href="classGfxCountryMapGenerator.html#a2">GfxCountryMapGenerator</a>, <a class="el" href="classGfxMapGenerator.html#a2">GfxMapGenerator</a>, <a class="el" href="classInfoMapGenerator.html#a2">InfoMapGenerator</a>, <a class="el" href="classRouteMapGenerator.html#a2">RouteMapGenerator</a>, <a class="el" href="classSearchMapGenerator.html#a2">SearchMapGenerator</a>, and <a class="el" href="classStringTableMapGenerator.html#a2">StringTableMapGenerator</a>.    </td>
  </tr>
</table>
<a class="anchor" name="b0" doxytag="MapGenerator::waitForConnection"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="classTCPSocket.html">TCPSocket</a>* MapGenerator::waitForConnection           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">char *&nbsp;</td>
          <td class="mdname" nowrap> <em>handshake</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>maxHandshake</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [protected]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Waits for a connection to write the map to. 
<p>
Waits <code>MAX_WAIT_TIME_FOR_CONNECTION</code> for a connection and if there is one in time, the function will read data from the socket until no more can be read. Then it will return the socket. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>handshake</em>&nbsp;</td><td>A string to put the handshake into. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>maxHandshake</em>&nbsp;</td><td>Maximum number of characters to put into the handshake string. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>A socket if connected. NULL if failure. </dd></dl>

<p>
Reimplemented in <a class="el" href="classInfoMapGenerator.html#b0">InfoMapGenerator</a>.    </td>
  </tr>
</table>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="s0" doxytag="MapGenerator::generatorVersion"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">const int <a class="el" href="classMapGenerator.html#s0">MapGenerator::generatorVersion</a><code> [static]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
MapGenerator version. 
<p>
Used when loading maps. Change this when changing the format of any of the map generators. 
<p>
Definition at line <a class="el" href="MapGenerator_8h-source.html#l00048">48</a> of file <a class="el" href="MapGenerator_8h-source.html">MapGenerator.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="p0" doxytag="MapGenerator::mapHandler"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="classMapHandler.html">MapHandler</a>* <a class="el" href="classMapGenerator.html#p0">MapGenerator::mapHandler</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The maphandler that should be used for retreiving maps etc. 
<p>

<p>
Definition at line <a class="el" href="MapGenerator_8h-source.html#l00154">154</a> of file <a class="el" href="MapGenerator_8h-source.html">MapGenerator.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="p1" doxytag="MapGenerator::mapIDs"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="Types_8h.html#a21">uint32</a>* <a class="el" href="classMapGenerator.html#p1">MapGenerator::mapIDs</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The maps this extracter should use. 
<p>

<p>
Definition at line <a class="el" href="MapGenerator_8h-source.html#l00159">159</a> of file <a class="el" href="MapGenerator_8h-source.html">MapGenerator.h</a>.
<p>
Referenced by <a class="el" href="MapGenerator_8h-source.html#l00187">getMapID()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="p2" doxytag="MapGenerator::nbrMaps"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="Types_8h.html#a21">uint32</a> <a class="el" href="classMapGenerator.html#p2">MapGenerator::nbrMaps</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The number of maps in the maps-vector. 
<p>

<p>
Definition at line <a class="el" href="MapGenerator_8h-source.html#l00164">164</a> of file <a class="el" href="MapGenerator_8h-source.html">MapGenerator.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="p3" doxytag="MapGenerator::port"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="Types_8h.html#a19">uint16</a> <a class="el" href="classMapGenerator.html#p3">MapGenerator::port</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The port to wait for a connection. 
<p>

<p>
Definition at line <a class="el" href="MapGenerator_8h-source.html#l00169">169</a> of file <a class="el" href="MapGenerator_8h-source.html">MapGenerator.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="p4" doxytag="MapGenerator::theSocket"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="classTCPSocket.html">TCPSocket</a>* <a class="el" href="classMapGenerator.html#p4">MapGenerator::theSocket</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The socket that the run-method should do accept on. 
<p>

<p>
Definition at line <a class="el" href="MapGenerator_8h-source.html#l00174">174</a> of file <a class="el" href="MapGenerator_8h-source.html">MapGenerator.h</a>.    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="MapGenerator_8h-source.html">MapGenerator.h</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Wed Jun 30 10:25:09 2010 for mc2 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.3.9.1 </small></address>
</body>
</html>
