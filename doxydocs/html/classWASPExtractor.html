<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>mc2: WASPExtractor Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.9.1 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>WASPExtractor Class Reference</h1>Get POI-data from a <a class="el" href="namespaceSQL.html">SQL</a> database and insert that into the maps.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="WASPExtractor_8h-source.html">WASPExtractor.h</a>&gt;</code>
<p>
Collaboration diagram for WASPExtractor:<p><center><img src="classWASPExtractor__coll__graph.png" border="0" usemap="#WASPExtractor__coll__map" alt="Collaboration graph"></center>
<map name="WASPExtractor__coll__map">
<area href="classSQLConnection.html" shape="rect" coords="5,96,120,123" alt="">
<area href="classSQLDriver.html" shape="rect" coords="21,5,104,32" alt="">
</map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center><a href="classWASPExtractor-members.html">List of all members.</a><h2>Public Member Functions</h2>
<ul>
<li><a class="el" href="classWASPExtractor.html#a0">WASPExtractor</a> (const char *database, const char *host, const char *username, const char *password, <a class="el" href="classCharEncodingType.html#w2">CharEncodingType::charEncodingType</a> poiDBCharEnc, <a class="el" href="Types_8h.html#a21">uint32</a> maxDistMeter)
<dl class="el"><dd class="mdescRight">Create a new WASPExtractor that will connect to the database that is specified as parameters.  <a href="#a0"></a><br></dl><li>virtual <a class="el" href="classWASPExtractor.html#a1">~WASPExtractor</a> ()
<dl class="el"><dd class="mdescRight">Delete the WASPExtractor and close the connections to the database.  <a href="#a1"></a><br></dl><li>void <a class="el" href="classWASPExtractor.html#a2">closeThenOpenDatabaseConnection</a> (const char *database, const char *host, const char *username, const char *password, <a class="el" href="classCharEncodingType.html#w2">CharEncodingType::charEncodingType</a> poiDBCharEnc)
<dl class="el"><dd class="mdescRight">Closes and reopens all database connections.  <a href="#a2"></a><br></dl><li>int <a class="el" href="classWASPExtractor.html#a3">addToMap</a> (<a class="el" href="classOldGenericMap.html">OldGenericMap</a> *theMap, multimap&lt; <a class="el" href="Types_8h.html#a21">uint32</a>, <a class="el" href="structWASPExtractor_1_1poiAddData__t.html">poiAddData_t</a> &gt; &amp;notAddedIDs, <a class="el" href="Types_8h.html#a21">uint32</a> mapVersionID, bool skipControlledAccessPOIs)
<dl class="el"><dd class="mdescRight">Add poi:s to the given map.  <a href="#a3"></a><br></dl><li>int <a class="el" href="classWASPExtractor.html#a4">createEntryPoints</a> (<a class="el" href="classOldGenericMap.html">OldGenericMap</a> *theMap, <a class="el" href="classmap.html">map</a>&lt; <a class="el" href="Types_8h.html#a21">uint32</a>, <a class="el" href="structWASPExtractor_1_1epData__t.html">epData_t</a> &gt; &amp;epInfo, const char *sourceString)
<dl class="el"><dd class="mdescRight">Creates entry points from a given map to POIs without entry point.  <a href="#a4"></a><br></dl><li>int <a class="el" href="classWASPExtractor.html#a5">updateInMap</a> (<a class="el" href="classOldGenericMap.html">OldGenericMap</a> *theMap, <a class="el" href="Types_8h.html#a21">uint32</a> mapVersionID, char *date, ofstream &amp;outFile, <a class="el" href="Types_8h.html#a21">uint32</a> &amp;nbrNewPois, <a class="el" href="Types_8h.html#a21">uint32</a> &amp;nbrModifiedPois, <a class="el" href="Types_8h.html#a21">uint32</a> &amp;nbrRemovedPois, bool skipControlledAccessPOIs)
<dl class="el"><dd class="mdescRight">Update given map with modified, new and removed POIs in the WASP.  <a href="#a5"></a><br></dl><li>bool <a class="el" href="classWASPExtractor.html#a6">checkValidMapVersion</a> (const char *mapVersion, bool addToMap, <a class="el" href="Types_8h.html#a21">uint32</a> &amp;mapVersionID)
<dl class="el"><dd class="mdescRight">Check that the provided mapVersion is valid, when either adding or updating pois.  <a href="#a6"></a><br></dl><li>bool <a class="el" href="classWASPExtractor.html#a7">getWaspDateFromMap</a> (<a class="el" href="classOldGenericMap.html">OldGenericMap</a> *theMap, char *waspDate)
<dl class="el"><dd class="mdescRight">Get the latest wasp-date from the map header.  <a href="#a7"></a><br></dl><li><a class="el" href="Types_8h.html#a21">uint32</a> <a class="el" href="classWASPExtractor.html#a8">getNbrAddedIds</a> ()
<dl class="el"><dd class="mdescRight">Get number affected pois so far.  <a href="#a8"></a><br></dl><li>void <a class="el" href="classWASPExtractor.html#a9">getAddedIds</a> (set&lt; <a class="el" href="Types_8h.html#a21">uint32</a> &gt; &amp;addedIDs)
<dl class="el"><dd class="mdescRight">Get the set with affected pois so far.  <a href="#a9"></a><br></dl><li>int <a class="el" href="classWASPExtractor.html#a10">waspLab</a> (<a class="el" href="classOldGenericMap.html">OldGenericMap</a> *theMap, <a class="el" href="classMC2String.html">MC2String</a> function)
<dl class="el"><dd class="mdescRight">Method that does misc things on a map.  <a href="#a10"></a><br></dl><li>const <a class="el" href="classmap.html">map</a>&lt; <a class="el" href="classMapRights.html">MapRights</a>, <a class="el" href="Types_8h.html#a21">uint32</a> &gt; <a class="el" href="classWASPExtractor.html#a11">getPOIsPerRight</a> () const 
<li>bool <a class="el" href="classWASPExtractor.html#a12">doQuery</a> (<a class="el" href="classSQLQuery.html">SQLQuery</a> *sqlQuery, const char *query, const char *whereTag)
<dl class="el"><dd class="mdescRight">Copyed from UserProcessor!  <a href="#a12"></a><br></dl><li><a class="el" href="classSQLConnection.html">SQLConnection</a> * <a class="el" href="classWASPExtractor.html#a13">getSqlConnection</a> ()
</ul>
<h2>Private Member Functions</h2>
<ul>
<li><a class="el" href="classOldPointOfInterestItem.html">OldPointOfInterestItem</a> * <a class="el" href="classWASPExtractor.html#d0">findSsiAndOffset</a> (<a class="el" href="classOldGenericMap.html">OldGenericMap</a> *theMap, <a class="el" href="classOldPointOfInterestItem.html">OldPointOfInterestItem</a> *poi, <a class="el" href="Types_8h.html#a22">int32</a> ssiLat, <a class="el" href="Types_8h.html#a22">int32</a> ssiLon, bool newPOI, <a class="el" href="structWASPExtractor_1_1poiAddData__t.html">poiAddData_t</a> &amp;notAddedData)
<dl class="el"><dd class="mdescRight">Help method to createPOI.  <a href="#d0"></a><br></dl><li>bool <a class="el" href="classWASPExtractor.html#d1">alreadyAdded</a> (const <a class="el" href="classOldPointOfInterestItem.html">OldPointOfInterestItem</a> *poi, const <a class="el" href="classOldGenericMap.html">OldGenericMap</a> *theMap)
<dl class="el"><dd class="mdescRight">Checkes if the POI is already added to this map.  <a href="#d1"></a><br></dl><li><a class="el" href="Types_8h.html#a21">uint32</a> <a class="el" href="classWASPExtractor.html#d2">removeAllPOI</a> (<a class="el" href="classOldGenericMap.html">OldGenericMap</a> *theMap)
<dl class="el"><dd class="mdescRight">Remove all POIs from this map.  <a href="#d2"></a><br></dl><li><a class="el" href="classOldPointOfInterestItem.html">OldPointOfInterestItem</a> * <a class="el" href="classWASPExtractor.html#d3">findPOIWithWASPID</a> (<a class="el" href="classOldGenericMap.html">OldGenericMap</a> *theMap, <a class="el" href="Types_8h.html#a21">uint32</a> WASPID)
<dl class="el"><dd class="mdescRight">Returns a POI item if there is a POI with a given WASP id in this map.  <a href="#d3"></a><br></dl><li><a class="el" href="classOldPointOfInterestItem.html">OldPointOfInterestItem</a> * <a class="el" href="classWASPExtractor.html#d4">createPOI</a> (<a class="el" href="classOldGenericMap.html">OldGenericMap</a> *theMap, <a class="el" href="classSQLQuery.html">SQLQuery</a> *subSqlQuery, <a class="el" href="classOldPointOfInterestItem.html">OldPointOfInterestItem</a> *poi, <a class="el" href="Types_8h.html#a21">uint32</a> poiWaspID, <a class="el" href="Types_8h.html#a22">int32</a> symbolLat, <a class="el" href="Types_8h.html#a22">int32</a> symbolLon, bool newPOI, <a class="el" href="structWASPExtractor_1_1poiAddData__t.html">poiAddData_t</a> &amp;notAddedData, set&lt; <a class="el" href="Types_8h.html#a19">uint16</a> &gt; &amp;poiCategories)
<dl class="el"><dd class="mdescRight">Add values from WASP to a POI (names, type, entry point, gxf-data, WASP id).  <a href="#d4"></a><br></dl><li>bool <a class="el" href="classWASPExtractor.html#d5">getEntryPointForWASPID</a> (<a class="el" href="classSQLQuery.html">SQLQuery</a> *subSqlQuery, <a class="el" href="Types_8h.html#a21">uint32</a> waspId, <a class="el" href="Types_8h.html#a22">int32</a> symbolLat, <a class="el" href="Types_8h.html#a22">int32</a> symbolLon, <a class="el" href="Types_8h.html#a22">int32</a> &amp;ssiLat, <a class="el" href="Types_8h.html#a22">int32</a> &amp;ssiLon)
<dl class="el"><dd class="mdescRight">Help method to createPOI.  <a href="#d5"></a><br></dl><li>bool <a class="el" href="classWASPExtractor.html#d6">cityCentreWithLocationAltName</a> (<a class="el" href="classOldPointOfInterestItem.html">OldPointOfInterestItem</a> *poi, <a class="el" href="structWASPExtractor_1_1poiName__t.html">poiName_t</a> checkName, <a class="el" href="classOldGenericMap.html">OldGenericMap</a> *theMap)
<dl class="el"><dd class="mdescRight">Check if the name of a poi is an alternative name, and if it is the same name as the name of either the bua or municipal the poi is located in.  <a href="#d6"></a><br></dl></ul>
<h2>Private Attributes</h2>
<ul>
<li><a class="el" href="Types_8h.html#a21">uint32</a> <a class="el" href="classWASPExtractor.html#r0">m_maxDist_meters</a>
<dl class="el"><dd class="mdescRight">The maximum distance from a POI (entry point to the closest street segment for the poi to be added.  <a href="#r0"></a><br></dl><li><a class="el" href="Types_8h.html#a23">uint64</a> <a class="el" href="classWASPExtractor.html#r1">m_maxSqDist_mc2</a>
<dl class="el"><dd class="mdescRight">The maximum distance from a POI (entry point) to the closest street segment for the poi to be added.  <a href="#r1"></a><br></dl><li>set&lt; <a class="el" href="Types_8h.html#a21">uint32</a> &gt; <a class="el" href="classWASPExtractor.html#r2">m_addedIDs</a>
<dl class="el"><dd class="mdescRight">Set holding poi waspids of all pois so far added (or modified or removed if dynamic WASPing) in any map.  <a href="#r2"></a><br></dl><li>bool <a class="el" href="classWASPExtractor.html#r3">m_connected</a>
<dl class="el"><dd class="mdescRight">Are we connected?  <a href="#r3"></a><br></dl><li><a class="el" href="classSQLConnection.html">SQLConnection</a> * <a class="el" href="classWASPExtractor.html#r4">m_sqlConnection</a>
<dl class="el"><dd class="mdescRight">The main connection to the database.  <a href="#r4"></a><br></dl><li><a class="el" href="classSQLConnection.html">SQLConnection</a> * <a class="el" href="classWASPExtractor.html#r5">m_subSqlConnection</a>
<dl class="el"><dd class="mdescRight">An extra connection to be able to execute sub-selects when the m_sqlConnection still is used.  <a href="#r5"></a><br></dl><li><a class="el" href="classmap.html">map</a>&lt; <a class="el" href="classMapRights.html">MapRights</a>, <a class="el" href="Types_8h.html#a21">uint32</a> &gt; <a class="el" href="classWASPExtractor.html#r6">m_POIsPerRight</a>
<dl class="el"><dd class="mdescRight"><a class="el" href="classMap.html">Map</a> that is used in waspLab.  <a href="#r6"></a><br></dl></ul>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Get POI-data from a <a class="el" href="namespaceSQL.html">SQL</a> database and insert that into the maps. 
<p>

<p>
Definition at line <a class="el" href="WASPExtractor_8h-source.html#l00030">30</a> of file <a class="el" href="WASPExtractor_8h-source.html">WASPExtractor.h</a>.<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="a0" doxytag="WASPExtractor::WASPExtractor"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">WASPExtractor::WASPExtractor           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>database</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>host</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>username</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>password</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="classCharEncodingType.html#w2">CharEncodingType::charEncodingType</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>poiDBCharEnc</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="Types_8h.html#a21">uint32</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>maxDistMeter</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Create a new WASPExtractor that will connect to the database that is specified as parameters. 
<p>
The constructor will make the necessary connections to the database, these are used by e.g. addToMap etc. for each map. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>database</em>&nbsp;</td><td>The name of the database to use. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>host</em>&nbsp;</td><td>The host where to connect to MySQL. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>username</em>&nbsp;</td><td>Username when connecting to the database. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>password</em>&nbsp;</td><td>Password when connection to the database. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>poiDBCharEnc</em>&nbsp;</td><td>The char encoding used in the POI database. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>maxDistMeter</em>&nbsp;</td><td>The maximum distance between a POI and the closest street for the POI to be added to the map. </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a1" doxytag="WASPExtractor::~WASPExtractor"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual WASPExtractor::~<a class="el" href="classWASPExtractor.html">WASPExtractor</a>           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Delete the WASPExtractor and close the connections to the database. 
<p>
    </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="a3" doxytag="WASPExtractor::addToMap"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int WASPExtractor::addToMap           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classOldGenericMap.html">OldGenericMap</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>theMap</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>multimap&lt; <a class="el" href="Types_8h.html#a21">uint32</a>, <a class="el" href="structWASPExtractor_1_1poiAddData__t.html">poiAddData_t</a> &gt; &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>notAddedIDs</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="Types_8h.html#a21">uint32</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>mapVersionID</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>bool&nbsp;</td>
          <td class="mdname" nowrap> <em>skipControlledAccessPOIs</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Add poi:s to the given map. 
<p>
Normal WASPing.     </td>
  </tr>
</table>
<a class="anchor" name="d1" doxytag="WASPExtractor::alreadyAdded"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool WASPExtractor::alreadyAdded           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="classOldPointOfInterestItem.html">OldPointOfInterestItem</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>poi</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const <a class="el" href="classOldGenericMap.html">OldGenericMap</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>theMap</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [private]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Checkes if the POI is already added to this map. 
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a6" doxytag="WASPExtractor::checkValidMapVersion"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool WASPExtractor::checkValidMapVersion           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>mapVersion</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>bool&nbsp;</td>
          <td class="mdname" nowrap> <em>addToMap</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="Types_8h.html#a21">uint32</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>mapVersionID</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Check that the provided mapVersion is valid, when either adding or updating pois. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>mapVersion</em>&nbsp;</td><td>The version to check. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>addToMap</em>&nbsp;</td><td>States if the task is to addPOIToMap (true) or updatePOIInMap (false). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mapVersionID</em>&nbsp;</td><td>Outparam that is set to the version id of the mapVersion if it is valid. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>True if the map version is valid, false if not. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="d6" doxytag="WASPExtractor::cityCentreWithLocationAltName"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool WASPExtractor::cityCentreWithLocationAltName           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classOldPointOfInterestItem.html">OldPointOfInterestItem</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>poi</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="structWASPExtractor_1_1poiName__t.html">poiName_t</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>checkName</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="classOldGenericMap.html">OldGenericMap</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>theMap</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [private]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Check if the name of a poi is an alternative name, and if it is the same name as the name of either the bua or municipal the poi is located in. 
<p>
In that case, the name should not be added to the poi... Note that the poi must have at least one official name with the same language as the language of the alternative name in order to skip the alternative name.<p>
Before asking this method, the poi must have poiType, and the official names must have been added.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>poi</em>&nbsp;</td><td>The poi to check. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>checkName</em>&nbsp;</td><td>The name to check if it is an alternative name equal to poi-location-names. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>theMap</em>&nbsp;</td><td>The map in which the poi is located. </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a2" doxytag="WASPExtractor::closeThenOpenDatabaseConnection"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void WASPExtractor::closeThenOpenDatabaseConnection           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>database</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>host</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>username</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>password</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="classCharEncodingType.html#w2">CharEncodingType::charEncodingType</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>poiDBCharEnc</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Closes and reopens all database connections. 
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a4" doxytag="WASPExtractor::createEntryPoints"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int WASPExtractor::createEntryPoints           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classOldGenericMap.html">OldGenericMap</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>theMap</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="classmap.html">map</a>&lt; <a class="el" href="Types_8h.html#a21">uint32</a>, <a class="el" href="structWASPExtractor_1_1epData__t.html">epData_t</a> &gt; &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>epInfo</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>sourceString</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Creates entry points from a given map to POIs without entry point. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>theMap</em>&nbsp;</td><td>The map, which to use for createing entry points for POIs that don't have entry points. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>epInfo</em>&nbsp;</td><td><a class="el" href="namespaceHolds.html">Holds</a> entry point data when loopings maps. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>sourceString</em>&nbsp;</td><td>The source string (from POISources table) if only POIs from a given source should have entry points created, else NULL. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>-1 upon failure </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="d4" doxytag="WASPExtractor::createPOI"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="classOldPointOfInterestItem.html">OldPointOfInterestItem</a>* WASPExtractor::createPOI           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classOldGenericMap.html">OldGenericMap</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>theMap</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="classSQLQuery.html">SQLQuery</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>subSqlQuery</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="classOldPointOfInterestItem.html">OldPointOfInterestItem</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>poi</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="Types_8h.html#a21">uint32</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>poiWaspID</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="Types_8h.html#a22">int32</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>symbolLat</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="Types_8h.html#a22">int32</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>symbolLon</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>bool&nbsp;</td>
          <td class="mdname" nowrap> <em>newPOI</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="structWASPExtractor_1_1poiAddData__t.html">poiAddData_t</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>notAddedData</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>set&lt; <a class="el" href="Types_8h.html#a19">uint16</a> &gt; &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>poiCategories</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [private]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Add values from WASP to a POI (names, type, entry point, gxf-data, WASP id). 
<p>
Note that this method overwrites all values that is already present in the POI. The method is used in normal WASPing as well as in dynamic WASPing (new and modified).<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>newPOI</em>&nbsp;</td><td>True if new POI, false if modified POI in dynamic WASPing </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>notAddedToThisMap</em>&nbsp;</td><td>Outparameter If not added to map, this data tells why. Is set to != 0 if the POI was not added. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>poiCategories</em>&nbsp;</td><td>Outparameter All categories of this poi. Set them to the item when it has got its item ID. </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a12" doxytag="WASPExtractor::doQuery"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool WASPExtractor::doQuery           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classSQLQuery.html">SQLQuery</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>sqlQuery</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>query</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>whereTag</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Copyed from UserProcessor! 
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="d3" doxytag="WASPExtractor::findPOIWithWASPID"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="classOldPointOfInterestItem.html">OldPointOfInterestItem</a>* WASPExtractor::findPOIWithWASPID           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classOldGenericMap.html">OldGenericMap</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>theMap</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="Types_8h.html#a21">uint32</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>WASPID</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [private]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns a POI item if there is a POI with a given WASP id in this map. 
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="d0" doxytag="WASPExtractor::findSsiAndOffset"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="classOldPointOfInterestItem.html">OldPointOfInterestItem</a>* WASPExtractor::findSsiAndOffset           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classOldGenericMap.html">OldGenericMap</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>theMap</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="classOldPointOfInterestItem.html">OldPointOfInterestItem</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>poi</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="Types_8h.html#a22">int32</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>ssiLat</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="Types_8h.html#a22">int32</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>ssiLon</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>bool&nbsp;</td>
          <td class="mdname" nowrap> <em>newPOI</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="structWASPExtractor_1_1poiAddData__t.html">poiAddData_t</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>notAddedData</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [private]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Help method to createPOI. 
<p>
Checks if a poi with given entry point fits the map. If it does, ssi id and offset (closest ssi) attributes of the POI is set. The entry point must be within m_maxSqDist_mc2 distance from closest ssi.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>theMap</em>&nbsp;</td><td>The map in which to check if the poi fits. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>poi</em>&nbsp;</td><td>The poi to add. The poi is empty (just created) in normal WASPing or dynamic WASPing (new), or a true poi in dynamic WASPing (modified). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ssiLat</em>&nbsp;</td><td>The entry point lat of the POI. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ssiLon</em>&nbsp;</td><td>The entry point lon of the POI. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>newPOI</em>&nbsp;</td><td>True if new POI, false if modified POI in dynamic WASPing </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>notAddedData</em>&nbsp;</td><td>Outparam, filled with data if the POI did not fit the map, to be used later. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>The POI with ssiID and offset if it fits the map, NULL if it did not fit the map. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a9" doxytag="WASPExtractor::getAddedIds"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void WASPExtractor::getAddedIds           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">set&lt; <a class="el" href="Types_8h.html#a21">uint32</a> &gt; &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>addedIDs</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get the set with affected pois so far. 
<p>

<p>
Definition at line <a class="el" href="WASPExtractor_8h-source.html#l00374">374</a> of file <a class="el" href="WASPExtractor_8h-source.html">WASPExtractor.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="d5" doxytag="WASPExtractor::getEntryPointForWASPID"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool WASPExtractor::getEntryPointForWASPID           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classSQLQuery.html">SQLQuery</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>subSqlQuery</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="Types_8h.html#a21">uint32</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>waspId</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="Types_8h.html#a22">int32</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>symbolLat</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="Types_8h.html#a22">int32</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>symbolLon</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="Types_8h.html#a22">int32</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>ssiLat</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="Types_8h.html#a22">int32</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>ssiLon</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [private]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Help method to createPOI. 
<p>
Find one entry point for a poi. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>waspId</em>&nbsp;</td><td>The database id of the poi for which to find entry point. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>symbolLat</em>&nbsp;</td><td>The latitude of the poi. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>symbolLon</em>&nbsp;</td><td>The longitude of the poi. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ssiLat</em>&nbsp;</td><td>Outparam set to the entry point latitude, same as symbolLat if no entry point exists. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ssiLon</em>&nbsp;</td><td>Outparam set to the entry point longitude. same as symbolLon if no entry point exists.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>True if one entry point was found, false otherwise. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a8" doxytag="WASPExtractor::getNbrAddedIds"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="Types_8h.html#a21">uint32</a> WASPExtractor::getNbrAddedIds           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get number affected pois so far. 
<p>

<p>
Definition at line <a class="el" href="WASPExtractor_8h-source.html#l00368">368</a> of file <a class="el" href="WASPExtractor_8h-source.html">WASPExtractor.h</a>.
<p>
References <a class="el" href="WASPExtractor_8h-source.html#l00342">m_addedIDs</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a11" doxytag="WASPExtractor::getPOIsPerRight"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">const <a class="el" href="classmap.html">map</a>&lt; <a class="el" href="classMapRights.html">MapRights</a>, <a class="el" href="Types_8h.html#a21">uint32</a> &gt; WASPExtractor::getPOIsPerRight           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const<code> [inline]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="WASPExtractor_8h-source.html#l00172">172</a> of file <a class="el" href="WASPExtractor_8h-source.html">WASPExtractor.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a13" doxytag="WASPExtractor::getSqlConnection"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="classSQLConnection.html">SQLConnection</a>* WASPExtractor::getSqlConnection           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="WASPExtractor_8h-source.html#l00182">182</a> of file <a class="el" href="WASPExtractor_8h-source.html">WASPExtractor.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a7" doxytag="WASPExtractor::getWaspDateFromMap"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool WASPExtractor::getWaspDateFromMap           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classOldGenericMap.html">OldGenericMap</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>theMap</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>char *&nbsp;</td>
          <td class="mdname" nowrap> <em>waspDate</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get the latest wasp-date from the map header. 
<p>
If a valid date is stored in the map header, it is printed to a pre-allocated string accoring to "yyyy-mm-dd hh:mm:ss". This format is the one used in the WASP-database. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>theMap</em>&nbsp;</td><td>The map from which to get wasp-date. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>waspDate</em>&nbsp;</td><td>String where to write the wasp-date. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>True if the map had a valid wasp-date and it was printed to the string, false if not. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="d2" doxytag="WASPExtractor::removeAllPOI"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="Types_8h.html#a21">uint32</a> WASPExtractor::removeAllPOI           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classOldGenericMap.html">OldGenericMap</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>theMap</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [private]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Remove all POIs from this map. 
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a5" doxytag="WASPExtractor::updateInMap"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int WASPExtractor::updateInMap           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classOldGenericMap.html">OldGenericMap</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>theMap</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="Types_8h.html#a21">uint32</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>mapVersionID</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>char *&nbsp;</td>
          <td class="mdname" nowrap> <em>date</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>ofstream &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>outFile</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="Types_8h.html#a21">uint32</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>nbrNewPois</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="Types_8h.html#a21">uint32</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>nbrModifiedPois</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="Types_8h.html#a21">uint32</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>nbrRemovedPois</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>bool&nbsp;</td>
          <td class="mdname" nowrap> <em>skipControlledAccessPOIs</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Update given map with modified, new and removed POIs in the WASP. 
<p>
Function used for dynamic WASPing, updating maps without regenerating them. To enable applying the updates also to overview and country overview maps, the item ids of the updated pois are written to an out file modifiedPOIs.txt.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>theMap</em>&nbsp;</td><td>The map in which to update pois. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mapVersionID</em>&nbsp;</td><td>The mapVersion for which to make the update, e.g. TeleAtlas_2003_3 (from POI.EDVersion). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>date</em>&nbsp;</td><td>The date of last WASPing of the map. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>outFile</em>&nbsp;</td><td>The outfile where to write mapid;itemid of the updated pois. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>nbrNewPois</em>&nbsp;</td><td>Outparam, nbr of new POIs added to the map. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>nbrModifiedPois</em>&nbsp;</td><td>Outparam, nbr of POIs modified in the map. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>nbrRemovedPois</em>&nbsp;</td><td>Outparam, nbr of POIs removed from the map.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>-1 if the update fails, else the number of updated pois in the map. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a10" doxytag="WASPExtractor::waspLab"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int WASPExtractor::waspLab           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classOldGenericMap.html">OldGenericMap</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>theMap</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="classMC2String.html">MC2String</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>function</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Method that does misc things on a map. 
<p>
Action depends on compilation.     </td>
  </tr>
</table>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="r2" doxytag="WASPExtractor::m_addedIDs"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">set&lt;<a class="el" href="Types_8h.html#a21">uint32</a>&gt; <a class="el" href="classWASPExtractor.html#r2">WASPExtractor::m_addedIDs</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Set holding poi waspids of all pois so far added (or modified or removed if dynamic WASPing) in any map. 
<p>

<p>
Definition at line <a class="el" href="WASPExtractor_8h-source.html#l00342">342</a> of file <a class="el" href="WASPExtractor_8h-source.html">WASPExtractor.h</a>.
<p>
Referenced by <a class="el" href="WASPExtractor_8h-source.html#l00368">getNbrAddedIds()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="r3" doxytag="WASPExtractor::m_connected"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool <a class="el" href="classWASPExtractor.html#r3">WASPExtractor::m_connected</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Are we connected? 
<p>

<p>
Definition at line <a class="el" href="WASPExtractor_8h-source.html#l00346">346</a> of file <a class="el" href="WASPExtractor_8h-source.html">WASPExtractor.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="r0" doxytag="WASPExtractor::m_maxDist_meters"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="Types_8h.html#a21">uint32</a> <a class="el" href="classWASPExtractor.html#r0">WASPExtractor::m_maxDist_meters</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The maximum distance from a POI (entry point to the closest street segment for the poi to be added. 
<p>
Also used as limit for when a poi should have a <a class="el" href="classGfxData.html">GfxData</a> or not, pois with symbol coordinate within this distance from closest street segment will have no gfxData, pois more distant will have gxfData. 
<p>
Definition at line <a class="el" href="WASPExtractor_8h-source.html#l00329">329</a> of file <a class="el" href="WASPExtractor_8h-source.html">WASPExtractor.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="r1" doxytag="WASPExtractor::m_maxSqDist_mc2"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="Types_8h.html#a23">uint64</a> <a class="el" href="classWASPExtractor.html#r1">WASPExtractor::m_maxSqDist_mc2</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The maximum distance from a POI (entry point) to the closest street segment for the poi to be added. 
<p>
Based on m_maxDist_meters, but expressed in square mc2-units. 
<p>
Definition at line <a class="el" href="WASPExtractor_8h-source.html#l00336">336</a> of file <a class="el" href="WASPExtractor_8h-source.html">WASPExtractor.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="r6" doxytag="WASPExtractor::m_POIsPerRight"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="classmap.html">map</a>&lt; <a class="el" href="classMapRights.html">MapRights</a>, <a class="el" href="Types_8h.html#a21">uint32</a> &gt; <a class="el" href="classWASPExtractor.html#r6">WASPExtractor::m_POIsPerRight</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<a class="el" href="classMap.html">Map</a> that is used in waspLab. 
<p>

<p>
Definition at line <a class="el" href="WASPExtractor_8h-source.html#l00362">362</a> of file <a class="el" href="WASPExtractor_8h-source.html">WASPExtractor.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="r4" doxytag="WASPExtractor::m_sqlConnection"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="classSQLConnection.html">SQLConnection</a>* <a class="el" href="classWASPExtractor.html#r4">WASPExtractor::m_sqlConnection</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The main connection to the database. 
<p>

<p>
Definition at line <a class="el" href="WASPExtractor_8h-source.html#l00351">351</a> of file <a class="el" href="WASPExtractor_8h-source.html">WASPExtractor.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="r5" doxytag="WASPExtractor::m_subSqlConnection"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="classSQLConnection.html">SQLConnection</a>* <a class="el" href="classWASPExtractor.html#r5">WASPExtractor::m_subSqlConnection</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
An extra connection to be able to execute sub-selects when the m_sqlConnection still is used. 
<p>

<p>
Definition at line <a class="el" href="WASPExtractor_8h-source.html#l00357">357</a> of file <a class="el" href="WASPExtractor_8h-source.html">WASPExtractor.h</a>.    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="WASPExtractor_8h-source.html">WASPExtractor.h</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Wed Jun 30 10:28:20 2010 for mc2 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.3.9.1 </small></address>
</body>
</html>
