<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>mc2: GfxCoordinates.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.9.1 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<div class="nav">
<a class="el" href="dir_000002.html">Server</a>&nbsp;/&nbsp;<a class="el" href="dir_000005.html">Shared</a>&nbsp;/&nbsp;<a class="el" href="dir_000045.html">Gfx</a>&nbsp;/&nbsp;<a class="el" href="dir_000046.html">include</a></div>
<h1>GfxCoordinates.h</h1><a href="GfxCoordinates_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment">00001 <span class="comment">/*</span>
00002 <span class="comment">Copyright (c) 1999 - 2010, Vodafone Group Services Ltd</span>
00003 <span class="comment">All rights reserved.</span>
00004 <span class="comment"></span>
00005 <span class="comment">Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</span>
00006 <span class="comment"></span>
00007 <span class="comment">    * Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</span>
00008 <span class="comment">    * Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</span>
00009 <span class="comment">    * Neither the name of the Vodafone Group Services Ltd nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.</span>
00010 <span class="comment"></span>
00011 <span class="comment">THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span>
00012 <span class="comment">*/</span>
00013 
00014 <span class="preprocessor">#ifndef GFXCOORDINATES_H</span>
00015 <span class="preprocessor"></span><span class="preprocessor">#define GFXCOORDINATES_H</span>
00016 <span class="preprocessor"></span>
00017 <span class="preprocessor">#include "<a class="code" href="config_8h.html">config.h</a>"</span>
00018 <span class="preprocessor">#include &lt;vector&gt;</span>
00019 <span class="preprocessor">#include "<a class="code" href="GfxConstants_8h.html">GfxConstants.h</a>"</span>
00020 <span class="preprocessor">#include "<a class="code" href="MC2Coordinate_8h.html">MC2Coordinate.h</a>"</span>
00021 <span class="preprocessor">#include "<a class="code" href="TileMapCoord_8h.html">TileMapCoord.h</a>"</span>
00022 
00023 <span class="keyword">class </span><a class="code" href="classDataBuffer.html">DataBuffer</a>;
00024 
<a name="l00029"></a><a class="code" href="classGfxCoordinates.html">00029</a> <span class="keyword">class </span><a class="code" href="classGfxCoordinates.html">GfxCoordinates</a> {
00030    <span class="keyword">public</span>:
00036       <a class="code" href="classGfxCoordinates.html">GfxCoordinates</a>( <a class="code" href="Types_8h.html#a21">uint32</a> startSize );
00037 
00038 
00042       <a class="code" href="classGfxCoordinates.html">GfxCoordinates</a>();
00043 
00044 
00048       <span class="keyword">virtual</span> ~<a class="code" href="classGfxCoordinates.html">GfxCoordinates</a>();
00049 
00050 
00057       <span class="keyword">static</span> <a class="code" href="classGfxCoordinates.html">GfxCoordinates</a>* createNewGfxCoordinates( <a class="code" href="classDataBuffer.html">DataBuffer</a>* data );
00058       
00059       
00070       <span class="keyword">static</span> <a class="code" href="classGfxCoordinates.html">GfxCoordinates</a>* createNewGfxCoordinates( <span class="keywordtype">bool</span> coordinates16Bit,
00071                                                    <a class="code" href="Types_8h.html#a21">uint32</a> startSize = 16);
00072       
00073       
00080       <span class="keyword">virtual</span> <a class="code" href="Types_8h.html#a21">uint32</a> getSize() <span class="keyword">const </span>= 0;
00081 
00082 
00087       <span class="keyword">virtual</span> <span class="keywordtype">void</span> dump(<span class="keywordtype">int</span> verboseLevel = 1) <span class="keyword">const</span>;
00088 
00089 
00097       <span class="keyword">virtual</span> <span class="keywordtype">bool</span> createFromDataBuffer( <a class="code" href="classDataBuffer.html">DataBuffer</a>* data ) = 0;
00098 
00099 
00106       <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="namespaceTileFeatureScaleRange.html#a3">save</a>( <a class="code" href="classDataBuffer.html">DataBuffer</a>* data ) <span class="keyword">const </span>= 0;
00107 
00108       
00120       <span class="keyword">virtual</span> <a class="code" href="Types_8h.html#a22">int32</a> getLat( <a class="code" href="Types_8h.html#a21">uint32</a> i, <a class="code" href="Types_8h.html#a22">int32</a> prevLat ) <span class="keyword">const </span>= 0;
00121 
00122       
00134       <span class="keyword">virtual</span> <a class="code" href="Types_8h.html#a22">int32</a> getLon( <a class="code" href="Types_8h.html#a21">uint32</a> i, <a class="code" href="Types_8h.html#a22">int32</a> prevLon ) <span class="keyword">const </span>= 0;
00135 
00136       
00148       <span class="keyword">virtual</span> <a class="code" href="Types_8h.html#a22">int32</a> getLat( <a class="code" href="Types_8h.html#a21">uint32</a> i ) <span class="keyword">const </span>= 0;
00149 
00150       
00162       <span class="keyword">virtual</span> <a class="code" href="Types_8h.html#a22">int32</a> getLon( <a class="code" href="Types_8h.html#a21">uint32</a> i ) <span class="keyword">const </span>= 0;
00163 
00164       
00169       <span class="keyword">virtual</span> <a class="code" href="Types_8h.html#a21">uint32</a> getNbrCoordinates() <span class="keyword">const </span>= 0;
00170 
00171       
00178       <span class="keyword">virtual</span> <span class="keywordtype">bool</span> usesCoordinates16Bits() <span class="keyword">const </span>= 0;
00179 
00180       
00194       <span class="keyword">virtual</span> <span class="keywordtype">void</span> addCoordinate( <a class="code" href="Types_8h.html#a22">int32</a> lat, <a class="code" href="Types_8h.html#a22">int32</a> lon,
00195                                   <a class="code" href="Types_8h.html#a22">int32</a> prevlat, <a class="code" href="Types_8h.html#a22">int32</a> prevLon ) = 0;
00196       
00197       
00209       <span class="keyword">virtual</span> <span class="keywordtype">void</span> addCoordinate( <a class="code" href="Types_8h.html#a22">int32</a> lat, <a class="code" href="Types_8h.html#a22">int32</a> lon ) = 0;
00210 
00211 
00212       <span class="keyword">virtual</span> <span class="keywordtype">bool</span> removeLastCoordinate() = 0;
00213       
00219       <span class="keyword">virtual</span> <span class="keywordtype">void</span> setStartLat( <a class="code" href="Types_8h.html#a22">int32</a> startLat ) = 0;
00220 
00221       
00227       <span class="keyword">virtual</span> <span class="keywordtype">void</span> setStartLon( <a class="code" href="Types_8h.html#a22">int32</a> startLon ) = 0;
00228 
00233       <span class="keyword">virtual</span> <a class="code" href="Types_8h.html#a27">float64</a> getLength() <span class="keyword">const</span>;
00234 
00260       <span class="keyword">virtual</span> <span class="keywordtype">bool</span> getPointOnPolygon(<a class="code" href="Types_8h.html#a27">float64</a> length, <span class="keywordtype">int</span>&amp; nbrPassedCoords,
00261                                      <a class="code" href="Types_8h.html#a22">int32</a>&amp; lat, <a class="code" href="Types_8h.html#a22">int32</a> &amp;lon,
00262                                      <span class="keywordtype">bool</span> fromFirst = <span class="keyword">true</span>) <span class="keyword">const</span>;
00263 };
00264 
<a name="l00269"></a><a class="code" href="classGfxCoordinates16.html">00269</a> <span class="keyword">class </span><a class="code" href="classGfxCoordinates16.html">GfxCoordinates16</a> : <span class="keyword">public</span> <a class="code" href="classGfxCoordinates.html">GfxCoordinates</a> {
00270    <span class="keyword">public</span>:
00271       
00277       <a class="code" href="classGfxCoordinates16.html#a1">GfxCoordinates16</a>( <a class="code" href="Types_8h.html#a21">uint32</a> startSize );
00278 
00279 
00283       <a class="code" href="classGfxCoordinates16.html#a1">GfxCoordinates16</a>();
00284 
00285 
00289       <span class="keyword">virtual</span> <a class="code" href="classGfxCoordinates16.html#a2">~GfxCoordinates16</a>();
00290 
00296       <a class="code" href="Types_8h.html#a21">uint32</a> <a class="code" href="classGfxCoordinates16.html#a3">getSize</a>() <span class="keyword">const</span>;
00297 
00298 
00303       <span class="keywordtype">void</span> <a class="code" href="classGfxCoordinates16.html#a4">dump</a>(<span class="keywordtype">int</span> verboseLevel = 1) <span class="keyword">const</span>;
00304 
00305       
00311       <span class="keywordtype">bool</span> <a class="code" href="classGfxCoordinates16.html#a5">save</a>( <a class="code" href="classDataBuffer.html">DataBuffer</a>* data ) <span class="keyword">const</span>;
00312 
00313 
00320       <span class="keywordtype">bool</span> <a class="code" href="classGfxCoordinates16.html#a6">createFromDataBuffer</a>( <a class="code" href="classDataBuffer.html">DataBuffer</a>* data );
00321 
00322       
00331       <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a22">int32</a> <a class="code" href="classGfxCoordinates16.html#a7">getLat</a>( <a class="code" href="Types_8h.html#a21">uint32</a> i, <a class="code" href="Types_8h.html#a22">int32</a> prevLat ) <span class="keyword">const</span>;
00332       
00333       
00343       <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a22">int32</a> <a class="code" href="classGfxCoordinates16.html#a8">getLon</a>( <a class="code" href="Types_8h.html#a21">uint32</a> i, <a class="code" href="Types_8h.html#a22">int32</a> prevLon ) <span class="keyword">const</span>;
00344 
00345       
00355       <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a22">int32</a> <a class="code" href="classGfxCoordinates16.html#a7">getLat</a>( <a class="code" href="Types_8h.html#a21">uint32</a> i ) <span class="keyword">const</span>;
00356 
00357       
00367       <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a22">int32</a> <a class="code" href="classGfxCoordinates16.html#a8">getLon</a>( <a class="code" href="Types_8h.html#a21">uint32</a> i ) <span class="keyword">const</span>;
00368       
00369       
00373       <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a21">uint32</a> <a class="code" href="classGfxCoordinates16.html#a11">getNbrCoordinates</a>() <span class="keyword">const</span>;
00374       
00375       
00379       <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classGfxCoordinates16.html#a12">usesCoordinates16Bits</a>() <span class="keyword">const</span>;
00380       
00381       
00393       <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classGfxCoordinates16.html#a13">addCoordinate</a>( <a class="code" href="Types_8h.html#a22">int32</a> lat, <a class="code" href="Types_8h.html#a22">int32</a> lon,
00394                                          <a class="code" href="Types_8h.html#a22">int32</a> prevlat, <a class="code" href="Types_8h.html#a22">int32</a> prevLon );
00395       
00396       
00405       <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classGfxCoordinates16.html#a13">addCoordinate</a>( <a class="code" href="Types_8h.html#a22">int32</a> lat, <a class="code" href="Types_8h.html#a22">int32</a> lon );
00406       
00407 
00408       <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classGfxCoordinates16.html#a15">removeLastCoordinate</a>();
00409 
00410       
00416       <span class="keywordtype">void</span> <a class="code" href="classGfxCoordinates16.html#a16">addCoordinateDiff</a>( <span class="keywordtype">int</span> latDiff, <span class="keywordtype">int</span> lonDiff );      
00417       
00418       
00423       <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classGfxCoordinates16.html#a17">setStartLat</a>( <a class="code" href="Types_8h.html#a22">int32</a> startLat );
00424 
00425       
00430       <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classGfxCoordinates16.html#a18">setStartLon</a>( <a class="code" href="Types_8h.html#a22">int32</a> startLon );
00431       
00432    <span class="keyword">private</span>:
00438       <a class="code" href="Types_8h.html#a21">uint32</a> <a class="code" href="classGfxCoordinates16.html#d0">readHeader</a>( <a class="code" href="classDataBuffer.html">DataBuffer</a>* data );
00439 
00440       
00446       <span class="keywordtype">void</span> <a class="code" href="classGfxCoordinates16.html#d1">readCoords</a>( <a class="code" href="classDataBuffer.html">DataBuffer</a>* data, <a class="code" href="Types_8h.html#a21">uint32</a> nbrCoordinates );
00447 
00448 
00453       <span class="keywordtype">void</span> <a class="code" href="classGfxCoordinates16.html#d2">writeHeader</a>( <a class="code" href="classDataBuffer.html">DataBuffer</a>* data ) <span class="keyword">const</span>;
00454 
00455       
00460       <span class="keywordtype">void</span> <a class="code" href="classGfxCoordinates16.html#d3">writeCoords</a>( <a class="code" href="classDataBuffer.html">DataBuffer</a>* data ) <span class="keyword">const</span>;
00461       
00462       
<a name="l00466"></a><a class="code" href="classGfxCoordinates16.html#r0">00466</a>       <a class="code" href="Types_8h.html#a22">int32</a> m_startLat;
00467 
00468       
<a name="l00472"></a><a class="code" href="classGfxCoordinates16.html#r1">00472</a>       <a class="code" href="Types_8h.html#a22">int32</a> m_startLon;
00473 
00474       
<a name="l00478"></a><a class="code" href="classGfxCoordinates16.html#r2">00478</a>       <a class="code" href="classvector.html">vector&lt;int16&gt;</a> m_lat;
00479 
00480       
<a name="l00484"></a><a class="code" href="classGfxCoordinates16.html#r3">00484</a>       <a class="code" href="classvector.html">vector&lt;int16&gt;</a> m_lon;
00485 };
00486 
<a name="l00490"></a><a class="code" href="classGfxCoordinates32.html">00490</a> <span class="keyword">class </span><a class="code" href="classGfxCoordinates32.html">GfxCoordinates32</a> : <span class="keyword">public</span> <a class="code" href="classGfxCoordinates.html">GfxCoordinates</a> {
00491    <span class="keyword">public</span>:
00497       <a class="code" href="classGfxCoordinates32.html#a2">GfxCoordinates32</a>( <a class="code" href="Types_8h.html#a21">uint32</a> startSize );
00498 
00502       <a class="code" href="classGfxCoordinates32.html#a2">GfxCoordinates32</a>( <span class="keyword">const</span> <a class="code" href="classvector.html">vector&lt;MC2Coordinate&gt;</a>&amp; coords );
00503    
00507       <a class="code" href="classGfxCoordinates32.html#a2">GfxCoordinates32</a>();
00508 
00509 
00513       <span class="keyword">virtual</span> <a class="code" href="classGfxCoordinates32.html#a3">~GfxCoordinates32</a>();
00514 
00515 
00521       <a class="code" href="Types_8h.html#a21">uint32</a> <a class="code" href="classGfxCoordinates32.html#a4">getSize</a>() <span class="keyword">const</span>;
00522 
00523 
00528       <span class="keywordtype">void</span> <a class="code" href="classGfxCoordinates32.html#a5">dump</a>(<span class="keywordtype">int</span> verboseLevel = 1) <span class="keyword">const</span>;
00529 
00530       
00536       <span class="keywordtype">bool</span> <a class="code" href="classGfxCoordinates32.html#a6">save</a>( <a class="code" href="classDataBuffer.html">DataBuffer</a>* data ) <span class="keyword">const</span>;
00537 
00538 
00545       <span class="keywordtype">bool</span> <a class="code" href="classGfxCoordinates32.html#a7">createFromDataBuffer</a>( <a class="code" href="classDataBuffer.html">DataBuffer</a>* data );
00546 
00547       
00556       <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a22">int32</a> <a class="code" href="classGfxCoordinates32.html#a8">getLat</a>( <a class="code" href="Types_8h.html#a21">uint32</a> i, <a class="code" href="Types_8h.html#a22">int32</a> prevLat ) <span class="keyword">const</span>;
00557       
00558       
00567       <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a22">int32</a> <a class="code" href="classGfxCoordinates32.html#a9">getLon</a>( <a class="code" href="Types_8h.html#a21">uint32</a> i, <a class="code" href="Types_8h.html#a22">int32</a> prevLon ) <span class="keyword">const</span>;
00568 
00569       
00578       <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a22">int32</a> <a class="code" href="classGfxCoordinates32.html#a8">getLat</a>( <a class="code" href="Types_8h.html#a21">uint32</a> i ) <span class="keyword">const</span>;
00579       
00580       
00588       <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a22">int32</a> <a class="code" href="classGfxCoordinates32.html#a9">getLon</a>( <a class="code" href="Types_8h.html#a21">uint32</a> i ) <span class="keyword">const</span>;
00589       
00590       
00594       <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a21">uint32</a> <a class="code" href="classGfxCoordinates32.html#a12">getNbrCoordinates</a>() <span class="keyword">const</span>;
00595 
00596       
00600       <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classGfxCoordinates32.html#a13">usesCoordinates16Bits</a>() <span class="keyword">const</span>;
00601 
00602       
00613       <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classGfxCoordinates32.html#a14">addCoordinate</a>( <a class="code" href="Types_8h.html#a22">int32</a> lat, <a class="code" href="Types_8h.html#a22">int32</a> lon,
00614                                          <a class="code" href="Types_8h.html#a22">int32</a> prevlat, <a class="code" href="Types_8h.html#a22">int32</a> prevLon );
00615       
00624       <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classGfxCoordinates32.html#a14">addCoordinate</a>( <a class="code" href="Types_8h.html#a22">int32</a> lat, <a class="code" href="Types_8h.html#a22">int32</a> lon );
00625       
00626       <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classGfxCoordinates32.html#a16">removeLastCoordinate</a>();
00627      
00633       <span class="keywordtype">void</span> <a class="code" href="classGfxCoordinates32.html#a17">addCoordinateDiff</a>( <span class="keywordtype">int</span> latDiff, <span class="keywordtype">int</span> lonDiff );      
00634       
00635       
00640       <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classGfxCoordinates32.html#a18">setStartLat</a>( <a class="code" href="Types_8h.html#a22">int32</a> startLat );
00641 
00642       
00647       <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classGfxCoordinates32.html#a19">setStartLon</a>( <a class="code" href="Types_8h.html#a22">int32</a> startLon );
00648       
00649       
00650    <span class="keyword">private</span>:
00656       <a class="code" href="Types_8h.html#a21">uint32</a> <a class="code" href="classGfxCoordinates32.html#d0">readHeader</a>( <a class="code" href="classDataBuffer.html">DataBuffer</a>* data );
00657 
00658       
00664       <span class="keywordtype">void</span> <a class="code" href="classGfxCoordinates32.html#d1">readCoords</a>( <a class="code" href="classDataBuffer.html">DataBuffer</a>* data, <a class="code" href="Types_8h.html#a21">uint32</a> nbrCoordinates );
00665 
00666 
00671       <span class="keywordtype">void</span> <a class="code" href="classGfxCoordinates32.html#d2">writeHeader</a>( <a class="code" href="classDataBuffer.html">DataBuffer</a>* data ) <span class="keyword">const</span>;
00672 
00673       
00678       <span class="keywordtype">void</span> <a class="code" href="classGfxCoordinates32.html#d3">writeCoords</a>( <a class="code" href="classDataBuffer.html">DataBuffer</a>* data ) <span class="keyword">const</span>;
00679       
00680       
<a name="l00684"></a><a class="code" href="classGfxCoordinates32.html#r0">00684</a>       <a class="code" href="classvector.html">vector&lt;TileMapCoord&gt;</a> m_coords;      
00685 };
00686 
00687 
00688 
00689 <span class="comment">// =======================================================================</span>
00690 <span class="comment">//                                     Implementation of inlined methods =</span>
00691 
00692 
00693 
00695 
00696 <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a22">int32</a> 
<a name="l00697"></a><a class="code" href="classGfxCoordinates16.html#a7">00697</a> <a class="code" href="classGfxCoordinates16.html#a7">GfxCoordinates16::getLat</a>( uint32 i, int32 prevLat )<span class="keyword"> const</span>
00698 <span class="keyword"></span>{
00699    <span class="keywordflow">if</span> (i == 0) {
00700       <span class="keywordflow">return</span> (m_startLat);
00701    } <span class="keywordflow">else</span> {
00702       <span class="keywordflow">return</span> (<a class="code" href="classGfxCoordinates16.html#r2">m_lat</a>[i - 1] + prevLat);
00703    }
00704 }
00705 
00706 
00707 <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a22">int32</a> 
<a name="l00708"></a><a class="code" href="classGfxCoordinates16.html#a8">00708</a> <a class="code" href="classGfxCoordinates16.html#a8">GfxCoordinates16::getLon</a>( uint32 i, int32 prevLon )<span class="keyword"> const</span>
00709 <span class="keyword"></span>{
00710    <span class="keywordflow">if</span> (i == 0) {
00711       <span class="keywordflow">return</span> (m_startLon);
00712    } <span class="keywordflow">else</span> {
00713       <span class="keywordflow">return</span> (<a class="code" href="classGfxCoordinates16.html#r3">m_lon</a>[i - 1] + prevLon);
00714    }
00715 
00716 }
00717 
00718 
00719 <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a22">int32</a> 
<a name="l00720"></a><a class="code" href="classGfxCoordinates16.html#a9">00720</a> <a class="code" href="classGfxCoordinates16.html#a7">GfxCoordinates16::getLat</a>( uint32 i )<span class="keyword"> const</span>
00721 <span class="keyword"></span>{
00722    <span class="comment">// Cost O(i)</span>
00723    <a class="code" href="Types_8h.html#a21">uint32</a> lat = m_startLat;
00724    <span class="keywordflow">for</span> (<a class="code" href="Types_8h.html#a21">uint32</a> j = 0; j &lt; i; j++) {
00725       lat += <a class="code" href="classGfxCoordinates16.html#r2">m_lat</a>[j];
00726    }
00727    
00728    <span class="keywordflow">return</span> (lat);
00729 }
00730 
00731 
00732 <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a22">int32</a> 
<a name="l00733"></a><a class="code" href="classGfxCoordinates16.html#a10">00733</a> <a class="code" href="classGfxCoordinates16.html#a8">GfxCoordinates16::getLon</a>( uint32 i )<span class="keyword"> const</span>
00734 <span class="keyword"></span>{
00735    <span class="comment">// Cost O(i)</span>
00736    <a class="code" href="Types_8h.html#a21">uint32</a> lon = m_startLon;
00737    <span class="keywordflow">for</span> (<a class="code" href="Types_8h.html#a21">uint32</a> j = 0; j &lt; i; j++) {
00738       lon += <a class="code" href="classGfxCoordinates16.html#r3">m_lon</a>[j];
00739    }
00740    
00741    <span class="keywordflow">return</span> (lon);
00742 }
00743 
00744 
00745 <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a21">uint32</a> 
<a name="l00746"></a><a class="code" href="classGfxCoordinates16.html#a11">00746</a> <a class="code" href="classGfxCoordinates16.html#a11">GfxCoordinates16::getNbrCoordinates</a>()<span class="keyword"> const</span>
00747 <span class="keyword"></span>{
00748    <a class="code" href="Types_8h.html#a21">uint32</a> size = <a class="code" href="classGfxCoordinates16.html#r3">m_lon</a>.size();
00749    <span class="keywordflow">if</span> ( (size &gt; 0) || 
00750         ((<a class="code" href="classGfxCoordinates16.html#r0">m_startLat</a> != GfxConstants::IMPOSSIBLE) &amp;&amp;
00751          (<a class="code" href="classGfxCoordinates16.html#r1">m_startLon</a> != GfxConstants::IMPOSSIBLE)) ) {
00752       size++;
00753    }
00754    <span class="keywordflow">return</span> (size);
00755 }
00756 
00757 
00758 <span class="keyword">inline</span> <span class="keywordtype">bool</span> 
<a name="l00759"></a><a class="code" href="classGfxCoordinates16.html#a12">00759</a> <a class="code" href="classGfxCoordinates16.html#a12">GfxCoordinates16::usesCoordinates16Bits</a>()<span class="keyword"> const</span>
00760 <span class="keyword"></span>{
00761    <span class="keywordflow">return</span> (<span class="keyword">true</span>);
00762 }
00763 
00764 
00765 <span class="keyword">inline</span> <span class="keywordtype">void</span>
<a name="l00766"></a><a class="code" href="classGfxCoordinates16.html#a14">00766</a> <a class="code" href="classGfxCoordinates16.html#a13">GfxCoordinates16::addCoordinate</a>( int32 lat, int32 lon )
00767 {
00768    <a class="code" href="Types_8h.html#a22">int32</a> nbrCoords = <a class="code" href="classGfxCoordinates16.html#a11">getNbrCoordinates</a>();
00769    <span class="keywordflow">if</span> (nbrCoords &gt; 0) {
00770       <span class="keywordflow">return</span> <a class="code" href="classGfxCoordinates16.html#a13">addCoordinate</a>(lat, lon, 
00771                            <a class="code" href="classGfxCoordinates16.html#a7">getLat</a>(nbrCoords - 1), <a class="code" href="classGfxCoordinates16.html#a8">getLon</a>(nbrCoords - 1));
00772    } <span class="keywordflow">else</span> {
00773       <span class="keywordflow">return</span> <a class="code" href="classGfxCoordinates16.html#a13">addCoordinate</a>(lat, lon, 
00774                            GfxConstants::IMPOSSIBLE, GfxConstants::IMPOSSIBLE);
00775    }
00776 
00777 }
00778    
00779 
00780 <span class="keyword">inline</span> <span class="keywordtype">void</span>
<a name="l00781"></a><a class="code" href="classGfxCoordinates16.html#a13">00781</a> <a class="code" href="classGfxCoordinates16.html#a13">GfxCoordinates16::addCoordinate</a>( int32 lat, int32 lon,
00782                                  int32 prevLat, int32 prevLon )
00783 {
00784    <span class="keywordflow">if</span> ((<a class="code" href="classGfxCoordinates16.html#r0">m_startLat</a> == GfxConstants::IMPOSSIBLE) &amp;&amp; 
00785        (<a class="code" href="classGfxCoordinates16.html#r1">m_startLon</a> == GfxConstants::IMPOSSIBLE)) {
00786       <span class="comment">// Invalid start coordinates.</span>
00787       <a class="code" href="MC2Logging_8h.html#a5">mc2dbg4</a> &lt;&lt; <span class="stringliteral">"Setting (m_startLat,m_startLon)=("</span> &lt;&lt; <a class="code" href="classGfxCoordinates16.html#r0">m_startLat</a> &lt;&lt; <span class="stringliteral">","</span>
00788               &lt;&lt; <a class="code" href="classGfxCoordinates16.html#r1">m_startLon</a> &lt;&lt; <span class="stringliteral">")"</span> &lt;&lt; endl;
00789       <a class="code" href="classGfxCoordinates16.html#r0">m_startLat</a> = lat;
00790       <a class="code" href="classGfxCoordinates16.html#r1">m_startLon</a> = lon;
00791    } <span class="keywordflow">else</span> {
00792       <a class="code" href="classGfxCoordinates16.html#a16">addCoordinateDiff</a>( lat - prevLat, lon - prevLon );
00793    }
00794 }
00795 
00796 <span class="keyword">inline</span> <span class="keywordtype">bool</span> 
<a name="l00797"></a><a class="code" href="classGfxCoordinates16.html#a15">00797</a> <a class="code" href="classGfxCoordinates16.html#a15">GfxCoordinates16::removeLastCoordinate</a>()
00798 {
00799    <span class="keywordflow">if</span> (<a class="code" href="classGfxCoordinates16.html#r3">m_lon</a>.size() &gt; 0) {
00800       <a class="code" href="classGfxCoordinates16.html#r3">m_lon</a>.pop_back();
00801       <a class="code" href="classGfxCoordinates16.html#r2">m_lat</a>.pop_back();
00802       <span class="keywordflow">return</span> <span class="keyword">true</span>;
00803    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( (<a class="code" href="classGfxCoordinates16.html#r0">m_startLat</a> != GfxConstants::IMPOSSIBLE) &amp;&amp; 
00804                (<a class="code" href="classGfxCoordinates16.html#r1">m_startLon</a> != GfxConstants::IMPOSSIBLE)) {
00805       <a class="code" href="classGfxCoordinates16.html#r0">m_startLat</a> = GfxConstants::IMPOSSIBLE;
00806       <a class="code" href="classGfxCoordinates16.html#r1">m_startLon</a> = GfxConstants::IMPOSSIBLE;
00807       <span class="keywordflow">return</span> <span class="keyword">true</span>;
00808    }
00809    <span class="keywordflow">return</span> <span class="keyword">false</span>;
00810 }
00811 
00812 
00813 <span class="keyword">inline</span> <span class="keywordtype">void</span> 
<a name="l00814"></a><a class="code" href="classGfxCoordinates16.html#a17">00814</a> <a class="code" href="classGfxCoordinates16.html#a17">GfxCoordinates16::setStartLat</a>( int32 startLat )
00815 {
00816    <a class="code" href="classGfxCoordinates16.html#r0">m_startLat</a> = startLat;
00817 }
00818 
00819 <span class="keyword">inline</span> <span class="keywordtype">void</span> 
<a name="l00820"></a><a class="code" href="classGfxCoordinates16.html#a18">00820</a> <a class="code" href="classGfxCoordinates16.html#a18">GfxCoordinates16::setStartLon</a>( int32 startLon )
00821 {
00822    <a class="code" href="classGfxCoordinates16.html#r1">m_startLon</a> = startLon;
00823 }
00824 
00826 
00827 <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a22">int32</a> 
<a name="l00828"></a><a class="code" href="classGfxCoordinates32.html#a10">00828</a> <a class="code" href="classGfxCoordinates32.html#a8">GfxCoordinates32::getLat</a>( uint32 i )<span class="keyword"> const</span>
00829 <span class="keyword"></span>{
00830    <span class="keywordflow">return</span> <a class="code" href="classGfxCoordinates32.html#r0">m_coords</a>[i].lat;
00831 }
00832 
00833 
00834 <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a22">int32</a> 
<a name="l00835"></a><a class="code" href="classGfxCoordinates32.html#a11">00835</a> <a class="code" href="classGfxCoordinates32.html#a9">GfxCoordinates32::getLon</a>( uint32 i )<span class="keyword"> const</span>
00836 <span class="keyword"></span>{
00837    <span class="keywordflow">return</span> <a class="code" href="classGfxCoordinates32.html#r0">m_coords</a>[i].lon;
00838 }
00839 
00840 <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a22">int32</a> 
<a name="l00841"></a><a class="code" href="classGfxCoordinates32.html#a8">00841</a> <a class="code" href="classGfxCoordinates32.html#a8">GfxCoordinates32::getLat</a>( uint32 i, int32 prevLat )<span class="keyword"> const</span>
00842 <span class="keyword"></span>{
00843    <span class="keywordflow">return</span> <a class="code" href="classGfxCoordinates32.html#a8">getLat</a>(i);
00844 }
00845 
00846 
00847 <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a22">int32</a> 
<a name="l00848"></a><a class="code" href="classGfxCoordinates32.html#a9">00848</a> <a class="code" href="classGfxCoordinates32.html#a9">GfxCoordinates32::getLon</a>( uint32 i, int32 prevLon )<span class="keyword"> const</span>
00849 <span class="keyword"></span>{
00850    <span class="keywordflow">return</span> <a class="code" href="classGfxCoordinates32.html#a9">getLon</a>(i);
00851 }
00852 
00853 <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a21">uint32</a> 
<a name="l00854"></a><a class="code" href="classGfxCoordinates32.html#a12">00854</a> <a class="code" href="classGfxCoordinates32.html#a12">GfxCoordinates32::getNbrCoordinates</a>()<span class="keyword"> const</span>
00855 <span class="keyword"></span>{
00856    <span class="keywordflow">return</span> <a class="code" href="classGfxCoordinates32.html#r0">m_coords</a>.size();
00857 }
00858 
00859 
00860 <span class="keyword">inline</span> <span class="keywordtype">bool</span> 
<a name="l00861"></a><a class="code" href="classGfxCoordinates32.html#a13">00861</a> <a class="code" href="classGfxCoordinates32.html#a13">GfxCoordinates32::usesCoordinates16Bits</a>()<span class="keyword"> const</span>
00862 <span class="keyword"></span>{
00863    <span class="keywordflow">return</span> <span class="keyword">false</span>;
00864 }
00865 
00866 <span class="keyword">inline</span> <span class="keywordtype">void</span>
<a name="l00867"></a><a class="code" href="classGfxCoordinates32.html#a15">00867</a> <a class="code" href="classGfxCoordinates32.html#a14">GfxCoordinates32::addCoordinate</a>( int32 lat, int32 lon )
00868 {
00869    <a class="code" href="classGfxCoordinates32.html#r0">m_coords</a>.push_back( <a class="code" href="classTileMapCoord.html">TileMapCoord</a>( lat, lon ) );
00870 }
00871 
00872 <span class="keyword">inline</span> <span class="keywordtype">void</span>
<a name="l00873"></a><a class="code" href="classGfxCoordinates32.html#a14">00873</a> <a class="code" href="classGfxCoordinates32.html#a14">GfxCoordinates32::addCoordinate</a>( int32 lat, int32 lon, 
00874                                  int32 prevlat, int32 prevLon )
00875 {
00876    <a class="code" href="classGfxCoordinates32.html#a14">addCoordinate</a>( lat, lon );
00877 }
00878 
00879 <span class="keyword">inline</span> <span class="keywordtype">bool</span> 
<a name="l00880"></a><a class="code" href="classGfxCoordinates32.html#a16">00880</a> <a class="code" href="classGfxCoordinates32.html#a16">GfxCoordinates32::removeLastCoordinate</a>()
00881 {
00882    <span class="keywordflow">if</span> ( ! <a class="code" href="classGfxCoordinates32.html#r0">m_coords</a>.empty() ) {
00883       <a class="code" href="classGfxCoordinates32.html#r0">m_coords</a>.pop_back();
00884       <span class="keywordflow">return</span> <span class="keyword">true</span>;
00885    }
00886    <span class="keywordflow">return</span> <span class="keyword">false</span>;
00887 }
00888 
00889 
00890 
00891 <span class="keyword">inline</span> <span class="keywordtype">void</span>
<a name="l00892"></a><a class="code" href="classGfxCoordinates32.html#a17">00892</a> <a class="code" href="classGfxCoordinates32.html#a17">GfxCoordinates32::addCoordinateDiff</a>( <span class="keywordtype">int</span> latDiff, <span class="keywordtype">int</span> lonDiff )
00893 {
00894    <a class="code" href="classGfxCoordinates32.html#a14">addCoordinate</a>( <a class="code" href="classGfxCoordinates32.html#r0">m_coords</a>.back().lat + latDiff,
00895                   <a class="code" href="classGfxCoordinates32.html#r0">m_coords</a>.back().lon + lonDiff );
00896 }
00897 
00898 <span class="keyword">inline</span> <span class="keywordtype">void</span> 
<a name="l00899"></a><a class="code" href="classGfxCoordinates32.html#a18">00899</a> <a class="code" href="classGfxCoordinates32.html#a18">GfxCoordinates32::setStartLat</a>( int32 startLat )
00900 {
00901    <span class="keywordflow">if</span> ( ! <a class="code" href="classGfxCoordinates32.html#r0">m_coords</a>.empty() ) {
00902       <a class="code" href="classGfxCoordinates32.html#r0">m_coords</a>[0].lat = startLat;
00903    } 
00904 }
00905 
00906 <span class="keyword">inline</span> <span class="keywordtype">void</span>
<a name="l00907"></a><a class="code" href="classGfxCoordinates32.html#a19">00907</a> <a class="code" href="classGfxCoordinates32.html#a19">GfxCoordinates32::setStartLon</a>( int32 startLon )
00908 {
00909    <span class="keywordflow">if</span> ( ! <a class="code" href="classGfxCoordinates32.html#r0">m_coords</a>.empty() ) {
00910       <a class="code" href="classGfxCoordinates32.html#r0">m_coords</a>[0].lon = startLon;
00911    }
00912 }
00913 
00914 <span class="preprocessor">#endif // GFXCOORDINATES_H</span>
00915 <span class="preprocessor"></span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Wed Jun 30 10:11:46 2010 for mc2 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.3.9.1 </small></address>
</body>
</html>
