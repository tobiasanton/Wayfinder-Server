<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>mc2: TCPSocket Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.9.1 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>TCPSocket Class Reference</h1>System independant socket interface.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="TCPSocket_8h-source.html">TCPSocket.h</a>&gt;</code>
<p>
Inheritance diagram for TCPSocket:<p><center><img src="classTCPSocket__inherit__graph.png" border="0" usemap="#TCPSocket__inherit__map" alt="Inheritance graph"></center>
<map name="TCPSocket__inherit__map">
<area href="classDataSocket.html" shape="rect" coords="119,304,209,331" alt="">
<area href="classPacketReceiveSocket.html" shape="rect" coords="233,304,383,331" alt="">
<area href="classSocket.html" shape="rect" coords="61,155,123,181" alt="">
<area href="classSelectable.html" shape="rect" coords="51,80,133,107" alt="">
<area href="classTemplateSelectable.html" shape="rect" coords="5,5,179,32" alt="">
<area href="classWriteable.html" shape="rect" coords="147,155,224,181" alt="">
<area href="classReadable.html" shape="rect" coords="248,155,325,181" alt="">
<area href="classStepLogger.html" shape="rect" coords="349,155,440,181" alt="">
</map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center>Collaboration diagram for TCPSocket:<p><center><img src="classTCPSocket__coll__graph.png" border="0" usemap="#TCPSocket__coll__map" alt="Collaboration graph"></center>
<map name="TCPSocket__coll__map">
<area href="classSocket.html" shape="rect" coords="61,173,123,200" alt="">
<area href="classSelectable.html" shape="rect" coords="51,83,133,109" alt="">
<area href="classTemplateSelectable.html" shape="rect" coords="5,5,179,32" alt="">
<area href="classWriteable.html" shape="rect" coords="147,173,224,200" alt="">
<area href="classReadable.html" shape="rect" coords="248,173,325,200" alt="">
<area href="classStepLogger.html" shape="rect" coords="349,173,440,200" alt="">
<area href="classMC2String.html" shape="rect" coords="352,83,437,109" alt="">
<area href="classvector.html" shape="rect" coords="341,5,448,32" alt="">
</map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center><a href="classTCPSocket-members.html">List of all members.</a><h2>Public Types</h2>
<ul>
<li>enum <a class="el" href="classTCPSocket.html#w7">TCPPortChoice</a> { <a class="el" href="classTCPSocket.html#w7w0">GENERIC</a>, 
<a class="el" href="classTCPSocket.html#w7w1">FINDFREEPORT</a>
 }
<dl class="el"><dd class="mdescRight">The possible choices when listen on a port.  <a href="#w7">More...</a><br></dl><li>enum <a class="el" href="classTCPSocket.html#w8">TCPSocketState</a> { <br>
&nbsp;&nbsp;<a class="el" href="classTCPSocket.html#w8w2">UNKNOWN</a>, 
<a class="el" href="classTCPSocket.html#w8w3">OPEN</a>, 
<a class="el" href="classTCPSocket.html#w8w4">LISTEN</a>, 
<br>
&nbsp;&nbsp;<a class="el" href="classTCPSocket.html#w8w5">CONNECTED</a>, 
<a class="el" href="classTCPSocket.html#w8w6">CLOSED</a>
<br>
 }
<dl class="el"><dd class="mdescRight">The possible states of a TCP-socket.  <a href="#w8">More...</a><br></dl></ul>
<h2>Public Member Functions</h2>
<ul>
<li><a class="el" href="classTCPSocket.html#a0">TCPSocket</a> ()
<dl class="el"><dd class="mdescRight">Create a new socket.  <a href="#a0"></a><br></dl><li><a class="el" href="classTCPSocket.html#a1">TCPSocket</a> (int backlog)
<dl class="el"><dd class="mdescRight">Create a new socket with given number of connections accepted at once.  <a href="#a1"></a><br></dl><li>virtual <a class="el" href="classTCPSocket.html#a2">~TCPSocket</a> ()
<dl class="el"><dd class="mdescRight">Delete this socket.  <a href="#a2"></a><br></dl><li>virtual bool <a class="el" href="classTCPSocket.html#a3">open</a> ()
<dl class="el"><dd class="mdescRight">Open the socket.  <a href="#a3"></a><br></dl><li>virtual bool <a class="el" href="classTCPSocket.html#a4">bind</a> (const char *hostname)
<dl class="el"><dd class="mdescRight">Bind the socket.  <a href="#a4"></a><br></dl><li>virtual bool <a class="el" href="classTCPSocket.html#a5">bind</a> (const char *hostname, <a class="el" href="Types_8h.html#a19">uint16</a> portNumber)
<dl class="el"><dd class="mdescRight">Bind the socket.  <a href="#a5"></a><br></dl><li>virtual void <a class="el" href="classTCPSocket.html#a6">close</a> ()
<dl class="el"><dd class="mdescRight">Close the socket.  <a href="#a6"></a><br></dl><li>virtual <a class="el" href="Types_8h.html#a19">uint16</a> <a class="el" href="classTCPSocket.html#a7">listen</a> (<a class="el" href="Types_8h.html#a19">uint16</a> portnumber, <a class="el" href="classTCPSocket.html#w7">TCPPortChoice</a> pc=GENERIC, bool bindSocket=true)
<dl class="el"><dd class="mdescRight">Listen for connections on this socket.  <a href="#a7"></a><br></dl><li>virtual bool <a class="el" href="classTCPSocket.html#a8">listenDuration</a> (<a class="el" href="Types_8h.html#a19">uint16</a> port, <a class="el" href="Types_8h.html#a21">uint32</a> duration=1, bool bindSocket=true)
<dl class="el"><dd class="mdescRight">Open and listen on a port with timed retries, try every 100 micro second for duration seconds.  <a href="#a8"></a><br></dl><li>virtual bool <a class="el" href="classTCPSocket.html#a9">connect</a> (const char *hostname, int portnumber)
<dl class="el"><dd class="mdescRight">Initiate a connection on a tcp socket.  <a href="#a9"></a><br></dl><li>virtual bool <a class="el" href="classTCPSocket.html#a10">connect</a> (const char *hostname, int portnumber, <a class="el" href="Types_8h.html#a21">uint32</a> timeout_us)
<dl class="el"><dd class="mdescRight">Initiate a connection on a tcp socket with a timeout .  <a href="#a10"></a><br></dl><li>virtual bool <a class="el" href="classTCPSocket.html#a11">connect</a> (const <a class="el" href="classIPnPort.html">IPnPort</a> &amp;addr, <a class="el" href="Types_8h.html#a21">uint32</a> timeout_us)
<dl class="el"><dd class="mdescRight">Initiate a connection on a tcp socket.  <a href="#a11"></a><br></dl><li>virtual bool <a class="el" href="classTCPSocket.html#a12">connect</a> (<a class="el" href="Types_8h.html#a21">uint32</a> hostip, <a class="el" href="Types_8h.html#a19">uint16</a> hostport)
<dl class="el"><dd class="mdescRight">Initiate a connection on a tcp socket.  <a href="#a12"></a><br></dl><li>int <a class="el" href="classTCPSocket.html#a13">setNoDelay</a> (bool noDelay)
<dl class="el"><dd class="mdescRight">Disable or enable the nagle algo.  <a href="#a13"></a><br></dl><li>virtual ssize_t <a class="el" href="classTCPSocket.html#a14">read</a> (<a class="el" href="Types_8h.html#a25">byte</a> *buffer, size_t size)
<dl class="el"><dd class="mdescRight">Read from the socket.  <a href="#a14"></a><br></dl><li>virtual ssize_t <a class="el" href="classTCPSocket.html#a15">read</a> (<a class="el" href="Types_8h.html#a25">byte</a> *buffer, size_t size, <a class="el" href="Types_8h.html#a21">uint32</a> timeout)
<dl class="el"><dd class="mdescRight">Read from the socket with timeout.  <a href="#a15"></a><br></dl><li>virtual ssize_t <a class="el" href="classTCPSocket.html#a16">readExactly</a> (<a class="el" href="Types_8h.html#a25">byte</a> *buffer, size_t length, long micros=(-1), long totalMicros=(-1))
<dl class="el"><dd class="mdescRight">Read the specified number of bytes from the socket.  <a href="#a16"></a><br></dl><li>ssize_t <a class="el" href="classTCPSocket.html#a17">readMaxBytes</a> (<a class="el" href="Types_8h.html#a25">byte</a> *buffer, size_t length, <a class="el" href="Types_8h.html#a21">uint32</a> micros)
<dl class="el"><dd class="mdescRight">Read from the socket with timeout.  <a href="#a17"></a><br></dl><li>virtual ssize_t <a class="el" href="classTCPSocket.html#a18">readMaxBytes</a> (<a class="el" href="Types_8h.html#a25">byte</a> *buffer, size_t length)
<dl class="el"><dd class="mdescRight">Read from the socket.  <a href="#a18"></a><br></dl><li>virtual ssize_t <a class="el" href="classTCPSocket.html#a19">readUntilClosed</a> (<a class="el" href="Types_8h.html#a25">byte</a> *buffer, size_t length)
<dl class="el"><dd class="mdescRight">Read from the socket.  <a href="#a19"></a><br></dl><li>virtual ssize_t <a class="el" href="classTCPSocket.html#a20">write</a> (const <a class="el" href="Types_8h.html#a25">byte</a> *buffer, size_t length)
<dl class="el"><dd class="mdescRight">Write to the socke.  <a href="#a20"></a><br></dl><li>virtual ssize_t <a class="el" href="classTCPSocket.html#a21">write</a> (const <a class="el" href="Types_8h.html#a25">byte</a> *buffer, size_t length, <a class="el" href="Types_8h.html#a21">uint32</a> timeout)
<dl class="el"><dd class="mdescRight">Write to the socket with timeout.  <a href="#a21"></a><br></dl><li>virtual ssize_t <a class="el" href="classTCPSocket.html#a22">writeAll</a> (const <a class="el" href="Types_8h.html#a25">byte</a> *buffer, size_t length)
<dl class="el"><dd class="mdescRight">Write to the socket.  <a href="#a22"></a><br></dl><li>virtual <a class="el" href="classTCPSocket.html">TCPSocket</a> * <a class="el" href="classTCPSocket.html#a23">accept</a> ()
<dl class="el"><dd class="mdescRight">Accept a connection.  <a href="#a23"></a><br></dl><li><a class="el" href="classTCPSocket.html">TCPSocket</a> * <a class="el" href="classTCPSocket.html#a24">accept</a> (<a class="el" href="Types_8h.html#a21">uint32</a> micros)
<dl class="el"><dd class="mdescRight">Accept a connection, wait maximum a specified time.  <a href="#a24"></a><br></dl><li>bool <a class="el" href="classTCPSocket.html#a25">getPeerName</a> (<a class="el" href="Types_8h.html#a21">uint32</a> &amp;<a class="el" href="classIP.html">IP</a>, <a class="el" href="Types_8h.html#a19">uint16</a> &amp;port) const 
<dl class="el"><dd class="mdescRight">Get the IP-address and port of the peer socket.  <a href="#a25"></a><br></dl><li><a class="el" href="classIPnPort.html">IPnPort</a> <a class="el" href="classTCPSocket.html#a26">getPeer</a> () const 
<li>bool <a class="el" href="classTCPSocket.html#a27">getSockName</a> (<a class="el" href="Types_8h.html#a21">uint32</a> &amp;<a class="el" href="classIP.html">IP</a>, <a class="el" href="Types_8h.html#a19">uint16</a> &amp;port)
<dl class="el"><dd class="mdescRight">Get the IP-address and port of the socket (the local end).  <a href="#a27"></a><br></dl><li>virtual <a class="el" href="Types_8h.html#a22">int32</a> <a class="el" href="classTCPSocket.html#a28">readString</a> (char *target, <a class="el" href="Types_8h.html#a21">uint32</a> maxstringlength)
<dl class="el"><dd class="mdescRight">Read a string from this socket.  <a href="#a28"></a><br></dl><li>virtual <a class="el" href="Types_8h.html#a22">int32</a> <a class="el" href="classTCPSocket.html#a29">readLine</a> (char *target, <a class="el" href="Types_8h.html#a21">uint32</a> maxlinelength)
<dl class="el"><dd class="mdescRight">Read a string ending with linebreak from this socket.  <a href="#a29"></a><br></dl><li><a class="el" href="classTCPSocket.html#w8">TCPSocketState</a> <a class="el" href="classTCPSocket.html#a30">getState</a> () const 
<dl class="el"><dd class="mdescRight">Get the state of this socket.  <a href="#a30"></a><br></dl><li>const char * <a class="el" href="classTCPSocket.html#a31">getStateAsString</a> () const 
<dl class="el"><dd class="mdescRight">Get the state of this socket.  <a href="#a31"></a><br></dl><li>bool <a class="el" href="classTCPSocket.html#a32">setBlocking</a> (bool blocking)
<dl class="el"><dd class="mdescRight">Sets the socket to blocking or nonblocking depending on the value blocking.  <a href="#a32"></a><br></dl><li><a class="el" href="classTCPSocket.html#a33">TCPSocket</a> (SOCKET sock, int backlog)
<dl class="el"><dd class="mdescRight">Constructor that takes an fd as parameter.  <a href="#a33"></a><br></dl><li>virtual bool <a class="el" href="classTCPSocket.html#a34">initialHandshake</a> (long micros=(-1))
<dl class="el"><dd class="mdescRight">Initializes a socket using reads/writes after an accept.  <a href="#a34"></a><br></dl><li>virtual int <a class="el" href="classTCPSocket.html#a35">initialHandshaking</a> ()
<dl class="el"><dd class="mdescRight">Initializes a socket using reads/writes after an accept.  <a href="#a35"></a><br></dl></ul>
<h2>Protected Member Functions</h2>
<ul>
<li>virtual ssize_t <a class="el" href="classTCPSocket.html#b0">readMinMaxBytesWithTimeout</a> (<a class="el" href="Types_8h.html#a25">byte</a> *buffer, size_t minLength, size_t maxLength, long micros, long totalMicros)
<dl class="el"><dd class="mdescRight">Read from the socket with timeout.  <a href="#b0"></a><br></dl><li>virtual ssize_t <a class="el" href="classTCPSocket.html#b1">protectedRead</a> (<a class="el" href="Types_8h.html#a25">byte</a> *buffer, size_t size)
<dl class="el"><dd class="mdescRight">Reads from the socket taking care of EINTR.  <a href="#b1"></a><br></dl><li>virtual ssize_t <a class="el" href="classTCPSocket.html#b2">protectedWrite</a> (const <a class="el" href="Types_8h.html#a25">byte</a> *buffer, size_t size)
<dl class="el"><dd class="mdescRight">Writes to the socket taking care of EINTR.  <a href="#b2"></a><br></dl><li>virtual bool <a class="el" href="classTCPSocket.html#b3">checkForCachedData</a> (<a class="el" href="Types_8h.html#a25">byte</a> *buffer, size_t size)
<dl class="el"><dd class="mdescRight">Checks if there is enough cached data on the socket to fill the buffer.  <a href="#b3"></a><br></dl><li>virtual SOCKET <a class="el" href="classTCPSocket.html#b4">internalAccept</a> ()
<dl class="el"><dd class="mdescRight">Internal accept that does the system accept call and returns 0 if accept failed.  <a href="#b4"></a><br></dl></ul>
<h2>Protected Attributes</h2>
<ul>
<li>bool <a class="el" href="classTCPSocket.html#p0">m_blocking</a>
<dl class="el"><dd class="mdescRight">True if the socket is blocking.  <a href="#p0"></a><br></dl><li><a class="el" href="classTCPSocket.html#w8">TCPSocketState</a> <a class="el" href="classTCPSocket.html#p1">m_currentState</a>
<dl class="el"><dd class="mdescRight">The current state of this socket.  <a href="#p1"></a><br></dl><li>int <a class="el" href="classTCPSocket.html#p2">m_backlog</a>
<dl class="el"><dd class="mdescRight">The maximum number of connections allowed to this socket.  <a href="#p2"></a><br></dl></ul>
<h2>Static Protected Attributes</h2>
<ul>
<li>int <a class="el" href="classTCPSocket.html#t0">c_tcp_proto_nbr</a>
<dl class="el"><dd class="mdescRight">The identificationnumber of the tcp protocol.  <a href="#t0"></a><br></dl></ul>
<h2>Private Member Functions</h2>
<ul>
<li>void <a class="el" href="classTCPSocket.html#d0">init</a> (SOCKET sock, int backlog=5)
<dl class="el"><dd class="mdescRight">Initiate this socket.  <a href="#d0"></a><br></dl><li>void <a class="el" href="classTCPSocket.html#d1">setupSocket</a> ()
<dl class="el"><dd class="mdescRight">Currently only sets the socket to not use the Nagle algorithm.  <a href="#d1"></a><br></dl><li>bool <a class="el" href="classTCPSocket.html#d2">connect</a> (struct sockaddr_in &amp;sin)
<dl class="el"><dd class="mdescRight">Connect to socket using sockaddr_in.  <a href="#d2"></a><br></dl><li>bool <a class="el" href="classTCPSocket.html#d3">waitForConnect</a> (<a class="el" href="Types_8h.html#a21">uint32</a> timeout_us)
<dl class="el"><dd class="mdescRight">Waits for <a class="el" href="classTCPSocket.html#a9">connect()</a> to finish and reads error.  <a href="#d3"></a><br></dl></ul>
<hr><a name="_details"></a><h2>Detailed Description</h2>
System independant socket interface. 
<p>
The Windows type SOCKET is an u_int, while linux represents sockets as signed integers. This is of importance in error reporting, where linux' socket systemcalls returns -1 upon failure. The &lt;winsock2.h&gt; header file defines the macro SOCKET_ERROR, which is equal to #(u_int) ~(0) = 0xffffffff = MAX_UINT32 = (u_int) (-1)#. 
<p>

<p>
Definition at line <a class="el" href="TCPSocket_8h-source.html#l00036">36</a> of file <a class="el" href="TCPSocket_8h-source.html">TCPSocket.h</a>.<hr><h2>Member Enumeration Documentation</h2>
<a class="anchor" name="w7" doxytag="TCPSocket::TCPPortChoice"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">enum <a class="el" href="classTCPSocket.html#w7">TCPSocket::TCPPortChoice</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The possible choices when listen on a port. 
<p>
<ul>
<li><b>GENERIC</b> ``Ordinary bind'' to the port.</li></ul>
<p>
<b>FINDFREEPORT</b> Tries to find a free port. {description} <dl compact><dt><b>Enumeration values: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" name="w7w0" doxytag="GENERIC"></a>GENERIC</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="w7w1" doxytag="FINDFREEPORT"></a>FINDFREEPORT</em>&nbsp;</td><td>
</td></tr>
</table>
</dl>

<p>
Definition at line <a class="el" href="TCPSocket_8h-source.html#l00046">46</a> of file <a class="el" href="TCPSocket_8h-source.html">TCPSocket.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="w8" doxytag="TCPSocket::TCPSocketState"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">enum <a class="el" href="classTCPSocket.html#w8">TCPSocket::TCPSocketState</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The possible states of a TCP-socket. 
<p>
<dl compact><dt><b>Enumeration values: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" name="w8w2" doxytag="UNKNOWN"></a>UNKNOWN</em>&nbsp;</td><td>
State unknown (probably just created). </td></tr>
<tr><td valign="top"><em><a class="anchor" name="w8w3" doxytag="OPEN"></a>OPEN</em>&nbsp;</td><td>
<a class="el" href="classSocket.html">Socket</a> open. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="w8w4" doxytag="LISTEN"></a>LISTEN</em>&nbsp;</td><td>
<a class="el" href="classSocket.html">Socket</a> open for listening. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="w8w5" doxytag="CONNECTED"></a>CONNECTED</em>&nbsp;</td><td>
The socket is connected to another socket. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="w8w6" doxytag="CLOSED"></a>CLOSED</em>&nbsp;</td><td>
This socket is closed. </td></tr>
</table>
</dl>

<p>
Definition at line <a class="el" href="TCPSocket_8h-source.html#l00051">51</a> of file <a class="el" href="TCPSocket_8h-source.html">TCPSocket.h</a>.    </td>
  </tr>
</table>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="a0" doxytag="TCPSocket::TCPSocket"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">TCPSocket::TCPSocket           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Create a new socket. 
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a1" doxytag="TCPSocket::TCPSocket"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">TCPSocket::TCPSocket           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>backlog</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Create a new socket with given number of connections accepted at once. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>backlog</em>&nbsp;</td><td>The number of connections accepted to this socket at the same time. </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a2" doxytag="TCPSocket::~TCPSocket"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual TCPSocket::~<a class="el" href="classTCPSocket.html">TCPSocket</a>           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Delete this socket. 
<p>
If the socket is open, it is also closed.     </td>
  </tr>
</table>
<a class="anchor" name="a33" doxytag="TCPSocket::TCPSocket"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">TCPSocket::TCPSocket           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">SOCKET&nbsp;</td>
          <td class="mdname" nowrap> <em>sock</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>backlog</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Constructor that takes an fd as parameter. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>sock</em>&nbsp;</td><td>The filedescriptor of the socket. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>backlog</em>&nbsp;</td><td>The value of the backlog variable. </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="a24" doxytag="TCPSocket::accept"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="classTCPSocket.html">TCPSocket</a>* TCPSocket::accept           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="Types_8h.html#a21">uint32</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>micros</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Accept a connection, wait maximum a specified time. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>micros</em>&nbsp;</td><td>Timeout value in micro seconds. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>A TCPSocket that is connected to a socket at the caller. This socket must be deleted by the caller to accept. NULL is returned if timeout. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a23" doxytag="TCPSocket::accept"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual <a class="el" href="classTCPSocket.html">TCPSocket</a>* TCPSocket::accept           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Accept a connection. 
<p>
<dl compact><dt><b>Returns:</b></dt><dd>A TCPSocket that is connected to a socket at the caller. This socket must be deleted by the caller to accept. </dd></dl>

<p>
Reimplemented in <a class="el" href="classDataSocket.html#a5">DataSocket</a>, and <a class="el" href="classPacketReceiveSocket.html#a3">PacketReceiveSocket</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a5" doxytag="TCPSocket::bind"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual bool TCPSocket::bind           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>hostname</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="Types_8h.html#a19">uint16</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>portNumber</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Bind the socket. 
<p>
Used in when you later do a <a class="el" href="classTCPSocket.html#a7">listen()</a>. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hostname</em>&nbsp;</td><td>The name of the local host to bind to. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>portNumber</em>&nbsp;</td><td>The local port number to bind to. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>True upon success. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a4" doxytag="TCPSocket::bind"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual bool TCPSocket::bind           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const char *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>hostname</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Bind the socket. 
<p>
Used to set the source address when you later do a <a class="el" href="classTCPSocket.html#a9">connect()</a>. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hostname</em>&nbsp;</td><td>The name of the local host to bind to. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>True upon success. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="b3" doxytag="TCPSocket::checkForCachedData"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual bool TCPSocket::checkForCachedData           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="Types_8h.html#a25">byte</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>size_t&nbsp;</td>
          <td class="mdname" nowrap> <em>size</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Checks if there is enough cached data on the socket to fill the buffer. 
<p>
The default implementation is to return false.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>buffer</em>&nbsp;</td><td>The buffer to write cached data into. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>The amount of data to get. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>True if size bytes was written into buffer from cache, false if not. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a6" doxytag="TCPSocket::close"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual void TCPSocket::close           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Close the socket. 
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="d2" doxytag="TCPSocket::connect"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool TCPSocket::connect           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct sockaddr_in &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>sin</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [private]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Connect to socket using sockaddr_in. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>sin</em>&nbsp;</td><td>The sockaddr </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>true on success else false </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a12" doxytag="TCPSocket::connect"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual bool TCPSocket::connect           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="Types_8h.html#a21">uint32</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>hostip</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="Types_8h.html#a19">uint16</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>hostport</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Initiate a connection on a tcp socket. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hostip</em>&nbsp;</td><td>The ip-address of the host to connect to. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>portnumber</em>&nbsp;</td><td>The port number to connect to at hostname.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>True is returned on success, false upon error. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a11" doxytag="TCPSocket::connect"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual bool TCPSocket::connect           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="classIPnPort.html">IPnPort</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>addr</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="Types_8h.html#a21">uint32</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>timeout_us</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Initiate a connection on a tcp socket. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>addr</em>&nbsp;</td><td>The ip-address and port of the host to connect to. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>timeout_us</em>&nbsp;</td><td>The timeout in micro seconds</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>True is returned on success, false upon error. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a10" doxytag="TCPSocket::connect"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual bool TCPSocket::connect           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>hostname</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>portnumber</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="Types_8h.html#a21">uint32</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>timeout_us</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Initiate a connection on a tcp socket with a timeout . 
<p>
Since this method looks up the ip-address from the hostname (gethostbyname(char*)), the other connect-method should be used when possible.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hostname</em>&nbsp;</td><td>The name of the host to connect to. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>portnumber</em>&nbsp;</td><td>The port number to connect to at hostname. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>timeout_us</em>&nbsp;</td><td>The timeout in micro seconds</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>True is returned on success, false upon error. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a9" doxytag="TCPSocket::connect"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual bool TCPSocket::connect           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>hostname</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>portnumber</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Initiate a connection on a tcp socket. 
<p>
Since this method looks up the ip-address from the hostname (gethostbyname(char*)), the other connect-method should be used when possible.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hostname</em>&nbsp;</td><td>The name of the host to connect to. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>portnumber</em>&nbsp;</td><td>The port number to connect to at hostname. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>True is returned on success, false upon error. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a26" doxytag="TCPSocket::getPeer"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="classIPnPort.html">IPnPort</a> TCPSocket::getPeer           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const</td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Returns:</b></dt><dd>ip number and port for the peer of the socket or 0,0 if error. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a25" doxytag="TCPSocket::getPeerName"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool TCPSocket::getPeerName           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="Types_8h.html#a21">uint32</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>IP</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="Types_8h.html#a19">uint16</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>port</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"> const</td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get the IP-address and port of the peer socket. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>IP</em>&nbsp;</td><td>Outparameter that is set to the IP-address of the peer. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>port</em>&nbsp;</td><td>Outparameter that is set to the port number at the peer. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>True if the outparameter <a class="el" href="classIP.html">IP</a> and port contains valid data, false otherwise. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a27" doxytag="TCPSocket::getSockName"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool TCPSocket::getSockName           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="Types_8h.html#a21">uint32</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>IP</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="Types_8h.html#a19">uint16</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>port</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get the IP-address and port of the socket (the local end). 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>IP</em>&nbsp;</td><td>Outparameter that is set to the IP-address of the socker. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>port</em>&nbsp;</td><td>Outparameter that is set to the port number at the local host. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>True if the outparameter <a class="el" href="classIP.html">IP</a> and port contains valid data, false otherwise. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a30" doxytag="TCPSocket::getState"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="classTCPSocket.html#w8">TCPSocketState</a> TCPSocket::getState           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const</td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get the state of this socket. 
<p>
<dl compact><dt><b>Returns:</b></dt><dd>The state of this socket. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a31" doxytag="TCPSocket::getStateAsString"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">const char* TCPSocket::getStateAsString           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const</td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get the state of this socket. 
<p>
<dl compact><dt><b>Returns:</b></dt><dd>A string describing the state of this socket. This string must not be deleted. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="d0" doxytag="TCPSocket::init"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void TCPSocket::init           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">SOCKET&nbsp;</td>
          <td class="mdname" nowrap> <em>sock</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>backlog</em> = <code>5</code></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [private]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Initiate this socket. 
<p>
This method should be called from the constructors. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>sock</em>&nbsp;</td><td>The filedesciptor of the socket. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>backlog</em>&nbsp;</td><td>The value of the backlog variable. </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a34" doxytag="TCPSocket::initialHandshake"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual bool TCPSocket::initialHandshake           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">long&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>micros</em> = <code>(-1)</code>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Initializes a socket using reads/writes after an accept. 
<p>
The default is to to return true. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>micros</em>&nbsp;</td><td>The timeout value of this function. If no data is received for micros microseconds the function will timeout. Default value is TCPSOCKET_INFINITE_TIMEOUT. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>True. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a35" doxytag="TCPSocket::initialHandshaking"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual int TCPSocket::initialHandshaking           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Initializes a socket using reads/writes after an accept. 
<p>
The default is to to return true.<p>
<dl compact><dt><b>Returns:</b></dt><dd>True. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="b4" doxytag="TCPSocket::internalAccept"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual SOCKET TCPSocket::internalAccept           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Internal accept that does the system accept call and returns 0 if accept failed. 
<p>
<dl compact><dt><b>Returns:</b></dt><dd>The socket from accept call. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a7" doxytag="TCPSocket::listen"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual <a class="el" href="Types_8h.html#a19">uint16</a> TCPSocket::listen           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="Types_8h.html#a19">uint16</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>portnumber</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="classTCPSocket.html#w7">TCPPortChoice</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>pc</em> = <code>GENERIC</code>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>bool&nbsp;</td>
          <td class="mdname" nowrap> <em>bindSocket</em> = <code>true</code></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Listen for connections on this socket. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>portnumber.</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pc</em>&nbsp;</td><td>In which way the port is selected. The value of this parameter is defaulted to "GENERIC". </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>bindSocket</em>&nbsp;</td><td>If socket should be bound, default true. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>The portnumber used. 0 is returned if no free port was found. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a8" doxytag="TCPSocket::listenDuration"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual bool TCPSocket::listenDuration           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="Types_8h.html#a19">uint16</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>port</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="Types_8h.html#a21">uint32</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>duration</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>bool&nbsp;</td>
          <td class="mdname" nowrap> <em>bindSocket</em> = <code>true</code></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Open and listen on a port with timed retries, try every 100 micro second for duration seconds. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>port</em>&nbsp;</td><td>The port to listen too. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>duration</em>&nbsp;</td><td>Number of seconds to (re)try to listen. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>bindSocket</em>&nbsp;</td><td>If socket should be bound, default true. </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a3" doxytag="TCPSocket::open"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual bool TCPSocket::open           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Open the socket. 
<p>
<dl compact><dt><b>Returns:</b></dt><dd>True upon success. For now, this method does a PANIC exit upon failure. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="b1" doxytag="TCPSocket::protectedRead"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">ssize_t TCPSocket::protectedRead           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="Types_8h.html#a25">byte</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>size_t&nbsp;</td>
          <td class="mdname" nowrap> <em>size</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [inline, protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Reads from the socket taking care of EINTR. 
<p>
Hope this works, the man page for errno says it's thread local. <dl compact><dt><b>See also:</b></dt><dd>privateWrite. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>buffer</em>&nbsp;</td><td>The buffer to put the result into. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>The maximum size to read. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>The number of bytes read or -1 if errno != EINTR. </dd></dl>

<p>
Definition at line <a class="el" href="TCPSocket_8h-source.html#l00626">626</a> of file <a class="el" href="TCPSocket_8h-source.html">TCPSocket.h</a>.
<p>
References <a class="el" href="config_8h-source.html#l00222">MC2WARNING</a>.
<p>
Referenced by <a class="el" href="TCPSocket_8h-source.html#l00601">readMaxBytes()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="b2" doxytag="TCPSocket::protectedWrite"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual ssize_t TCPSocket::protectedWrite           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="Types_8h.html#a25">byte</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>size_t&nbsp;</td>
          <td class="mdname" nowrap> <em>size</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Writes to the socket taking care of EINTR. 
<p>
<dl compact><dt><b>See also:</b></dt><dd>privateRead. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>buffer</em>&nbsp;</td><td>The buffer to write. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>The maximum size to write. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>The number of bytes written or -1 if errno != EINTR. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a15" doxytag="TCPSocket::read"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual ssize_t TCPSocket::read           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="Types_8h.html#a25">byte</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>size_t&nbsp;</td>
          <td class="mdname" nowrap> <em>size</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="Types_8h.html#a21">uint32</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>timeout</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Read from the socket with timeout. 
<p>
Does a select before calling read.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>buffer</em>&nbsp;</td><td>The buffer where the result will be stored. This buffer must be at least length bytes big. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>The requested size. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>The number of successfully read bytes or -1 upon failure, -2 on timeout, 0 on closed socket and -3 on EAGAIN. EAGAIN can only happen on non blocking sockets. </dd></dl>

<p>
Implements <a class="el" href="classReadable.html#a2">Readable</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a14" doxytag="TCPSocket::read"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual ssize_t TCPSocket::read           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="Types_8h.html#a25">byte</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>size_t&nbsp;</td>
          <td class="mdname" nowrap> <em>size</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Read from the socket. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>buffer</em>&nbsp;</td><td>The buffer where the result will be stored. This buffer must be at least length bytes big. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>The requested size. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>The number of successfully read bytes or -1 upon failure, 0 on closed socket and -3 on EAGAIN. EAGAIN can only happen on non blocking sockets. </dd></dl>

<p>
Implements <a class="el" href="classReadable.html#a1">Readable</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a16" doxytag="TCPSocket::readExactly"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual ssize_t TCPSocket::readExactly           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="Types_8h.html#a25">byte</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>size_t&nbsp;</td>
          <td class="mdname" nowrap> <em>length</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>long&nbsp;</td>
          <td class="mdname" nowrap> <em>micros</em> = <code>(-1)</code>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>long&nbsp;</td>
          <td class="mdname" nowrap> <em>totalMicros</em> = <code>(-1)</code></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Read the specified number of bytes from the socket. 
<p>
This is a hanging method that will not return until the specified number of bytes are read, or an error has occured. unless <code>micros</code> != TCPSOCKET_INFINITE_TIMEOUT or <code>totalMicros</code> != <code>TCPSOCKET_INFINITE_TIMEOUT</code> when this method will hang until the specified number of bytes are read, an error has occured, or the timeout has expired. There are two different timeouts here. If <code>micros</code> is given and <code>totalMicros</code> is <code>TCPSOCKET_INFINITE_TIMEOUT</code> the socket will time out if nothing is received in <code>micros</code> micro seconds. If both <code>micros</code> and <code>totalMicros </code> are given the socket will timeout if no data is received in <code>micros</code> micro seconds and if all of the data is not received in <code>totalMicros</code> micro seconds.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>buffer</em>&nbsp;</td><td>The buffer where the result will be stored. This buffer must be at least length bytes big. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>length</em>&nbsp;</td><td>The requested length. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>micros</em>&nbsp;</td><td>The timeout value of this function. If no data is received for micros microseconds the function will timeout. Default value is TCPSOCKET_INFINITE_TIMEOUT. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>totalMicros</em>&nbsp;</td><td>If all data isn't received in totalMicros then the function will timeout. Default value is TCPSOCKET_INFINITE_TIMEOUT. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>The number of successully read bytes or -1 upon failure. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a29" doxytag="TCPSocket::readLine"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual <a class="el" href="Types_8h.html#a22">int32</a> TCPSocket::readLine           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">char *&nbsp;</td>
          <td class="mdname" nowrap> <em>target</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="Types_8h.html#a21">uint32</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>maxlinelength</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Read a string ending with linebreak from this socket. 
<p>
Times out if nothing is received within DEFAULT_TIMEOUT. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>target</em>&nbsp;</td><td>A preallocated string with a length of at least maxlinelength. The read string is copied into this string. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>The number of bytes read, -1 if socket error. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a18" doxytag="TCPSocket::readMaxBytes"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">ssize_t TCPSocket::readMaxBytes           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="Types_8h.html#a25">byte</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>size_t&nbsp;</td>
          <td class="mdname" nowrap> <em>length</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [inline, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Read from the socket. 
<p>
This method will hang until anything is available on the socket. When something becomes available it will read as much as possible from the socket (up to length bytes) and return. The number of bytes read might be anything from 1 to length, so there is no guarantee that length bytes will be read.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>buffer</em>&nbsp;</td><td>The buffer where the result will be stored. This buffer must be at least length bytes big. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>length</em>&nbsp;</td><td>The requested length.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>The number of successully read bytes or -1 upon failure </dd></dl>

<p>
Definition at line <a class="el" href="TCPSocket_8h-source.html#l00601">601</a> of file <a class="el" href="TCPSocket_8h-source.html">TCPSocket.h</a>.
<p>
References <a class="el" href="config_8h-source.html#l00177">almostAssert()</a>, <a class="el" href="config_8h-source.html#l00130">DEBUG4</a>, <a class="el" href="config_8h-source.html#l00221">MC2ERROR</a>, <a class="el" href="TCPSocket_8h-source.html#l00626">protectedRead()</a>, and <a class="el" href="namespaceSysUtility.html#a1">SysUtility::setPipeDefault()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a17" doxytag="TCPSocket::readMaxBytes"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">ssize_t TCPSocket::readMaxBytes           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="Types_8h.html#a25">byte</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>size_t&nbsp;</td>
          <td class="mdname" nowrap> <em>length</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="Types_8h.html#a21">uint32</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>micros</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Read from the socket with timeout. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>buffer</em>&nbsp;</td><td>The buffer where the result will be stored. This buffer must be at least length bytes big. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>length</em>&nbsp;</td><td>The requested length. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>micros</em>&nbsp;</td><td>The max number of microseconds to wait. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>The number of successully read bytes or a negative value uponi failure. -1 is returned upon "general" failure, and -2 on timeout. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="b0" doxytag="TCPSocket::readMinMaxBytesWithTimeout"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual ssize_t TCPSocket::readMinMaxBytesWithTimeout           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="Types_8h.html#a25">byte</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>size_t&nbsp;</td>
          <td class="mdname" nowrap> <em>minLength</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>size_t&nbsp;</td>
          <td class="mdname" nowrap> <em>maxLength</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>long&nbsp;</td>
          <td class="mdname" nowrap> <em>micros</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>long&nbsp;</td>
          <td class="mdname" nowrap> <em>totalMicros</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Read from the socket with timeout. 
<p>
This method reads from the socket until minLength bytes are read or until it times out. No more than maxLength bytes will be written to the buffer. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>minLength</em>&nbsp;</td><td>The minimum number of bytes to wait for while timeout has not occured. </td></tr>
  </table>
</dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="classTCPSocket.html#a17">readMaxBytes</a> with timeout for the rest of the parameters. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>micros</em>&nbsp;</td><td>The unit of micros is microseconds, but the accuracy is in milliseconds. </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a28" doxytag="TCPSocket::readString"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual <a class="el" href="Types_8h.html#a22">int32</a> TCPSocket::readString           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">char *&nbsp;</td>
          <td class="mdname" nowrap> <em>target</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="Types_8h.html#a21">uint32</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>maxstringlength</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Read a string from this socket. 
<p>
Times out if nothing is received within DEFAULT_TIMEOUT. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>target</em>&nbsp;</td><td>A preallocated string with a length of at least maxstringlength. The read string is copied into this string. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>The number of bytes read, -1 if socket error. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a19" doxytag="TCPSocket::readUntilClosed"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual ssize_t TCPSocket::readUntilClosed           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="Types_8h.html#a25">byte</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>size_t&nbsp;</td>
          <td class="mdname" nowrap> <em>length</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Read from the socket. 
<p>
This method will hang until anything is available on the socket. When something becomes available it will read as much as possible from the socket (up to length bytes) until the socket is closed. The number of bytes read might be anything from 1 to length, so there is no guarantee that length bytes will be read.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>buffer</em>&nbsp;</td><td>The buffer where the result will be stored. This buffer must be at least length bytes big. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>length</em>&nbsp;</td><td>The requested length.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>The number of successully read bytes. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a32" doxytag="TCPSocket::setBlocking"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool TCPSocket::setBlocking           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">bool&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>blocking</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Sets the socket to blocking or nonblocking depending on the value blocking. 
<p>
The nonblocking socket is not fully supported in all functions, e.g. the state of the socket is undefined after a connect and some functions will misbehave when the socket is nonblocking. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>blocking</em>&nbsp;</td><td>True if the socket should be set to blocking. False if the socket should be set to nonblocking. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>true if state change was successfull </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a13" doxytag="TCPSocket::setNoDelay"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int TCPSocket::setNoDelay           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">bool&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>noDelay</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Disable or enable the nagle algo. 
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="d1" doxytag="TCPSocket::setupSocket"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void TCPSocket::setupSocket           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [private]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Currently only sets the socket to not use the Nagle algorithm. 
<p>
This means that the socket does not wait before sending the data on the network. Must be called after e.g. connect.     </td>
  </tr>
</table>
<a class="anchor" name="d3" doxytag="TCPSocket::waitForConnect"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool TCPSocket::waitForConnect           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="Types_8h.html#a21">uint32</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>timeout_us</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [private]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Waits for <a class="el" href="classTCPSocket.html#a9">connect()</a> to finish and reads error. 
<p>
<dl compact><dt><b>Returns:</b></dt><dd>true if <a class="el" href="classTCPSocket.html#a9">connect()</a> was done successfully or not </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a21" doxytag="TCPSocket::write"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual ssize_t TCPSocket::write           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="Types_8h.html#a25">byte</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>size_t&nbsp;</td>
          <td class="mdname" nowrap> <em>length</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="Types_8h.html#a21">uint32</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>timeout</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Write to the socket with timeout. 
<p>
Does a select before calling write.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>buffer</em>&nbsp;</td><td>A buffer containing the data that will be written to the socket. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>length</em>&nbsp;</td><td>The number of bytes that will be written. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>timeout</em>&nbsp;</td><td>The timeout in microseconds. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>The number of successfully written bytes or -1 upon failure, -2 on timeout, 0 on closed socket and -3 on EAGAIN. EAGAIN can only happen on non blocking sockets. </dd></dl>

<p>
Implements <a class="el" href="classWriteable.html#a2">Writeable</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a20" doxytag="TCPSocket::write"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual ssize_t TCPSocket::write           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="Types_8h.html#a25">byte</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>size_t&nbsp;</td>
          <td class="mdname" nowrap> <em>length</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Write to the socke. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>buffer</em>&nbsp;</td><td>A buffer containing the data that will be written to the socket. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>length</em>&nbsp;</td><td>The number of bytes that will be written. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>The number of successfully written bytes or -1 upon failure, 0 on closed socket and -3 on EAGAIN. EAGAIN can only happen on non blocking sockets. </dd></dl>

<p>
Implements <a class="el" href="classWriteable.html#a1">Writeable</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a22" doxytag="TCPSocket::writeAll"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual ssize_t TCPSocket::writeAll           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="Types_8h.html#a25">byte</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>size_t&nbsp;</td>
          <td class="mdname" nowrap> <em>length</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Write to the socket. 
<p>
Writes until all is written or socket is closed/broken.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>buffer</em>&nbsp;</td><td>A buffer containing the data that will be written to the socket. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>length</em>&nbsp;</td><td>The number of bytes that will be written. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>The number of successfully written bytes or -1 upon failure. </dd></dl>
    </td>
  </tr>
</table>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="t0" doxytag="TCPSocket::c_tcp_proto_nbr"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int <a class="el" href="classTCPSocket.html#t0">TCPSocket::c_tcp_proto_nbr</a><code> [static, protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The identificationnumber of the tcp protocol. 
<p>
Initialized in the constructors ba a call to #getprotobyname("tcp")-&gt;p_proto;#<p>
Since this call can't be made in windows before the call to initWinSock, this must be a member here. 
<p>
Definition at line <a class="el" href="TCPSocket_8h-source.html#l00508">508</a> of file <a class="el" href="TCPSocket_8h-source.html">TCPSocket.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="p2" doxytag="TCPSocket::m_backlog"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int <a class="el" href="classTCPSocket.html#p2">TCPSocket::m_backlog</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The maximum number of connections allowed to this socket. 
<p>

<p>
Definition at line <a class="el" href="TCPSocket_8h-source.html#l00496">496</a> of file <a class="el" href="TCPSocket_8h-source.html">TCPSocket.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="p0" doxytag="TCPSocket::m_blocking"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool <a class="el" href="classTCPSocket.html#p0">TCPSocket::m_blocking</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
True if the socket is blocking. 
<p>

<p>
Definition at line <a class="el" href="TCPSocket_8h-source.html#l00485">485</a> of file <a class="el" href="TCPSocket_8h-source.html">TCPSocket.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="p1" doxytag="TCPSocket::m_currentState"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="classTCPSocket.html#w8">TCPSocketState</a> <a class="el" href="classTCPSocket.html#p1">TCPSocket::m_currentState</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The current state of this socket. 
<p>

<p>
Definition at line <a class="el" href="TCPSocket_8h-source.html#l00490">490</a> of file <a class="el" href="TCPSocket_8h-source.html">TCPSocket.h</a>.    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="TCPSocket_8h-source.html">TCPSocket.h</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Wed Jun 30 10:27:41 2010 for mc2 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.3.9.1 </small></address>
</body>
</html>
