<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>mc2: DriverPref.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.9.1 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<div class="nav">
<a class="el" href="dir_000002.html">Server</a>&nbsp;/&nbsp;<a class="el" href="dir_000005.html">Shared</a>&nbsp;/&nbsp;<a class="el" href="dir_000006.html">include</a></div>
<h1>DriverPref.h</h1><a href="DriverPref_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment">00001 <span class="comment">/*</span>
00002 <span class="comment">Copyright (c) 1999 - 2010, Vodafone Group Services Ltd</span>
00003 <span class="comment">All rights reserved.</span>
00004 <span class="comment"></span>
00005 <span class="comment">Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</span>
00006 <span class="comment"></span>
00007 <span class="comment">    * Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</span>
00008 <span class="comment">    * Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</span>
00009 <span class="comment">    * Neither the name of the Vodafone Group Services Ltd nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.</span>
00010 <span class="comment"></span>
00011 <span class="comment">THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span>
00012 <span class="comment">*/</span>
00013 
00014 <span class="preprocessor">#ifndef DRIVER_PREF_4711_H</span>
00015 <span class="preprocessor"></span><span class="preprocessor">#define DRIVER_PREF_4711_H</span>
00016 <span class="preprocessor"></span>
00017 <span class="preprocessor">#include "<a class="code" href="Types_8h.html">Types.h</a>"</span>
00018 <span class="preprocessor">#include "<a class="code" href="Vehicle_8h.html">Vehicle.h</a>"</span>
00019 
00020 <span class="comment">// NEW</span>
00021 <span class="preprocessor">#include &lt;vector&gt;</span>
00022 
00023 <span class="keyword">class </span>DriverPrefVehicle;
00024 <span class="keyword">class </span><a class="code" href="classPacket.html">Packet</a>;
00025 
<a name="l00045"></a><a class="code" href="classDriverPref.html">00045</a> <span class="keyword">class </span><a class="code" href="classDriverPref.html">DriverPref</a> {
00046 <span class="keyword">public</span>:
00047    
00051    <a class="code" href="classDriverPref.html">DriverPref</a>();
00052 
00056    <a class="code" href="classDriverPref.html">DriverPref</a>(<span class="keyword">const</span> <a class="code" href="classDriverPref.html">DriverPref</a>&amp; other);
00057 
00061    ~<a class="code" href="classDriverPref.html">DriverPref</a>();
00062 
00066    <span class="keyword">const</span> <a class="code" href="classDriverPref.html">DriverPref</a>&amp; operator=(<span class="keyword">const</span> <a class="code" href="classDriverPref.html">DriverPref</a>&amp; other);
00067    
00073    <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a25">byte</a> getCostA() <span class="keyword">const</span>;
00074   
00080    <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a25">byte</a> getCostB() <span class="keyword">const</span>;
00081   
00087    <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a25">byte</a> getCostC() <span class="keyword">const</span>;
00088    
00094    <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a25">byte</a> getCostD() <span class="keyword">const</span>;
00095   
00102    <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a21">uint32</a> getRoutingCosts() <span class="keyword">const</span>;
00103 
00109    <span class="keyword">inline</span> <span class="keywordtype">void</span> setRoutingCosts( <a class="code" href="Types_8h.html#a21">uint32</a> cost );
00110 
00118    <span class="keyword">inline</span> <span class="keywordtype">void</span> setRoutingCosts( <a class="code" href="Types_8h.html#a25">byte</a> costA,
00119                                 <a class="code" href="Types_8h.html#a25">byte</a> costB,
00120                                 <a class="code" href="Types_8h.html#a25">byte</a> costC,
00121                                 <a class="code" href="Types_8h.html#a25">byte</a> costD);
00122    
00128    <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a22">int32</a> getVehicleRestriction() <span class="keyword">const</span>;
00129 
00139    <span class="keyword">inline</span> <span class="keywordtype">void</span> setVehicleRestriction( <a class="code" href="Types_8h.html#a21">uint32</a> vehicle );
00140 
00147    <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a21">uint32</a> <a class="code" href="namespaceISO8601Time.html#a0">getTime</a>() <span class="keyword">const</span>;
00148 
00154    <span class="keyword">inline</span> <span class="keywordtype">void</span> setTime( <a class="code" href="Types_8h.html#a21">uint32</a> time );
00155 
00161    <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a21">uint32</a> getMinWaitTime() <span class="keyword">const</span>;
00162    
00168    <span class="keyword">inline</span> <span class="keywordtype">void</span> setMinWaitTime( <a class="code" href="Types_8h.html#a21">uint32</a> minWaitTime );
00169 
00176    <span class="keyword">inline</span> <span class="keywordtype">bool</span> getIsStartTime() <span class="keyword">const</span>;
00177 
00184    <span class="keyword">inline</span> <span class="keywordtype">void</span> setIsStartTime( <span class="keywordtype">bool</span> isStartTime );
00185    
00191    <span class="keyword">inline</span> <span class="keywordtype">bool</span> useUturn() <span class="keyword">const</span>;
00192 
00198    <span class="keyword">inline</span> <span class="keywordtype">void</span> setUturn( <span class="keywordtype">bool</span> uturn );
00199 
00200 
00204    <span class="keywordtype">bool</span> avoidTollRoads() <span class="keyword">const</span>;
00205 
00206 
00210    <span class="keywordtype">bool</span> avoidHighways() <span class="keyword">const</span>;
00211 
00212 
00216    <span class="keywordtype">void</span> setAvoidTollRoads( <span class="keywordtype">bool</span> avoidTollRoads );
00217 
00218 
00222    <span class="keywordtype">void</span> setAvoidHighways( <span class="keywordtype">bool</span> avoidHighways );
00223 
00224 
00228    <span class="keywordtype">void</span> dump();
00229 
00245    <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="classVehicle.html">Vehicle</a>* getAllowedVehicle( <span class="keyword">const</span> <a class="code" href="classVehicle.html">Vehicle</a>* curVehicle,
00246                                             <a class="code" href="Types_8h.html#a21">uint32</a> connRestrictions,
00247                                             <a class="code" href="Types_8h.html#a21">uint32</a> nextNodeRestrictions) <span class="keyword">const</span>;
00248 
00255    <span class="keyword">inline</span> <span class="keywordtype">int</span> getBestVehicleClass() <span class="keyword">const</span>;
00256 
00261    <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="classVehicle.html">Vehicle</a>* getBestVehicle() <span class="keyword">const</span>;
00262 
00267    <span class="keyword">inline</span> <span class="keywordtype">int</span> getNbrVehicles() <span class="keyword">const</span>;
00268    
00273    <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="classVehicle.html">Vehicle</a>* getVehicle(<span class="keywordtype">int</span> i) <span class="keyword">const</span>;
00274 
00279    <span class="keywordtype">void</span> <a class="code" href="namespaceTileFeatureScaleRange.html#a3">save</a>( <a class="code" href="classPacket.html">Packet</a>* p, <span class="keywordtype">int</span>&amp; pos ) <span class="keyword">const</span>;
00280 
00285    <span class="keywordtype">void</span> <a class="code" href="namespaceTileFeatureScaleRange.html#a4">load</a>( <span class="keyword">const</span> <a class="code" href="classPacket.html">Packet</a>* p, <span class="keywordtype">int</span>&amp; pos );
00286 
00290    <a class="code" href="Types_8h.html#a21">uint32</a> getSize() <span class="keyword">const</span>;
00291 
00292 <span class="keyword">private</span>:
00293    
00294 
00303    <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="classVehicle.html">Vehicle</a>* getWorseAllowed( <span class="keyword">const</span> <a class="code" href="classVehicle.html">Vehicle</a>* curVehicle,
00304                                           <a class="code" href="Types_8h.html#a21">uint32</a> connRestrictions,
00305                                           <a class="code" href="Types_8h.html#a21">uint32</a> nextNodeRestrictions) <span class="keyword">const</span>;
00306 
00315    <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="classVehicle.html">Vehicle</a>* getBestAllowed( <span class="keyword">const</span> <a class="code" href="classVehicle.html">Vehicle</a>* curVehicle,
00316                                          <a class="code" href="Types_8h.html#a21">uint32</a> connRestrictions,
00317                                          <a class="code" href="Types_8h.html#a21">uint32</a> nextNodeRestrictions) <span class="keyword">const</span>;
00318 
00319 
00330    <span class="keywordtype">void</span> updatePointers(DriverPrefVehicle* vehicles[],
00331                        <span class="keywordtype">int</span> nbrVehicles,
00332                        <span class="keywordtype">int</span> nonvalidIdx,
00333                        <span class="keywordtype">int</span> ntStartIdx);
00334    
00343    <span class="keywordtype">bool</span> buildStateMachine(<a class="code" href="Types_8h.html#a21">uint32</a> vehicleParam);
00344 
00349    <span class="keywordtype">void</span> deleteVehicles();
00350    
00355    <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="classVehicle.html">Vehicle</a>* getNonValidVehicle() <span class="keyword">const</span>;
00356 
00362    <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="classVehicle.html">Vehicle</a>* getNTStartVehicle() <span class="keyword">const</span>;
00363    
<a name="l00368"></a><a class="code" href="classDriverPref.html#r0">00368</a>    <a class="code" href="Types_8h.html#a22">int32</a> m_cost; 
00369 
<a name="l00373"></a><a class="code" href="classDriverPref.html#r1">00373</a>    <a class="code" href="Types_8h.html#a25">byte</a> m_costA;
00374    
<a name="l00378"></a><a class="code" href="classDriverPref.html#r2">00378</a>    <a class="code" href="Types_8h.html#a25">byte</a> m_costB;
00379    
<a name="l00383"></a><a class="code" href="classDriverPref.html#r3">00383</a>    <a class="code" href="Types_8h.html#a25">byte</a> m_costC;
00384    
<a name="l00388"></a><a class="code" href="classDriverPref.html#r4">00388</a>    <a class="code" href="Types_8h.html#a25">byte</a> m_costD;
00389    
<a name="l00397"></a><a class="code" href="classDriverPref.html#r5">00397</a>    <a class="code" href="Types_8h.html#a22">int32</a> m_vehicleParam;
00398 
<a name="l00404"></a><a class="code" href="classDriverPref.html#r6">00404</a>    <a class="code" href="Types_8h.html#a21">uint32</a> m_time;
00405 
<a name="l00410"></a><a class="code" href="classDriverPref.html#r7">00410</a>    <a class="code" href="Types_8h.html#a21">uint32</a> m_minWaitTime;
00411 
<a name="l00416"></a><a class="code" href="classDriverPref.html#r8">00416</a>    <span class="keywordtype">bool</span> m_isStartTime;
00417 
<a name="l00421"></a><a class="code" href="classDriverPref.html#r9">00421</a>    <span class="keywordtype">bool</span> m_useUturn;
00422 
00423 
<a name="l00427"></a><a class="code" href="classDriverPref.html#r10">00427</a>    <span class="keywordtype">bool</span> m_avoidTollRoads;
00428 
<a name="l00432"></a><a class="code" href="classDriverPref.html#r11">00432</a>    <span class="keywordtype">bool</span> m_avoidHighways;
00433 
00434 
00435    <span class="comment">// NEW!!</span>
00436 
<a name="l00441"></a><a class="code" href="classDriverPref.html#y0">00441</a>    <span class="keyword">typedef</span> <a class="code" href="classvector.html">vector&lt;Vehicle*&gt;</a> <a class="code" href="classvector.html">VehicleVector_t</a>;
00442    
<a name="l00447"></a><a class="code" href="classDriverPref.html#r12">00447</a>    VehicleVector_t m_vehicles;
00448 
<a name="l00452"></a><a class="code" href="classDriverPref.html#r13">00452</a>    <span class="keyword">const</span> <a class="code" href="classVehicle.html">Vehicle</a>* m_bestVehicle;
00453 
<a name="l00457"></a><a class="code" href="classDriverPref.html#r14">00457</a>    <span class="keyword">const</span> <a class="code" href="classVehicle.html">Vehicle</a>* m_nonValidVehicle;
00458 
<a name="l00462"></a><a class="code" href="classDriverPref.html#r15">00462</a>    <span class="keyword">const</span> <a class="code" href="classVehicle.html">Vehicle</a>* m_ntStartVehicle;
00463 };
00464 
00465 <span class="comment">// ======================================================================</span>
00466 <span class="comment">//                                   Implementation of inline functions =</span>
00467 <span class="comment">// ======================================================================</span>
00468 
00469 <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a25">byte</a>
<a name="l00470"></a><a class="code" href="classDriverPref.html#a4">00470</a> <a class="code" href="classDriverPref.html#a4">DriverPref::getCostA</a>()<span class="keyword"> const </span>
00471 <span class="keyword"></span>{
00472    <span class="keywordflow">return</span> m_costA;
00473 }
00474 
00475 <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a25">byte</a>
<a name="l00476"></a><a class="code" href="classDriverPref.html#a5">00476</a> <a class="code" href="classDriverPref.html#a5">DriverPref::getCostB</a>()<span class="keyword"> const </span>
00477 <span class="keyword"></span>{
00478    <span class="keywordflow">return</span> m_costB;
00479 }
00480 
00481 
00482 <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a25">byte</a>
<a name="l00483"></a><a class="code" href="classDriverPref.html#a6">00483</a> <a class="code" href="classDriverPref.html#a6">DriverPref::getCostC</a>()<span class="keyword"> const </span>
00484 <span class="keyword"></span>{
00485    <span class="keywordflow">return</span> m_costC;
00486 }
00487 
00488 
00489 <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a25">byte</a>
<a name="l00490"></a><a class="code" href="classDriverPref.html#a7">00490</a> <a class="code" href="classDriverPref.html#a7">DriverPref::getCostD</a>()<span class="keyword"> const </span>
00491 <span class="keyword"></span>{
00492    <span class="keywordflow">return</span> m_costD;
00493 }
00494 
<a name="l00495"></a><a class="code" href="classDriverPref.html#a8">00495</a> <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a21">uint32</a> <a class="code" href="classDriverPref.html#a8">DriverPref::getRoutingCosts</a>()<span class="keyword"> const</span>
00496 <span class="keyword"></span>{
00497    <span class="keywordflow">return</span> m_cost;
00498 }
00499 
<a name="l00500"></a><a class="code" href="classDriverPref.html#a9">00500</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classDriverPref.html#a9">DriverPref::setRoutingCosts</a>( uint32 cost )
00501 {
00502    <a class="code" href="classDriverPref.html#r0">m_cost</a> = cost;
00503    <a class="code" href="classDriverPref.html#r1">m_costA</a> = ( <a class="code" href="classDriverPref.html#r0">m_cost</a> &gt;&gt; 24 ) &amp; 0xff;
00504    <a class="code" href="classDriverPref.html#r2">m_costB</a> = ( <a class="code" href="classDriverPref.html#r0">m_cost</a> &gt;&gt; 16 ) &amp; 0xff;
00505    <a class="code" href="classDriverPref.html#r3">m_costC</a> = ( <a class="code" href="classDriverPref.html#r0">m_cost</a> &gt;&gt;  8 ) &amp; 0xff;
00506    <a class="code" href="classDriverPref.html#r4">m_costD</a> = ( <a class="code" href="classDriverPref.html#r0">m_cost</a> &gt;&gt;  0 ) &amp; 0xff;
00507 }
00508 
<a name="l00509"></a><a class="code" href="classDriverPref.html#a10">00509</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classDriverPref.html#a9">DriverPref::setRoutingCosts</a>( byte costA,
00510                                          byte costB,
00511                                          byte costC,
00512                                          byte costD)
00513 {
00514    <a class="code" href="classDriverPref.html#r1">m_costA</a> = costA;
00515    <a class="code" href="classDriverPref.html#r2">m_costB</a> = costB;
00516    <a class="code" href="classDriverPref.html#r3">m_costC</a> = costC;
00517    <a class="code" href="classDriverPref.html#r4">m_costD</a> = costD;
00518    <a class="code" href="classDriverPref.html#r0">m_cost</a> = <a class="code" href="Types_8h.html#a21">uint32</a>(costA) &lt;&lt; 24 |
00519             <a class="code" href="Types_8h.html#a21">uint32</a>(costB) &lt;&lt; 16 |
00520             <a class="code" href="Types_8h.html#a21">uint32</a>(costC) &lt;&lt;  8 |
00521             <a class="code" href="Types_8h.html#a21">uint32</a>(costD) &lt;&lt;  0;
00522 }
00523 
<a name="l00524"></a><a class="code" href="classDriverPref.html#a11">00524</a> <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a22">int32</a> <a class="code" href="classDriverPref.html#a11">DriverPref::getVehicleRestriction</a>()<span class="keyword"> const</span>
00525 <span class="keyword"></span>{
00526    <span class="keywordflow">return</span> m_vehicleParam;
00527 }
00528 
<a name="l00529"></a><a class="code" href="classDriverPref.html#a12">00529</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classDriverPref.html#a12">DriverPref::setVehicleRestriction</a>( uint32 vehicle )
00530 {
00531    <a class="code" href="classDriverPref.html#r5">m_vehicleParam</a> = vehicle;
00532    <a class="code" href="classDriverPref.html#d3">buildStateMachine</a>(vehicle);
00533 }
00534 
00535 
<a name="l00536"></a><a class="code" href="classDriverPref.html#a13">00536</a> <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a21">uint32</a> <a class="code" href="classDriverPref.html#a13">DriverPref::getTime</a>()<span class="keyword"> const</span>
00537 <span class="keyword"></span>{
00538    <span class="keywordflow">return</span> m_time;
00539 }
00540 
00541 
<a name="l00542"></a><a class="code" href="classDriverPref.html#a14">00542</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classDriverPref.html#a14">DriverPref::setTime</a>( uint32 time )
00543 {
00544    <a class="code" href="classDriverPref.html#r6">m_time</a> = time;
00545 }
00546 
<a name="l00547"></a><a class="code" href="classDriverPref.html#a15">00547</a> <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a21">uint32</a> <a class="code" href="classDriverPref.html#a15">DriverPref::getMinWaitTime</a>()<span class="keyword"> const</span>
00548 <span class="keyword"></span>{
00549    <span class="keywordflow">return</span> m_minWaitTime;
00550 }
00551 
<a name="l00552"></a><a class="code" href="classDriverPref.html#a16">00552</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classDriverPref.html#a16">DriverPref::setMinWaitTime</a>( uint32 minWaitTime )
00553 {
00554    <a class="code" href="classDriverPref.html#r7">m_minWaitTime</a> = minWaitTime;
00555 }
00556 
<a name="l00557"></a><a class="code" href="classDriverPref.html#a17">00557</a> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classDriverPref.html#a17">DriverPref::getIsStartTime</a>()<span class="keyword"> const</span>
00558 <span class="keyword"></span>{
00559    <span class="keywordflow">return</span> m_isStartTime;
00560 }
00561 
<a name="l00562"></a><a class="code" href="classDriverPref.html#a18">00562</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classDriverPref.html#a18">DriverPref::setIsStartTime</a>( <span class="keywordtype">bool</span> isStartTime )
00563 {
00564    <a class="code" href="classDriverPref.html#r8">m_isStartTime</a> = isStartTime;
00565 }
00566 
<a name="l00567"></a><a class="code" href="classDriverPref.html#a19">00567</a> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classDriverPref.html#a19">DriverPref::useUturn</a>()<span class="keyword"> const</span>
00568 <span class="keyword"></span>{
00569    <span class="keywordflow">return</span> m_useUturn;
00570 }
00571 
<a name="l00572"></a><a class="code" href="classDriverPref.html#a20">00572</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classDriverPref.html#a20">DriverPref::setUturn</a>( <span class="keywordtype">bool</span> uturn )
00573 {
00574    <a class="code" href="classDriverPref.html#r9">m_useUturn</a> = uturn;
00575 }
00576 
00577 
00578 <span class="keyword">inline</span> <span class="keywordtype">bool</span> 
<a name="l00579"></a><a class="code" href="classDriverPref.html#a21">00579</a> <a class="code" href="classDriverPref.html#a21">DriverPref::avoidTollRoads</a>()<span class="keyword"> const </span>{
00580    <span class="keywordflow">return</span> m_avoidTollRoads;
00581 }
00582 
00583 
00584 <span class="keyword">inline</span> <span class="keywordtype">bool</span> 
<a name="l00585"></a><a class="code" href="classDriverPref.html#a22">00585</a> <a class="code" href="classDriverPref.html#a22">DriverPref::avoidHighways</a>()<span class="keyword"> const </span>{
00586    <span class="keywordflow">return</span> m_avoidHighways;
00587 }
00588 
00589 
00590 <span class="keyword">inline</span> <span class="keywordtype">void</span> 
<a name="l00591"></a><a class="code" href="classDriverPref.html#a23">00591</a> <a class="code" href="classDriverPref.html#a23">DriverPref::setAvoidTollRoads</a>( <span class="keywordtype">bool</span> avoidTollRoads ) {
00592    <a class="code" href="classDriverPref.html#r10">m_avoidTollRoads</a> = avoidTollRoads;
00593 }
00594 
00595 
00596 <span class="keyword">inline</span> <span class="keywordtype">void</span> 
<a name="l00597"></a><a class="code" href="classDriverPref.html#a24">00597</a> <a class="code" href="classDriverPref.html#a24">DriverPref::setAvoidHighways</a>( <span class="keywordtype">bool</span> avoidHighways ) {
00598    <a class="code" href="classDriverPref.html#r11">m_avoidHighways</a> = avoidHighways;
00599 }
00600 
00601 
<a name="l00602"></a><a class="code" href="classDriverPref.html#a27">00602</a> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="classDriverPref.html#a27">DriverPref::getBestVehicleClass</a>()<span class="keyword"> const</span>
00603 <span class="keyword"></span>{
00604    <span class="keywordflow">return</span> 0;
00605 }
00606 
00607 <span class="keyword">inline</span> <span class="keywordtype">int</span>
<a name="l00608"></a><a class="code" href="classDriverPref.html#a29">00608</a> <a class="code" href="classDriverPref.html#a29">DriverPref::getNbrVehicles</a>()<span class="keyword"> const</span>
00609 <span class="keyword"></span>{
00610    <span class="keywordflow">return</span> <a class="code" href="classDriverPref.html#r12">m_vehicles</a>.size();
00611 }
00612 
00613 <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="classVehicle.html">Vehicle</a>*
<a name="l00614"></a><a class="code" href="classDriverPref.html#a28">00614</a> <a class="code" href="classDriverPref.html#a28">DriverPref::getBestVehicle</a>()<span class="keyword"> const</span>
00615 <span class="keyword"></span>{
00616    <span class="keywordflow">return</span> m_bestVehicle;
00617 }
00618 
00619 <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="classVehicle.html">Vehicle</a>*
<a name="l00620"></a><a class="code" href="classDriverPref.html#a30">00620</a> <a class="code" href="classDriverPref.html#a30">DriverPref::getVehicle</a>(<span class="keywordtype">int</span> i)<span class="keyword"> const</span>
00621 <span class="keyword"></span>{
00622    <span class="keywordflow">return</span> <a class="code" href="classDriverPref.html#r12">m_vehicles</a>[i];
00623 }
00624 
00625 <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="classVehicle.html">Vehicle</a>*
<a name="l00626"></a><a class="code" href="classDriverPref.html#d5">00626</a> <a class="code" href="classDriverPref.html#d5">DriverPref::getNonValidVehicle</a>()<span class="keyword"> const</span>
00627 <span class="keyword"></span>{
00628    <span class="keywordflow">return</span> m_nonValidVehicle;
00629 }
00630 
00631 <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="classVehicle.html">Vehicle</a>*
<a name="l00632"></a><a class="code" href="classDriverPref.html#d6">00632</a> <a class="code" href="classDriverPref.html#d6">DriverPref::getNTStartVehicle</a>()<span class="keyword"> const</span>
00633 <span class="keyword"></span>{
00634    <span class="keywordflow">return</span> m_ntStartVehicle;
00635 }
00636 
00637 <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="classVehicle.html">Vehicle</a>*
<a name="l00638"></a><a class="code" href="classDriverPref.html#d0">00638</a> <a class="code" href="classDriverPref.html#d0">DriverPref::getWorseAllowed</a>( <span class="keyword">const</span> <a class="code" href="classVehicle.html">Vehicle</a>* curVehicle,
00639                              uint32 connRestrictions,
00640                              uint32 nextNodeRestrictions)<span class="keyword"> const</span>
00641 <span class="keyword"></span>{
00642    <span class="comment">// Check for another (worse) vehicle which is allowed.</span>
00643    <a class="code" href="classVehicle.html">Vehicle</a>* worseVehicle = curVehicle-&gt;<a class="code" href="classVehicle.html#a9">getWorse</a>();
00644    <span class="keywordflow">while</span> ( worseVehicle != NULL ) {
00645       <span class="comment">// There is a slower vehicle</span>
00646       <span class="keywordflow">if</span> ( worseVehicle-&gt;<a class="code" href="classVehicle.html#a6">isAllowed</a>(connRestrictions,
00647                                    nextNodeRestrictions) ) {
00648          <span class="comment">// The slower vehicle is allowed.</span>
00649          <span class="comment">// Return it since the next one is even worse.</span>
00650          <span class="keywordflow">return</span> worseVehicle;
00651       }
00652       <span class="comment">// Try with an even worse vehicle.</span>
00653       worseVehicle = worseVehicle-&gt;<a class="code" href="classVehicle.html#a9">getWorse</a>();
00654    }
00655    <span class="comment">// If we are here, we couldn't find any suitable vehicle.</span>
00656    <span class="keywordflow">return</span> worseVehicle; <span class="comment">// == NULL!</span>
00657 }
00658 
00659 <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="classVehicle.html">Vehicle</a>*
<a name="l00660"></a><a class="code" href="classDriverPref.html#d1">00660</a> <a class="code" href="classDriverPref.html#d1">DriverPref::getBestAllowed</a>( <span class="keyword">const</span> <a class="code" href="classVehicle.html">Vehicle</a>* curVehicle,
00661                             uint32 connRestrictions,
00662                             uint32 nextNodeRestrictions)<span class="keyword"> const</span>
00663 <span class="keyword"></span>{
00664    <span class="keyword">const</span> <a class="code" href="classVehicle.html">Vehicle</a>* bestVehicle = curVehicle;
00665    <span class="keyword">const</span> <a class="code" href="classVehicle.html">Vehicle</a>* betterVehicle = curVehicle-&gt;<a class="code" href="classVehicle.html#a8">getBetter</a>();
00666    <span class="keywordflow">while</span> ( betterVehicle != NULL ) {
00667       <span class="comment">// We have a better vehicle</span>
00668       <span class="keywordflow">if</span> ( betterVehicle-&gt;<a class="code" href="classVehicle.html#a6">isAllowed</a>(connRestrictions,
00669                                     nextNodeRestrictions) ) {
00670          <span class="comment">// The better vehicle is allowed</span>
00671          bestVehicle = betterVehicle;
00672       }
00673       <span class="comment">// Try to get an even better vehicle.</span>
00674       betterVehicle = betterVehicle-&gt;<a class="code" href="classVehicle.html#a8">getBetter</a>();
00675    }
00676    <span class="keywordflow">return</span> bestVehicle;
00677 }
00678 
00679 <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="classVehicle.html">Vehicle</a>*
<a name="l00680"></a><a class="code" href="classDriverPref.html#a26">00680</a> <a class="code" href="classDriverPref.html#a26">DriverPref::getAllowedVehicle</a>( <span class="keyword">const</span> <a class="code" href="classVehicle.html">Vehicle</a>* curVehicle,
00681                                       uint32 connRestrictions,
00682                                       uint32 nextNodeRestrictions)<span class="keyword"> const</span>
00683 <span class="keyword"></span>{
00684    <span class="keywordflow">if</span> ( curVehicle-&gt;<a class="code" href="classVehicle.html#a6">isAllowed</a>(connRestrictions,
00685                               nextNodeRestrictions) ) {
00686       <span class="comment">// This vehicle is allowed.</span>
00687       <span class="keyword">const</span> <a class="code" href="classVehicle.html">Vehicle</a>* betterVehicle = curVehicle-&gt;<a class="code" href="classVehicle.html#a8">getBetter</a>();
00688       <span class="keywordflow">if</span> ( betterVehicle != NULL ) {
00689          <span class="comment">// The vehicle is not the best vehicle, though.</span>
00690          <span class="comment">// Check if a better vehicle is allowed.</span>
00691          <span class="keyword">const</span> <a class="code" href="classVehicle.html">Vehicle</a>* bestVehicle = curVehicle;
00692          <span class="keywordflow">while</span> ( betterVehicle != NULL ) {
00693             <span class="comment">// We have a better vehicle</span>
00694             <span class="keywordflow">if</span> ( betterVehicle-&gt;<a class="code" href="classVehicle.html#a6">isAllowed</a>(connRestrictions,
00695                                           nextNodeRestrictions) ) {
00696                <span class="comment">// The better vehicle is allowed</span>
00697                bestVehicle = betterVehicle;
00698             }
00699             <span class="comment">// Try to get an even better vehicle.</span>
00700             betterVehicle = betterVehicle-&gt;<a class="code" href="classVehicle.html#a8">getBetter</a>();
00701          }
00702          <span class="keywordflow">return</span> bestVehicle;
00703       } <span class="keywordflow">else</span> {
00704          <span class="comment">// Already using the best vehicle</span>
00705          <span class="keywordflow">return</span> curVehicle;
00706       }
00707    } <span class="keywordflow">else</span> {
00708       <span class="comment">// This vehicle is NOT allowed.</span>
00709       <span class="comment">// Check for another (worse) vehicle which is allowed.</span>
00710       <span class="keyword">const</span> <a class="code" href="classVehicle.html">Vehicle</a>* worseVehicle = curVehicle-&gt;<a class="code" href="classVehicle.html#a9">getWorse</a>();      
00711       <span class="keywordflow">while</span> ( worseVehicle != NULL ) {
00712          <span class="comment">// There is a slower vehicle</span>
00713          <span class="keywordflow">if</span> ( worseVehicle-&gt;<a class="code" href="classVehicle.html#a6">isAllowed</a>(connRestrictions,
00714                                       nextNodeRestrictions) ) {
00715             <span class="comment">// The slower vehicle is allowed.</span>
00716             <span class="comment">// Return it since the next one is even worse.</span>
00717             <span class="keywordflow">return</span> worseVehicle;
00718          }
00719          <span class="comment">// Try with an even worse vehicle.</span>
00720          worseVehicle = worseVehicle-&gt;<a class="code" href="classVehicle.html#a9">getWorse</a>();
00721       }
00722       <span class="comment">// If we are here, we couldn't find any suitable vehicle.</span>
00723       <span class="keywordflow">return</span> worseVehicle; <span class="comment">// == NULL!</span>
00724    }
00725 }
00726 
00727 <span class="preprocessor">#endif // DRIVER_PREF_H</span>
00728 <span class="preprocessor"></span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Wed Jun 30 10:11:46 2010 for mc2 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.3.9.1 </small></address>
</body>
</html>
