<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>mc2: PushServiceHandler Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.9.1 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>PushServiceHandler Class Reference</h1>Class that handles Push in a <a class="el" href="classServer.html">Server</a>.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="PushServiceHandler_8h-source.html">PushServiceHandler.h</a>&gt;</code>
<p>
Collaboration diagram for PushServiceHandler:<p><center><img src="classPushServiceHandler__coll__graph.png" border="0" usemap="#PushServiceHandler__coll__map" alt="Collaboration graph"></center>
<map name="PushServiceHandler__coll__map">
<area href="classPushServiceHandler_1_1PushServiceThread.html" shape="rect" coords="99,277,365,304" alt="">
<area href="classISABMonitor.html" shape="rect" coords="259,83,355,109" alt="">
<area href="classPushServices.html" shape="rect" coords="379,83,483,109" alt="">
<area href="classISABThread.html" shape="rect" coords="5,187,99,213" alt="">
<area href="classTCPSocket.html" shape="rect" coords="121,83,209,109" alt="">
<area href="classSocketReceiver.html" shape="rect" coords="435,187,549,213" alt="">
<area href="classISABMutex.html" shape="rect" coords="513,83,601,109" alt="">
<area href="classDatagramSender.html" shape="rect" coords="625,83,748,109" alt="">
<area href="classDatagramSocket.html" shape="rect" coords="627,5,747,32" alt="">
</map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center><a href="classPushServiceHandler-members.html">List of all members.</a><h2>Public Member Functions</h2>
<ul>
<li><a class="el" href="classPushServiceHandler.html#a0">PushServiceHandler</a> (<a class="el" href="Types_8h.html#a19">uint16</a> port)
<dl class="el"><dd class="mdescRight">Handles Push in a <a class="el" href="classServer.html">Server</a>.  <a href="#a0"></a><br></dl><li>virtual <a class="el" href="classPushServiceHandler.html#a1">~PushServiceHandler</a> ()
<dl class="el"><dd class="mdescRight">Destructor, notifies threads waiting in getPushPacket.  <a href="#a1"></a><br></dl><li>void <a class="el" href="classPushServiceHandler.html#a2">start</a> ()
<dl class="el"><dd class="mdescRight">Starts the thread.  <a href="#a2"></a><br></dl><li><a class="el" href="classPushPacket.html">PushPacket</a> * <a class="el" href="classPushServiceHandler.html#a3">getPushPacket</a> (<a class="el" href="Types_8h.html#a21">uint32</a> &amp;serviceID, <a class="el" href="classSubscriptionResource.html">SubscriptionResource</a> *&amp;resource)
<dl class="el"><dd class="mdescRight">Returns received a <a class="el" href="classPushPacket.html">PushPacket</a>.  <a href="#a3"></a><br></dl><li>void <a class="el" href="classPushServiceHandler.html#a4">notifyGetPushPacket</a> ()
<dl class="el"><dd class="mdescRight">Awakens all threads waiting in getPushPacket; GetMonitor function.  <a href="#a4"></a><br></dl><li>void <a class="el" href="classPushServiceHandler.html#a5">addPushService</a> (<a class="el" href="classPushService.html">PushService</a> *service, <a class="el" href="classvector.html">vector</a>&lt; <a class="el" href="Types_8h.html#a21">uint32</a> &gt; &amp;lastUpdateTime)
<dl class="el"><dd class="mdescRight">Add a <a class="el" href="classPushService.html">PushService</a>.  <a href="#a5"></a><br></dl><li>bool <a class="el" href="classPushServiceHandler.html#a6">removePushService</a> (<a class="el" href="Types_8h.html#a21">uint32</a> serviceID)
<dl class="el"><dd class="mdescRight">Removes a <a class="el" href="classPushService.html">PushService</a> entierly.  <a href="#a6"></a><br></dl><li>bool <a class="el" href="classPushServiceHandler.html#a7">removePushServiceResource</a> (<a class="el" href="Types_8h.html#a21">uint32</a> serviceID, <a class="el" href="classSubscriptionResource.html">SubscriptionResource</a> &amp;resource)
<dl class="el"><dd class="mdescRight">Removes a certain resource from a <a class="el" href="classPushService.html">PushService</a>.  <a href="#a7"></a><br></dl></ul>
<h2>Private Member Functions</h2>
<ul>
<li>void <a class="el" href="classPushServiceHandler.html#d0">handlePushPacket</a> (<a class="el" href="classPushPacket.html">PushPacket</a> *pushPacket, <a class="el" href="classTCPSocket.html">TCPSocket</a> *pushSocket, bool &amp;isDataPacket, <a class="el" href="Types_8h.html#a21">uint32</a> &amp;serviceID, <a class="el" href="classSubscriptionResource.html">SubscriptionResource</a> *&amp;resource)
<dl class="el"><dd class="mdescRight">Handle a received push packet.  <a href="#d0"></a><br></dl><li>void <a class="el" href="classPushServiceHandler.html#d1">handleBrokenSocket</a> (<a class="el" href="classTCPSocket.html">TCPSocket</a> *pushSocket)
<dl class="el"><dd class="mdescRight">Handle a broken socket.  <a href="#d1"></a><br></dl><li><a class="el" href="Types_8h.html#a21">uint32</a> <a class="el" href="classPushServiceHandler.html#d2">checkAndCalculateTimeout</a> ()
<dl class="el"><dd class="mdescRight">Make all packets that has to be sent and produce a new timeout.  <a href="#d2"></a><br></dl><li>void <a class="el" href="classPushServiceHandler.html#d3">sendPackets</a> (<a class="el" href="PushService_8h.html#a0">PacketContainerList</a> &amp;packetList)
<dl class="el"><dd class="mdescRight">Send a list of packets.  <a href="#d3"></a><br></dl><li>void <a class="el" href="classPushServiceHandler.html#d4">addPushPacket</a> (<a class="el" href="classPushPacket.html">PushPacket</a> *pushPacket, <a class="el" href="Types_8h.html#a21">uint32</a> serviceID, <a class="el" href="classSubscriptionResource.html">SubscriptionResource</a> *resource)
<dl class="el"><dd class="mdescRight">Add an outgoing <a class="el" href="classPushPacket.html">PushPacket</a>.  <a href="#d4"></a><br></dl></ul>
<h2>Private Attributes</h2>
<ul>
<li><a class="el" href="classPushServices.html">PushServices</a> * <a class="el" href="classPushServiceHandler.html#r0">m_PushServices</a>
<dl class="el"><dd class="mdescRight">The <a class="el" href="classPushServices.html">PushServices</a>.  <a href="#r0"></a><br></dl><li><a class="el" href="classISABMutex.html">ISABMutex</a> <a class="el" href="classPushServiceHandler.html#r1">m_mutex</a>
<dl class="el"><dd class="mdescRight">The mutex.  <a href="#r1"></a><br></dl><li><a class="el" href="classISABMonitor.html">ISABMonitor</a> <a class="el" href="classPushServiceHandler.html#r2">m_getMonitor</a>
<dl class="el"><dd class="mdescRight">The GetMotitor.  <a href="#r2"></a><br></dl><li><a class="el" href="classISABMutex.html">ISABMutex</a> <a class="el" href="classPushServiceHandler.html#r3">m_sendMutex</a>
<dl class="el"><dd class="mdescRight">The SendMutex.  <a href="#r3"></a><br></dl><li><a class="el" href="PushServiceHandler_8h.html#a0">PushPacketList</a> <a class="el" href="classPushServiceHandler.html#r4">m_pushPackets</a>
<dl class="el"><dd class="mdescRight">The ready PushPackets.  <a href="#r4"></a><br></dl><li><a class="el" href="classPushServiceHandler_1_1PushServiceThread.html">PushServiceThread</a> * <a class="el" href="classPushServiceHandler.html#r5">m_pushServiceThread</a>
<dl class="el"><dd class="mdescRight">The <a class="el" href="classPushServiceHandler_1_1PushServiceThread.html">PushServiceThread</a>.  <a href="#r5"></a><br></dl><li><a class="el" href="classDatagramSender.html">DatagramSender</a> * <a class="el" href="classPushServiceHandler.html#r6">m_datagramSender</a>
<dl class="el"><dd class="mdescRight">The <a class="el" href="classDatagramSender.html">DatagramSender</a>.  <a href="#r6"></a><br></dl><li><a class="el" href="classTCPSocket.html">TCPSocket</a> * <a class="el" href="classPushServiceHandler.html#r7">m_listenSocket</a>
<dl class="el"><dd class="mdescRight">The listenSocket.  <a href="#r7"></a><br></dl><li><a class="el" href="Types_8h.html#a21">uint32</a> <a class="el" href="classPushServiceHandler.html#r8">m_ip</a>
<dl class="el"><dd class="mdescRight">The <a class="el" href="classIP.html">IP</a> of this handler.  <a href="#r8"></a><br></dl><li><a class="el" href="Types_8h.html#a19">uint16</a> <a class="el" href="classPushServiceHandler.html#r9">m_listenPort</a>
<dl class="el"><dd class="mdescRight">The TCP listenSocket port.  <a href="#r9"></a><br></dl></ul>
<h2>Friends</h2>
<ul>
<li>class <a class="el" href="classPushServiceHandler.html#n0">PushServiceThread</a>
<dl class="el"><dd class="mdescRight"><a class="el" href="classPushServiceHandler_1_1PushServiceThread.html">PushServiceThread</a> is a friend;.  <a href="#n0"></a><br></dl></ul>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Class that handles Push in a <a class="el" href="classServer.html">Server</a>. 
<p>

<p>
Definition at line <a class="el" href="PushServiceHandler_8h-source.html#l00034">34</a> of file <a class="el" href="PushServiceHandler_8h-source.html">PushServiceHandler.h</a>.<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="a0" doxytag="PushServiceHandler::PushServiceHandler"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">PushServiceHandler::PushServiceHandler           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="Types_8h.html#a19">uint16</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>port</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Handles Push in a <a class="el" href="classServer.html">Server</a>. 
<p>
Has one thread.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>port</em>&nbsp;</td><td>The port to listen on. </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a1" doxytag="PushServiceHandler::~PushServiceHandler"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual PushServiceHandler::~<a class="el" href="classPushServiceHandler.html">PushServiceHandler</a>           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Destructor, notifies threads waiting in getPushPacket. 
<p>
    </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="d4" doxytag="PushServiceHandler::addPushPacket"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void PushServiceHandler::addPushPacket           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classPushPacket.html">PushPacket</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>pushPacket</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="Types_8h.html#a21">uint32</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>serviceID</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="classSubscriptionResource.html">SubscriptionResource</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>resource</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [private]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Add an outgoing <a class="el" href="classPushPacket.html">PushPacket</a>. 
<p>
Mutex function.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pushPacket</em>&nbsp;</td><td>The <a class="el" href="classPushPacket.html">PushPacket</a> to add to outgoing packets. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>serviceID</em>&nbsp;</td><td>The serviceID of the pushPacket. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>resource</em>&nbsp;</td><td>The <a class="el" href="classSubscriptionResource.html">SubscriptionResource</a> of the pushPacket. </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a5" doxytag="PushServiceHandler::addPushService"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void PushServiceHandler::addPushService           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classPushService.html">PushService</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>service</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="classvector.html">vector</a>&lt; <a class="el" href="Types_8h.html#a21">uint32</a> &gt; &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>lastUpdateTime</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Add a <a class="el" href="classPushService.html">PushService</a>. 
<p>
Mutex function.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>service</em>&nbsp;</td><td>The <a class="el" href="classPushService.html">PushService</a> to add. The object is owned by this class after the call to this method. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>lastUpdateTime</em>&nbsp;</td><td>For all resources the lastUpdateTime is added to this vector. </td></tr>
  </table>
</dl>

<p>
Referenced by <a class="el" href="GenericServer_8h-source.html#l00320">GenericServer::addPushService()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="d2" doxytag="PushServiceHandler::checkAndCalculateTimeout"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="Types_8h.html#a21">uint32</a> PushServiceHandler::checkAndCalculateTimeout           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [private]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Make all packets that has to be sent and produce a new timeout. 
<p>
Mutex function.<p>
<dl compact><dt><b>Returns:</b></dt><dd>Time for next timeout. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a3" doxytag="PushServiceHandler::getPushPacket"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="classPushPacket.html">PushPacket</a>* PushServiceHandler::getPushPacket           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="Types_8h.html#a21">uint32</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>serviceID</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="classSubscriptionResource.html">SubscriptionResource</a> *&amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>resource</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns received a <a class="el" href="classPushPacket.html">PushPacket</a>. 
<p>
GetMonitor function.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>serviceID</em>&nbsp;</td><td>Set to the serviceID of the <a class="el" href="classPushPacket.html">PushPacket</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>resource</em>&nbsp;</td><td>Set to the resource of the <a class="el" href="classPushPacket.html">PushPacket</a> or NULL if notified. Deleted by caller. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>a <a class="el" href="classPushPacket.html">PushPacket</a> or NULL if notified. </dd></dl>

<p>
Referenced by <a class="el" href="GenericServer_8h-source.html#l00308">GenericServer::getPushPacket()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="d1" doxytag="PushServiceHandler::handleBrokenSocket"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void PushServiceHandler::handleBrokenSocket           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classTCPSocket.html">TCPSocket</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>pushSocket</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [private]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Handle a broken socket. 
<p>
Mutex function.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pushSocket</em>&nbsp;</td><td>The socket that is broken. </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="d0" doxytag="PushServiceHandler::handlePushPacket"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void PushServiceHandler::handlePushPacket           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classPushPacket.html">PushPacket</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>pushPacket</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="classTCPSocket.html">TCPSocket</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>pushSocket</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>bool &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>isDataPacket</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="Types_8h.html#a21">uint32</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>serviceID</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="classSubscriptionResource.html">SubscriptionResource</a> *&amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>resource</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [private]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Handle a received push packet. 
<p>
Mutex function.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pushPacket</em>&nbsp;</td><td>The push packet to handle. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pushSocket</em>&nbsp;</td><td>The socket that the pushPacket was received on. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>isDataPacket</em>&nbsp;</td><td>Set to true if the pushPacket is a data packet. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>serviceID</em>&nbsp;</td><td>Set to the serviceID of the pushPacket if it is a data packet. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>resource</em>&nbsp;</td><td>Set to the resource of the pushPacket if it is a data packet or NULL if not. </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a4" doxytag="PushServiceHandler::notifyGetPushPacket"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void PushServiceHandler::notifyGetPushPacket           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Awakens all threads waiting in getPushPacket; GetMonitor function. 
<p>

<p>
Referenced by <a class="el" href="GenericServer_8h-source.html#l00299">GenericServer::notifyAnswer()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a6" doxytag="PushServiceHandler::removePushService"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool PushServiceHandler::removePushService           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="Types_8h.html#a21">uint32</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>serviceID</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Removes a <a class="el" href="classPushService.html">PushService</a> entierly. 
<p>
Mutex function.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>serviceID</em>&nbsp;</td><td>The ID of the <a class="el" href="classPushService.html">PushService</a> to remove. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>True if serviceID did exist, false if it didn't. </dd></dl>

<p>
Referenced by <a class="el" href="GenericServer_8h-source.html#l00329">GenericServer::removePushService()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a7" doxytag="PushServiceHandler::removePushServiceResource"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool PushServiceHandler::removePushServiceResource           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="Types_8h.html#a21">uint32</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>serviceID</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="classSubscriptionResource.html">SubscriptionResource</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>resource</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Removes a certain resource from a <a class="el" href="classPushService.html">PushService</a>. 
<p>
Mutex function.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>serviceID</em>&nbsp;</td><td>The ID of the <a class="el" href="classPushService.html">PushService</a> to remove. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>resource</em>&nbsp;</td><td>The resource to stop having push for. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>True if resource did exist, false if it didn't. </dd></dl>

<p>
Referenced by <a class="el" href="GenericServer_8h-source.html#l00339">GenericServer::removePushServiceResource()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="d3" doxytag="PushServiceHandler::sendPackets"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void PushServiceHandler::sendPackets           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="PushService_8h.html#a0">PacketContainerList</a> &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>packetList</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [private]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Send a list of packets. 
<p>
SendMutex function.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>packetList</em>&nbsp;</td><td>The list of packets to send. </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a2" doxytag="PushServiceHandler::start"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void PushServiceHandler::start           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Starts the thread. 
<p>
    </td>
  </tr>
</table>
<hr><h2>Friends And Related Function Documentation</h2>
<a class="anchor" name="n0" doxytag="PushServiceHandler::PushServiceThread"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">friend class <a class="el" href="classPushServiceHandler_1_1PushServiceThread.html">PushServiceThread</a><code> [friend]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<a class="el" href="classPushServiceHandler_1_1PushServiceThread.html">PushServiceThread</a> is a friend;. 
<p>

<p>
Definition at line <a class="el" href="PushServiceHandler_8h-source.html#l00272">272</a> of file <a class="el" href="PushServiceHandler_8h-source.html">PushServiceHandler.h</a>.    </td>
  </tr>
</table>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="r6" doxytag="PushServiceHandler::m_datagramSender"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="classDatagramSender.html">DatagramSender</a>* <a class="el" href="classPushServiceHandler.html#r6">PushServiceHandler::m_datagramSender</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The <a class="el" href="classDatagramSender.html">DatagramSender</a>. 
<p>

<p>
Definition at line <a class="el" href="PushServiceHandler_8h-source.html#l00284">284</a> of file <a class="el" href="PushServiceHandler_8h-source.html">PushServiceHandler.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="r2" doxytag="PushServiceHandler::m_getMonitor"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="classISABMonitor.html">ISABMonitor</a> <a class="el" href="classPushServiceHandler.html#r2">PushServiceHandler::m_getMonitor</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The GetMotitor. 
<p>

<p>
Definition at line <a class="el" href="PushServiceHandler_8h-source.html#l00128">128</a> of file <a class="el" href="PushServiceHandler_8h-source.html">PushServiceHandler.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="r8" doxytag="PushServiceHandler::m_ip"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="Types_8h.html#a21">uint32</a> <a class="el" href="classPushServiceHandler.html#r8">PushServiceHandler::m_ip</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The <a class="el" href="classIP.html">IP</a> of this handler. 
<p>

<p>
Definition at line <a class="el" href="PushServiceHandler_8h-source.html#l00296">296</a> of file <a class="el" href="PushServiceHandler_8h-source.html">PushServiceHandler.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="r9" doxytag="PushServiceHandler::m_listenPort"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="Types_8h.html#a19">uint16</a> <a class="el" href="classPushServiceHandler.html#r9">PushServiceHandler::m_listenPort</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The TCP listenSocket port. 
<p>

<p>
Definition at line <a class="el" href="PushServiceHandler_8h-source.html#l00302">302</a> of file <a class="el" href="PushServiceHandler_8h-source.html">PushServiceHandler.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="r7" doxytag="PushServiceHandler::m_listenSocket"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="classTCPSocket.html">TCPSocket</a>* <a class="el" href="classPushServiceHandler.html#r7">PushServiceHandler::m_listenSocket</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The listenSocket. 
<p>

<p>
Definition at line <a class="el" href="PushServiceHandler_8h-source.html#l00290">290</a> of file <a class="el" href="PushServiceHandler_8h-source.html">PushServiceHandler.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="r1" doxytag="PushServiceHandler::m_mutex"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="classISABMutex.html">ISABMutex</a> <a class="el" href="classPushServiceHandler.html#r1">PushServiceHandler::m_mutex</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The mutex. 
<p>

<p>
Definition at line <a class="el" href="PushServiceHandler_8h-source.html#l00122">122</a> of file <a class="el" href="PushServiceHandler_8h-source.html">PushServiceHandler.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="r4" doxytag="PushServiceHandler::m_pushPackets"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="PushServiceHandler_8h.html#a0">PushPacketList</a> <a class="el" href="classPushServiceHandler.html#r4">PushServiceHandler::m_pushPackets</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The ready PushPackets. 
<p>

<p>
Definition at line <a class="el" href="PushServiceHandler_8h-source.html#l00140">140</a> of file <a class="el" href="PushServiceHandler_8h-source.html">PushServiceHandler.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="r0" doxytag="PushServiceHandler::m_PushServices"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="classPushServices.html">PushServices</a>* <a class="el" href="classPushServiceHandler.html#r0">PushServiceHandler::m_PushServices</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The <a class="el" href="classPushServices.html">PushServices</a>. 
<p>

<p>
Definition at line <a class="el" href="PushServiceHandler_8h-source.html#l00116">116</a> of file <a class="el" href="PushServiceHandler_8h-source.html">PushServiceHandler.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="r5" doxytag="PushServiceHandler::m_pushServiceThread"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="classPushServiceHandler_1_1PushServiceThread.html">PushServiceThread</a>* <a class="el" href="classPushServiceHandler.html#r5">PushServiceHandler::m_pushServiceThread</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The <a class="el" href="classPushServiceHandler_1_1PushServiceThread.html">PushServiceThread</a>. 
<p>

<p>
Definition at line <a class="el" href="PushServiceHandler_8h-source.html#l00278">278</a> of file <a class="el" href="PushServiceHandler_8h-source.html">PushServiceHandler.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="r3" doxytag="PushServiceHandler::m_sendMutex"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="classISABMutex.html">ISABMutex</a> <a class="el" href="classPushServiceHandler.html#r3">PushServiceHandler::m_sendMutex</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The SendMutex. 
<p>

<p>
Definition at line <a class="el" href="PushServiceHandler_8h-source.html#l00134">134</a> of file <a class="el" href="PushServiceHandler_8h-source.html">PushServiceHandler.h</a>.    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="PushServiceHandler_8h-source.html">PushServiceHandler.h</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Wed Jun 30 10:26:39 2010 for mc2 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.3.9.1 </small></address>
</body>
</html>
