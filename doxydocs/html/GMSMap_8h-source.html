<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>mc2: GMSMap.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.9.1 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<div class="nav">
<a class="el" href="dir_000002.html">Server</a>&nbsp;/&nbsp;<a class="el" href="dir_000007.html">MapGen</a>&nbsp;/&nbsp;<a class="el" href="dir_000008.html">MapGenerator</a>&nbsp;/&nbsp;<a class="el" href="dir_000009.html">include</a></div>
<h1>GMSMap.h</h1><a href="GMSMap_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment">00001 <span class="comment">/*</span>
00002 <span class="comment">Copyright (c) 1999 - 2010, Vodafone Group Services Ltd</span>
00003 <span class="comment">All rights reserved.</span>
00004 <span class="comment"></span>
00005 <span class="comment">Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</span>
00006 <span class="comment"></span>
00007 <span class="comment">    * Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</span>
00008 <span class="comment">    * Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</span>
00009 <span class="comment">    * Neither the name of the Vodafone Group Services Ltd nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.</span>
00010 <span class="comment"></span>
00011 <span class="comment">THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span>
00012 <span class="comment">*/</span>
00013 
00014 <span class="preprocessor">#ifndef GMSMAP_H</span>
00015 <span class="preprocessor"></span><span class="preprocessor">#define GMSMAP_H</span>
00016 <span class="preprocessor"></span>
00017 <span class="preprocessor">#include "<a class="code" href="config_8h.html">config.h</a>"</span>
00018 
00019 <span class="preprocessor">#include &lt;stdio.h&gt;</span>
00020 <span class="preprocessor">#include &lt;stdarg.h&gt;</span>
00021 <span class="preprocessor">#include "<a class="code" href="OldMap_8h.html">OldMap.h</a>"</span>
00022 <span class="preprocessor">#include "<a class="code" href="DataBuffer_8h.html">DataBuffer.h</a>"</span>
00023 <span class="preprocessor">#include "<a class="code" href="GMSItemNames_8h.html">GMSItemNames.h</a>"</span>
00024 <span class="preprocessor">#include "<a class="code" href="ItemTypes_8h.html">ItemTypes.h</a>"</span>
00025 <span class="preprocessor">#include "<a class="code" href="MC2Coordinate_8h.html">MC2Coordinate.h</a>"</span>
00026 <span class="preprocessor">#include "<a class="code" href="ZipSideFile_8h.html">ZipSideFile.h</a>"</span>
00027 
00028 <span class="preprocessor">#include "<a class="code" href="OldExternalConnections_8h.html">OldExternalConnections.h</a>"</span>
00029 <span class="preprocessor">#include &lt;set&gt;</span>
00030 <span class="preprocessor">#include &lt;map&gt;</span>
00031 <span class="preprocessor">#include &lt;algorithm&gt;</span>
00032 
00033 <span class="keyword">class </span><a class="code" href="classOldBuiltUpAreaItem.html">OldBuiltUpAreaItem</a>;
00034 <span class="keyword">class </span>ObjVector;
00035 
00036 
00037 <span class="preprocessor">#ifdef _WIN32</span>
00038 <span class="preprocessor"></span><span class="preprocessor">#include &lt;fstream.h&gt;</span>
00039 <span class="preprocessor">#else</span>
00040 <span class="preprocessor"></span><span class="preprocessor">#include &lt;fstream&gt;</span>
00041 <span class="preprocessor">#endif</span>
00042 <span class="preprocessor"></span>
00043 <span class="preprocessor">#include &lt;cstdlib&gt;</span>
00044 
00045 <span class="preprocessor">#ifdef __SVR4</span>
00046 <span class="preprocessor"></span><span class="preprocessor">   #include &lt;stdarg.h&gt;</span>
00047    <span class="comment">//#include &lt;sys/varargs.h&gt;</span>
00048    <span class="comment">// NB! The man-page for va_start on solaris is not correct.</span>
00049    <span class="comment">//     is says that the sys/vararg.h should be included, but</span>
00050    <span class="comment">//     it is the stdarg.h that works...</span>
00051 <span class="preprocessor">#endif</span>
00052 <span class="preprocessor"></span>
00053 
00054 <span class="comment">// Forward declarations</span>
00055 <span class="keyword">class </span><a class="code" href="classGMSStreetItem.html">GMSStreetItem</a>;
00056 <span class="keyword">class </span><a class="code" href="classOldRouteableItem.html">OldRouteableItem</a>;
00057 <span class="keyword">class </span><a class="code" href="classOldZipCodeItem.html">OldZipCodeItem</a>;
00058 <span class="keyword">class </span><a class="code" href="classOldMunicipalItem.html">OldMunicipalItem</a>;
00059 
00060 <span class="keyword">class </span><a class="code" href="classIDPair__t.html">IDPair_t</a>;
00061 <span class="keyword">class </span><a class="code" href="classGDFRef.html">GDFRef</a>;
00062 
<a name="l00067"></a><a class="code" href="classGMSMap.html">00067</a> <span class="keyword">class </span><a class="code" href="classGMSMap.html">GMSMap</a> : <span class="keyword">public</span> <a class="code" href="classOldMap.html">OldMap</a> {
00068 
00069    <span class="keyword">public</span>:
<a name="l00070"></a><a class="code" href="classGMSMap.html#n0">00070</a>       <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classGMSMap.html#n0">GenerateMapServer</a>;
00071 
00073       <span class="keyword">static</span> <a class="code" href="classOldGenericMap.html">OldGenericMap</a>* <a class="code" href="classGMSMap.html#e0">createMap</a>(uint32 <span class="keywordtype">id</span>, <span class="keyword">const</span> <span class="keywordtype">char</span>* path, 
00074                                    <span class="keywordtype">bool</span> loadMap = <span class="keyword">true</span>);
00076       <span class="keyword">static</span> <a class="code" href="classOldGenericMap.html">OldGenericMap</a>* <a class="code" href="classGMSMap.html#e0">createMap</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* mcmName);
00077       
00078 
00079    <span class="keyword">public</span>:
00080 
00084       <span class="keyword">virtual</span> <a class="code" href="classGMSMap.html#a0">~GMSMap</a>();
00085 
00090       <span class="keywordtype">void</span> <a class="code" href="classGMSMap.html#a1">setName</a>(<span class="keywordtype">char</span> *name);
00091 
<a name="l00096"></a><a class="code" href="classGMSMap.html#a2">00096</a>       <a class="code" href="Types_8h.html#a21">uint32</a> <a class="code" href="classGMSMap.html#a2">getNbrItems</a>() {
00097          <a class="code" href="Types_8h.html#a21">uint32</a> sum = 0;
00098          <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;NUMBER_GFX_ZOOMLEVELS; i++) {
00099             sum += <a class="code" href="classOldGenericMap.html#z186_0">getNbrItemsWithZoom</a>(i);
00100          }
00101          <span class="keywordflow">return</span> (sum);
00102       }
00103 
00112       <span class="keywordtype">bool</span> <a class="code" href="classGMSMap.html#a3">compactMunicipals</a>();
00113 
00122       <span class="keywordtype">bool</span> <a class="code" href="classGMSMap.html#a4">compactBuiltUpAreas</a>();
00123 
00145       <a class="code" href="Types_8h.html#a21">uint32</a> <a class="code" href="classGMSMap.html#a5">changeLocation</a>(uint32 oldLocation, uint32 newLocation,
00146                              ItemTypes::itemType locationType, 
00147                              <span class="keywordtype">bool</span> changeLocationItem = <span class="keyword">true</span>);
00148 
00157       <span class="keywordtype">bool</span> <a class="code" href="classGMSMap.html#a6">setMapGfxDataConvexHull</a>();
00158       
00162       <span class="keywordtype">void</span> <a class="code" href="classGMSMap.html#a7">generateStreetsFromStreetSegments</a>();
00163       
00164       <a class="code" href="classOldZipCodeItem.html">OldZipCodeItem</a>* <a class="code" href="classGMSMap.html#a8">findZipCodeItem</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* zipCode);
00165 
00179       <span class="keywordtype">bool</span> <a class="code" href="classGMSMap.html#a9">addSSIToZipCodesUsingGfx</a>();
00180 
00181       <a class="code" href="Types_8h.html#a21">uint32</a> <a class="code" href="classGMSMap.html#a10">createZipsFromGMSStreetSegmentItems</a>();
00182 
00183 
00192       <span class="keywordtype">bool</span> <a class="code" href="classGMSMap.html#a11">initTurnDescriptions</a>(uint32 itemID = MAX_UINT32);
00193 
00194       
00199       <a class="code" href="Types_8h.html#a21">uint32</a> <a class="code" href="classGMSMap.html#a12">setUndefiendLaneConnDirCat</a>();
00200 
00204       GMSLane::laneDirection_t 
00205          <a class="code" href="classGMSMap.html#a13">getLaneDirCatFromTurnDir</a>(ItemTypes::turndirection_t turnDirection,
00206                                   uint32 fromNodeID, uint32 toNodeID);
00207 
00212       <span class="keywordtype">bool</span> <a class="code" href="classGMSMap.html#a14">isRightExit</a>(uint32 fromNodeID, uint32 toNodeID);
00213 
00214       
00215 
00226       <a class="code" href="Types_8h.html#a21">uint32</a> <a class="code" href="classGMSMap.html#a15">changeZoomLevel</a>(<a class="code" href="classOldItem.html">OldItem</a>* item, uint32 zoomLevel);
00227 
00235       <span class="keywordtype">void</span> <a class="code" href="classGMSMap.html#a16">removeObjectsInZoomLevel</a>(uint32 zoomLevel);
00236 
00240       <span class="keywordtype">int</span> <a class="code" href="classGMSMap.html#a17">setCityPartLocation</a>();
00241       
00250       <span class="keywordtype">void</span> <a class="code" href="classGMSMap.html#a18">setAllItemLocation</a>(<span class="keywordtype">bool</span> onlyUpdateNonValid = <span class="keyword">false</span>);
00251         
00258       <span class="keywordtype">bool</span> <a class="code" href="classGMSMap.html#a19">updateLocation</a>(<a class="code" href="classOldBuiltUpAreaItem.html">OldBuiltUpAreaItem</a>* bua);
00259             
00274       <span class="keywordtype">bool</span> <a class="code" href="classGMSMap.html#a20">updateStreetLocationAll</a>(ItemTypes::itemType type);
00275 
00280       <span class="keywordtype">void</span> <a class="code" href="classGMSMap.html#a21">updateMunicipalArray</a>();
00281       
00293       <span class="keywordtype">bool</span> <a class="code" href="classGMSMap.html#a22">removeEmptyLocationItems</a>( ItemTypes::itemType itemType );
00294 
00295 
00304       <span class="keywordtype">bool</span> <a class="code" href="classGMSMap.html#a23">removeDuplicatedStreetNames</a>();
00305 
00314       <span class="keywordtype">bool</span> <a class="code" href="classGMSMap.html#a24">removeGroups</a>(ItemTypes::itemType itemType);
00315 
<a name="l00323"></a><a class="code" href="classGMSMap.html#a25">00323</a>       <span class="keywordtype">void</span> <a class="code" href="classGMSMap.html#a25">setMapID</a>(uint32 newMapID) {
00324          m_mapID = newMapID;
00325       }
00326       
00331       <span class="keywordtype">void</span> <a class="code" href="classGMSMap.html#a26">buildHashTable</a>();
00332 
<a name="l00337"></a><a class="code" href="classGMSMap.html#a27">00337</a>       <a class="code" href="Types_8h.html#a21">uint32</a> <a class="code" href="classGMSMap.html#a27">addItem</a>(<a class="code" href="classOldItem.html">OldItem</a>* item, uint32 zoomLevel) {
00338          <span class="keywordflow">return</span> (<a class="code" href="classOldGenericMap.html#a13">OldGenericMap::addItem</a>(<a class="code" href="RouteRequestData_8h.html#a3a1">item</a>, zoomLevel));
00339       }
00340 
<a name="l00345"></a><a class="code" href="classGMSMap.html#a28">00345</a>       <span class="keywordtype">bool</span> <a class="code" href="classGMSMap.html#a28">getAllItemsWithStringIndex</a>(uint32 stringIndex, Vector* result) {
00346          <span class="keywordflow">return</span> (<a class="code" href="classOldGenericMap.html#b12">OldMap::getAllItemsWithStringIndex</a>(stringIndex, result));
00347       }
00348 
<a name="l00353"></a><a class="code" href="classGMSMap.html#a29">00353</a>       <span class="keywordtype">void</span> <a class="code" href="classGMSMap.html#a29">setFilename</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* path) {
00354          <a class="code" href="classOldGenericMapHeader.html#b0">OldGenericMap::setFilename</a>(path);
00355       }
00356      
<a name="l00361"></a><a class="code" href="classGMSMap.html#a30">00361</a>       <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classGMSMap.html#a30">getFilename</a>()<span class="keyword"> const </span>{
00362          <span class="keywordflow">return</span> m_filename;
00363       }
00364       
00380       <span class="keywordtype">bool</span> <a class="code" href="classGMSMap.html#a31">addExtraItemsFromMap</a>(<a class="code" href="classOldGenericMap.html">OldGenericMap</a>* otherMap,
00381                                 set&lt;IDPair_t&gt;&amp; addedIDs,
00382                                 <span class="keywordtype">bool</span> addMunicipals = <span class="keyword">false</span>);
00383 
00396       <span class="keywordtype">void</span> <a class="code" href="classGMSMap.html#a32">addConnection</a>(<a class="code" href="classOldNode.html">OldNode</a>* curNode, 
00397                          <a class="code" href="classOldNode.html">OldNode</a>* otherNode, 
00398                          uint32 distOtherNode,
00399                          <a class="code" href="classmap.html">map&lt;uint32, uint32&gt;</a>* vtByNode = NULL);
00400 
00401 
<a name="l00408"></a><a class="code" href="classGMSMap.html#a33">00408</a>       <a class="code" href="classGMSItemNames.html">GMSItemNames</a>* <a class="code" href="classGMSMap.html#a33">getItemNames</a>() {
00409          <span class="keywordflow">return</span> dynamic_cast&lt;GMSItemNames*&gt;(m_itemNames);
00410       }
00411 
00412       
<a name="l00417"></a><a class="code" href="structGMSMap_1_1extdata__t.html">00417</a>       <span class="keyword">struct </span><a class="code" href="structGMSMap_1_1extdata__t.html">extdata_t</a> {
<a name="l00418"></a><a class="code" href="structGMSMap_1_1extdata__t.html#o0">00418</a>             <a class="code" href="Types_8h.html#a21">uint32</a> mapID;
<a name="l00419"></a><a class="code" href="structGMSMap_1_1extdata__t.html#o1">00419</a>             <a class="code" href="Types_8h.html#a21">uint32</a> nodeID;
<a name="l00420"></a><a class="code" href="structGMSMap_1_1extdata__t.html#o2">00420</a>             <a class="code" href="Types_8h.html#a22">int32</a> lat;
<a name="l00421"></a><a class="code" href="structGMSMap_1_1extdata__t.html#o3">00421</a>             <a class="code" href="Types_8h.html#a22">int32</a> lon;
<a name="l00422"></a><a class="code" href="structGMSMap_1_1extdata__t.html#o4">00422</a>             <a class="code" href="Types_8h.html#a27">float64</a> angle;
<a name="l00423"></a><a class="code" href="structGMSMap_1_1extdata__t.html#o5">00423</a>             <a class="code" href="Types_8h.html#a27">float64</a> endNodeAngle;
<a name="l00424"></a><a class="code" href="structGMSMap_1_1extdata__t.html#o6">00424</a>             <span class="keywordtype">bool</span> ramp;
<a name="l00425"></a><a class="code" href="structGMSMap_1_1extdata__t.html#o7">00425</a>             <span class="keywordtype">bool</span> roundabout;
<a name="l00426"></a><a class="code" href="structGMSMap_1_1extdata__t.html#o8">00426</a>             <span class="keywordtype">bool</span> multiDig;
<a name="l00427"></a><a class="code" href="structGMSMap_1_1extdata__t.html#o9">00427</a>             <a class="code" href="Types_8h.html#a25">byte</a> roadClass;
<a name="l00428"></a><a class="code" href="structGMSMap_1_1extdata__t.html#o10">00428</a>             ItemTypes::entryrestriction_t entryRestrictions;
<a name="l00429"></a><a class="code" href="structGMSMap_1_1extdata__t.html#o11">00429</a>             <a class="code" href="Types_8h.html#a18">int8</a> level;
<a name="l00430"></a><a class="code" href="structGMSMap_1_1extdata__t.html#o12">00430</a>             ItemTypes::itemType type;
00431       };
00432       
00433       <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classGMSMap.html#a34">createAllocators</a>();
00434 
00445       <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classGMSMap.html#a35">initNonItemAllocators</a>( uint32 nbrGfxDatas, 
00446                                           uint32 nbrGfxDataSingleSmallPoly,
00447                                           uint32 nbrGfxDataSingleLine, 
00448                                           uint32 nbrGfxDataSinglePoint,
00449                                           uint32 nbrGfxDataMultiplePoints, 
00450                                           uint32 nbrNodes, 
00451                                           uint32 nbrConnections );
00452 
00458       <a class="code" href="Types_8h.html#a21">uint32</a> <a class="code" href="classGMSMap.html#a36">updateNodeLevels</a>();
00459       
00467       <a class="code" href="Types_8h.html#a21">uint32</a> <a class="code" href="classGMSMap.html#a37">updateMunicipalNames</a>();
00468        
00475       <a class="code" href="Types_8h.html#a21">uint32</a> <a class="code" href="classGMSMap.html#a38">setNamesOnNoNameBuas</a>();
00476        
00489       <a class="code" href="Types_8h.html#a21">uint32</a> <a class="code" href="classGMSMap.html#a39">removeNoNameBuasInNoNameMunicipals</a>();
00490 
00497       <a class="code" href="Types_8h.html#a21">uint32</a> <a class="code" href="classGMSMap.html#a40">removeNoNameCityParts</a>();
00498 
00499 
00525       <span class="keywordtype">bool</span> <a class="code" href="classGMSMap.html#a41">mergeSameNameAdminAreas</a>( ItemTypes::itemType itemType,
00526                                     uint32 maxMergeDist, 
00527                                     <span class="keywordtype">bool</span> updateLocation = <span class="keyword">false</span>,
00528                                     <span class="keywordtype">bool</span> simplifyMergedGfxs = <span class="keyword">false</span> );
00529       
00537       <span class="keywordtype">bool</span> <a class="code" href="classGMSMap.html#a42">extendAbbreviations</a>( ItemTypes::itemType type );
00538       
00547       <a class="code" href="Types_8h.html#a21">uint32</a> <a class="code" href="classGMSMap.html#a43">addToBoundary</a>( uint32 nodeID );
00548 
00559       <a class="code" href="Types_8h.html#a21">uint32</a> <a class="code" href="classGMSMap.html#a44">addToBoundaryNoConn</a>( uint32 nodeID );
00560 
00566       <a class="code" href="Types_8h.html#a21">uint32</a> <a class="code" href="classGMSMap.html#a45">removeConnsWithDiffLevel</a>();
00567 
00578       <a class="code" href="Types_8h.html#a21">uint32</a> <a class="code" href="classGMSMap.html#a46">updateForeignBuaNames</a>();
00579 
00592       <a class="code" href="Types_8h.html#a21">uint32</a> <a class="code" href="classGMSMap.html#a47">updateCongestionSpeedLimits</a>();
00593       
00603       <a class="code" href="Types_8h.html#a21">uint32</a> <a class="code" href="classGMSMap.html#a48">updateMetropolitanBuaMunLoc</a>();      
00604       
00617       <a class="code" href="Types_8h.html#a21">uint32</a> <a class="code" href="classGMSMap.html#a49">getMultiConnsFromNode</a>( uint32 fromNodeID, 
00618                                     list&lt;uint32&gt;&amp; toNodes );
00619       
00628       <span class="keywordtype">bool</span> <a class="code" href="classGMSMap.html#a50">isPartOfMultiConnection</a>( uint32 firstNodeID,
00629                                     uint32 secondNodeID );
00630 
00631 
00632 
00647       <span class="keywordtype">void</span> <a class="code" href="classGMSMap.html#a51">addMultiConnection</a>( uint32 firstMultiNodeID,
00648                                <a class="code" href="classOldNode.html">OldNode</a>* lastMultiNode,
00649                                <span class="keyword">const</span> list&lt;uint32&gt;&amp; expandedNodeIDs,
00650                                uint32 vehicleRestriction,
00651                                ItemTypes::turndirection_t turnDirection);
00659       <span class="keywordtype">bool</span> <a class="code" href="classGMSMap.html#a52">getGDFRef</a>(<a class="code" href="classGDFRef.html">GDFRef</a>&amp; gdfRef);
00660 
00661 
00678       <span class="keywordtype">bool</span> <a class="code" href="classGMSMap.html#a53">addZipsFromZipPOIFile</a>( <a class="code" href="classZipSideFile.html">ZipSideFile</a> zipSideFile,
00679                                   <a class="code" href="classMC2String.html">MC2String</a> sectionedZipsPath );
00680 
00695       <span class="keywordtype">bool</span> <a class="code" href="classGMSMap.html#a54">addZipFromName</a>(<a class="code" href="classOldItem.html">OldItem</a>* item, <a class="code" href="classMC2String.html">MC2String</a> zipCodeName );
00696       
00697 
00702       <span class="keywordtype">void</span> <a class="code" href="classGMSMap.html#a55">setZipGfxDataFromAdminCenters</a>();
00703 
00707       <a class="code" href="Types_8h.html#a21">uint32</a> <a class="code" href="classGMSMap.html#a56">setZipForSSIs</a>();
00708       
00709 
00717       <a class="code" href="Types_8h.html#a21">uint32</a> <a class="code" href="classGMSMap.html#a57">removeShorterZipCodes</a>(uint32 minLength);
00718       
00719 
00725       <a class="code" href="Types_8h.html#a21">uint32</a> <a class="code" href="classGMSMap.html#a58">removeNonNumericZipCodeNames</a>();
00726 
00735       <a class="code" href="Types_8h.html#a21">uint32</a> <a class="code" href="classGMSMap.html#a59">changeGroupOfItems</a>(uint32 origGroupItemID, 
00736                                 uint32 newGroupItemID);
00737       
00738 
00743 
00744       <span class="keywordtype">bool</span> <a class="code" href="classGMSMap.html#z305_0">validateIndexAreaOrderTable</a>() <span class="keyword">const</span>;
00745 
00753       <a class="code" href="Types_8h.html#a21">uint32</a> <a class="code" href="classGMSMap.html#z305_1">removeNonSearchIdxGroups</a>();
00754       
00763       <span class="keywordtype">bool</span> <a class="code" href="classGMSMap.html#z305_2">finishIndexAreas</a>();
00765 
00770       <span class="keywordtype">void</span> <a class="code" href="classGMSMap.html#a60">computeAreaFeatureDrawDisplayClasses</a>();
00771 
00772  <span class="keyword">protected</span>:
00773 
<a name="l00774"></a><a class="code" href="classGMSMap.html#x0">00774</a>       <span class="keyword">typedef</span> <a class="code" href="classmap.html">map&lt;MC2String, OldZipCodeItem*&gt;</a> <a class="code" href="classmap.html">zipByName_t</a>;
00775 
<a name="l00777"></a><a class="code" href="classGMSMap.html#p0">00777</a>       <a class="code" href="classmap.html">zipByName_t</a> m_zipByName;
00778 
<a name="l00785"></a><a class="code" href="classGMSMap.html#p1">00785</a>       Vector* m_itemsFromExtraItemMap;
00786 
00787 
00800       <a class="code" href="classOldRouteableItem.html">OldRouteableItem</a>* <a class="code" href="classGMSMap.html#b0">createVirtualItem</a>(  <a class="code" href="classOldRouteableItem.html">OldRouteableItem</a>* rItem, 
00801                                        OldBoundrySegment::closeNode_t
00802                                        closeNodeVal );
00803       
00811       <a class="code" href="Types_8h.html#a21">uint32</a> <a class="code" href="classGMSMap.html#b1">mergeStreetsWithSameSSIs</a>();
00812 
00814       <span class="keywordtype">bool</span> <a class="code" href="classGMSMap.html#b2">itemsShareNameStrIdx</a>(<a class="code" href="classOldItem.html">OldItem</a>* firstItem, <a class="code" href="classOldItem.html">OldItem</a>* secondItem);
00815 
00838       <span class="keywordtype">bool</span> <a class="code" href="classGMSMap.html#b3">addIndexGroupToItem</a>(<a class="code" href="classOldItem.html">OldItem</a>* item, 
00839                                pair&lt;MC2String, MC2String&gt; indexPost,
00840                                <a class="code" href="classmap.html">map</a>&lt; pair&lt;MC2String, MC2String&gt;, uint32&gt;&amp;
00841                                groupIDsByIndex,
00842                                <span class="keywordtype">bool</span> onlySearchable = <span class="keyword">false</span> );
00843 
00844    <span class="keyword">private</span>:
00845       
00846 
00861       <a class="code" href="classGMSMap.html#d0">GMSMap</a>(uint32 mapID, <span class="keyword">const</span> <span class="keywordtype">char</span>* path);
00862 
00873       <a class="code" href="Types_8h.html#a21">uint32</a> <a class="code" href="classGMSMap.html#d1">updateBUANamesFromMun</a>(<a class="code" href="classOldBuiltUpAreaItem.html">OldBuiltUpAreaItem</a>* bua, <a class="code" href="classOldMunicipalItem.html">OldMunicipalItem</a>* mun);
00874 
00892          <span class="keyword">virtual</span> <a class="code" href="classOldItem.html">OldItem</a>* <a class="code" href="classGMSMap.html#z307_0">createNewItem</a>(<a class="code" href="classDataBuffer.html">DataBuffer</a>* dataBuffer);
00893 
00902          <span class="keyword">virtual</span> <a class="code" href="classOldConnection.html">OldConnection</a>* <a class="code" href="classGMSMap.html#z307_1">createNewConnection</a>(<a class="code" href="classDataBuffer.html">DataBuffer</a>* dataBuffer);
00903          
00910          <a class="code" href="classGMSGfxData.html">GMSGfxData</a>* <a class="code" href="classGMSMap.html#z307_2">createNewGfxData</a>(<a class="code" href="classDataBuffer.html">DataBuffer</a>* dataBuffer);
00912 
00913 
00914 
<a name="l00918"></a><a class="code" href="classGMSMap.html#y0">00918</a>       <span class="keyword">typedef</span> set&lt;uint32&gt; u32set;
00919 
<a name="l00923"></a><a class="code" href="classGMSMap.html#y1">00923</a>       <span class="keyword">typedef</span> <a class="code" href="classmap.html">map&lt;uint32, uint32&gt;</a> <a class="code" href="classmap.html">u32map</a>;
00924       
<a name="l00928"></a><a class="code" href="classGMSMap.html#y2">00928</a>       <span class="keyword">typedef</span> multimap&lt;uint32, uint32&gt; u32mmap;
00929 
00948          <a class="code" href="Types_8h.html#a21">uint32</a> <a class="code" href="classGMSMap.html#z309_0">splitStreets</a>(<a class="code" href="classGMSStreetItem.html">GMSStreetItem</a>* street, 
00949                              <a class="code" href="classvector.html">vector&lt;u32set&gt;</a>&amp; theSplitStreets);
00950          
00951 
00967          <span class="keywordtype">bool</span> <a class="code" href="classGMSMap.html#z309_1">mergeStreets</a>(<a class="code" href="classvector.html">vector&lt;u32set&gt;</a>&amp; theSplitStreets); 
00968 
00969          
00981          <span class="keywordtype">bool</span> <a class="code" href="classGMSMap.html#z309_2">mergeStreetsOnLine</a>( <a class="code" href="classvector.html">vector&lt;u32set&gt;</a>&amp; theSplitStreets );
00982          
00993          <span class="keywordtype">bool</span> <a class="code" href="classGMSMap.html#z309_3">sameStreet</a>( uint32 firstNodeID, uint32 secondNodeID );
00994          
01006          <span class="keywordtype">void</span> <a class="code" href="classGMSMap.html#z309_4">sortStreetOrder</a>(<a class="code" href="classGMSStreetItem.html">GMSStreetItem</a>* street, 
01007                               u32set&amp; ssiIDs, 
01008                               u32mmap&amp; sortedSSIIDs);
01009          
01011       
01012 
01013 
<a name="l01018"></a><a class="code" href="classGMSMap.html#v0">01018</a>       <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="Types_8h.html#a21">uint32</a> <a class="code" href="classGMSMap.html#v0">UNUSED</a> = 0xffffffff;
01019 
01027 
<a name="l01028"></a><a class="code" href="classGMSMap.html#z311_0">01028</a>          <a class="code" href="Types_8h.html#a21">uint32</a> municipalOffset;
01029 
<a name="l01031"></a><a class="code" href="classGMSMap.html#z311_1">01031</a>          <a class="code" href="Types_8h.html#a21">uint32</a> *municipalVector;
01033 
01043       <span class="keywordtype">void</span> <a class="code" href="classGMSMap.html#d2">setTurnDescriptions</a>(<a class="code" href="classOldNode.html">OldNode</a>* node, <a class="code" href="classGfxData.html">GfxData</a>* gfx);
01044       
01045 
01061       <span class="keywordtype">bool</span> <a class="code" href="classGMSMap.html#z313_0">addVirtualToMatchExtraItem</a>( <a class="code" href="classOldGenericMap.html">OldGenericMap</a>* otherMap,
01062                                        <a class="code" href="classOldItem.html">OldItem</a>* otherItem );
01081       <span class="keywordtype">bool</span> <a class="code" href="classGMSMap.html#z313_1">addExternalItemToMap</a>(<a class="code" href="classOldGenericMap.html">OldGenericMap</a>* externalMap,
01082                                 <a class="code" href="classOldItem.html">OldItem</a>* externalItem,
01083                                 set&lt;IDPair_t&gt;&amp; addedIDs,
01084                                 <span class="keywordtype">bool</span> parseOnly = <span class="keyword">false</span>);
01085       
01089       <span class="keywordtype">void</span> <a class="code" href="classGMSMap.html#z313_2">internalAddExtItem</a>( <a class="code" href="classOldItem.html">OldItem</a>* externalItem, 
01090                                <a class="code" href="classOldGenericMap.html">OldGenericMap</a>* externalMap, 
01091                                set&lt;IDPair_t&gt;&amp; addedIDs,
01092                                <span class="keywordtype">bool</span> onlyConnectToFerries );
01093       
01100       <span class="keywordtype">bool</span> <a class="code" href="classGMSMap.html#z313_3">itemExists</a>(<a class="code" href="classOldItem.html">OldItem</a>* item);
01101       
<a name="l01102"></a><a class="code" href="classGMSMap.html#z313_5">01102</a>       <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classGMSMidMifHandler.html">GMSMidMifHandler</a>;
01131       <span class="keywordtype">bool</span> <a class="code" href="classGMSMap.html#z313_4">updateConnections</a>(<a class="code" href="classOldRouteableItem.html">OldRouteableItem</a>* item,
01132                              <span class="keywordtype">bool</span> fakeUpdate = <span class="keyword">false</span>,
01133                              uint32 maxDist = 2, 
01134                              <span class="keywordtype">bool</span> itemIsForeign = <span class="keyword">false</span>,
01135                              <span class="keywordtype">bool</span> onlyConnectToFerries = <span class="keyword">false</span>);
01137       
01138       
01139      
<a name="l01143"></a><a class="code" href="structGMSMap_1_1congestionInfo__t.html">01143</a>       <span class="keyword">struct </span><a class="code" href="structGMSMap_1_1congestionInfo__t.html">congestionInfo_t</a> {
<a name="l01147"></a><a class="code" href="structGMSMap_1_1congestionInfo__t.html#o0">01147</a>          <a class="code" href="Types_8h.html#a27">float64</a> m_percentOfMaxSpeedInCC;
01148 
<a name="l01150"></a><a class="code" href="structGMSMap_1_1congestionInfo__t.html#o1">01150</a>          <a class="code" href="Types_8h.html#a27">float64</a> m_sqCongestionRadiusMeter;
01151          
<a name="l01153"></a><a class="code" href="structGMSMap_1_1congestionInfo__t.html#o2">01153</a>          <a class="code" href="classMC2Coordinate.html">MC2Coordinate</a> m_ccCoord;
01154       };
01155       
01156 
01157       
01167       <span class="keywordtype">void</span> <a class="code" href="classGMSMap.html#d3">setItemLocation</a>(ItemTypes::itemType type,
01168                            <span class="keywordtype">bool</span> onlyUpdateNonValid = <span class="keyword">false</span>);
01169       
01191       <a class="code" href="Types_8h.html#a21">uint32</a> <a class="code" href="classGMSMap.html#d4">calcRegionStats</a>( <a class="code" href="classOldItem.html">OldItem</a>* item, 
01192                               <a class="code" href="classmap.html">map&lt;uint32, uint32&gt;</a>&amp; regionByNbrOccasions,
01193                               ItemTypes::itemType type );
01194 
01199       
01204       <a class="code" href="Types_8h.html#a21">uint32</a> <a class="code" href="classGMSMap.html#z315_0">setIdxAreaGeometryConvexHull</a>();
01205 
01212       <span class="keywordtype">bool</span> <a class="code" href="classGMSMap.html#z315_1">customizeIndexAreaHierarchies</a>();
01213       
01214 
01227       <span class="keyword">static</span> <a class="code" href="Types_8h.html#a21">uint32</a> <a class="code" href="classGMSMap.html#z315_2">getMostDetailedIndexArea</a>(
01228                   <a class="code" href="classvector.html">vector&lt;OldItem*&gt;</a> indexAreaItems, 
01229                   multimap&lt;uint32,uint32&gt; indexAreasBasedOnOrder,
01230                   set&lt;uint32&gt; indexAreaOrders );
01231 
01233 
01234       
01235       
01243       
01244       <span class="comment">/*</span>
01245 <span class="comment">      *     Def. of map between item id and corresponding pre-computed</span>
01246 <span class="comment">      *     bounding box</span>
01247 <span class="comment">      */</span>      
<a name="l01248"></a><a class="code" href="classGMSMap.html#z317_0">01248</a>       <span class="keyword">typedef</span> <a class="code" href="classmap.html">map&lt;uint32, MC2BoundingBox&gt;</a> <a class="code" href="classmap.html">mapItemIdToBB_t</a>;
01249 
<a name="l01254"></a><a class="code" href="classGMSMap.html#z317_1">01254</a>       <span class="keyword">typedef</span> multimap&lt;ItemTypes::itemType, OldItem*&gt; mapTypeToItemId_t;
01255 
01260       <span class="keywordtype">void</span> <a class="code" href="classGMSMap.html#z317_2">areaFeatureDrawDisplayClassesInit</a>(<a class="code" href="classmap.html">mapItemIdToBB_t</a>&amp;
01261                                                 mapItemIdToBB,
01262                                              mapTypeToItemId_t&amp; 
01263                                                 mapTypeToItem );
01264 
01265 
01318       <span class="keywordtype">void</span> <a class="code" href="classGMSMap.html#z317_3">itemInItemToDisplayClass</a>( 
01319                ItemTypes::areaFeatureDrawDisplayClass_t displayClass,
01320                uint32 interiorItemMaxLength,
01321                uint32 exteriorItemMinLength,
01322                <span class="keywordtype">bool</span> compareIntWithExt,
01323                <span class="keywordtype">float</span> quotaRequired,
01324                mapTypeToItemId_t* interiorItemsToUse,
01325                mapTypeToItemId_t* exteriorItemsToUse,
01326                <a class="code" href="classmap.html">mapItemIdToBB_t</a> mapItemIdToBB,
01327                mapTypeToItemId_t mapTypeToItemId,
01328                mapTypeToItemId_t* foundInteriorItems );
01329                                               
01331 };
01332 
01333 <span class="preprocessor">#endif</span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Wed Jun 30 10:11:47 2010 for mc2 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.3.9.1 </small></address>
</body>
</html>
