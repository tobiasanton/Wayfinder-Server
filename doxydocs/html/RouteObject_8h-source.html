<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>mc2: RouteObject.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.9.1 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<div class="nav">
<a class="el" href="dir_000002.html">Server</a>&nbsp;/&nbsp;<a class="el" href="dir_000003.html">Servers</a>&nbsp;/&nbsp;<a class="el" href="dir_000004.html">include</a></div>
<h1>RouteObject.h</h1><a href="RouteObject_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment">00001 <span class="comment">/*</span>
00002 <span class="comment">Copyright (c) 1999 - 2010, Vodafone Group Services Ltd</span>
00003 <span class="comment">All rights reserved.</span>
00004 <span class="comment"></span>
00005 <span class="comment">Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</span>
00006 <span class="comment"></span>
00007 <span class="comment">    * Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</span>
00008 <span class="comment">    * Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</span>
00009 <span class="comment">    * Neither the name of the Vodafone Group Services Ltd nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.</span>
00010 <span class="comment"></span>
00011 <span class="comment">THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span>
00012 <span class="comment">*/</span>
00013 
00014 <span class="preprocessor">#ifndef ROUTE_OBJECT_H</span>
00015 <span class="preprocessor"></span><span class="preprocessor">#define ROUTE_OBJECT_H</span>
00016 <span class="preprocessor"></span>
00017 <span class="preprocessor">#include "<a class="code" href="config_8h.html">config.h</a>"</span>
00018 
00019 <span class="preprocessor">#include "<a class="code" href="Request_8h.html">Request.h</a>"</span>
00020 <span class="preprocessor">#include "<a class="code" href="RoutePacket_8h.html">RoutePacket.h</a>"</span>
00021 <span class="preprocessor">#include "<a class="code" href="CoordinateOnItemPacket_8h.html">CoordinateOnItemPacket.h</a>"</span>
00022 <span class="preprocessor">#include "<a class="code" href="RouteExpandItemPacket_8h.html">RouteExpandItemPacket.h</a>"</span>
00023 <span class="preprocessor">#include "<a class="code" href="ExpandRoutePacket_8h.html">ExpandRoutePacket.h</a>"</span>
00024 <span class="preprocessor">#include "<a class="code" href="CoordinatePacket_8h.html">CoordinatePacket.h</a>"</span>
00025 <span class="preprocessor">#include "<a class="code" href="Types_8h.html">Types.h</a>"</span>
00026 <span class="preprocessor">#include "<a class="code" href="StringTable_8h.html">StringTable.h</a>"</span>
00027 <span class="preprocessor">#include "<a class="code" href="PacketContainer_8h.html">PacketContainer.h</a>"</span>
00028 <span class="preprocessor">#include "<a class="code" href="PacketContainerTree_8h.html">PacketContainerTree.h</a>"</span>
00029 <span class="preprocessor">#include "<a class="code" href="Vector_8h.html">Vector.h</a>"</span>
00030 <span class="preprocessor">#include "<a class="code" href="RouteExpander_8h.html">RouteExpander.h</a>"</span>
00031 <span class="preprocessor">#include "<a class="code" href="ItemNamesPacket_8h.html">ItemNamesPacket.h</a>"</span>
00032 <span class="preprocessor">#include "<a class="code" href="CoordinateObject_8h.html">CoordinateObject.h</a>"</span>
00033 <span class="preprocessor">#include "<a class="code" href="DriverPref_8h.html">DriverPref.h</a>"</span>
00034 <span class="preprocessor">#include "<a class="code" href="OrigDestInfo_8h.html">OrigDestInfo.h</a>"</span>
00035 
00036 <span class="keyword">class </span><a class="code" href="classRouteSender.html">RouteSender</a>;                   <span class="comment">// forward decl</span>
00037 <span class="keyword">class </span><a class="code" href="classDisturbanceList.html">DisturbanceList</a>;              <span class="comment">// forward decl</span>
00038 <span class="keyword">class </span><a class="code" href="classOrigDestInfoList.html">OrigDestInfoList</a>;            <span class="comment">// forward decl</span>
00039 <span class="keyword">class </span><a class="code" href="classServerSubRouteVectorVector.html">ServerSubRouteVectorVector</a>; <span class="comment">// forward decl</span>
00040 <span class="keyword">class </span><a class="code" href="classRoutingInfo.html">RoutingInfo</a>;               <span class="comment">// forward decl</span>
00041 <span class="keyword">class </span><a class="code" href="classRouteAllowedMap.html">RouteAllowedMap</a>;          <span class="comment">// forward decl</span>
00042 <span class="keyword">class </span><a class="code" href="classUnexpandedRoute.html">UnexpandedRoute</a>;         <span class="comment">// forward decl</span>
00043 <span class="keyword">class </span><a class="code" href="classTopRegionRequest.html">TopRegionRequest</a>;
00044 <span class="keyword">class </span><a class="code" href="classRequestUserData.html">RequestUserData</a>;
00045 
00046 
<a name="l00053"></a><a class="code" href="classRouteObject.html">00053</a> <span class="keyword">class </span><a class="code" href="classRouteObject.html">RouteObject</a> {
00054    <span class="keyword">public</span>:
00055 
00071       <a class="code" href="classRouteObject.html">RouteObject</a>( <span class="keyword">const</span> <a class="code" href="classRequestUserData.html">RequestUserData</a>&amp; user,
00072                    <a class="code" href="classRequest.html">Request</a>* req,
00073                    <a class="code" href="Types_8h.html#a21">uint32</a> expandType,
00074                    StringTable::languageCode language,
00075                    <span class="keywordtype">bool</span> noConcatenate,
00076                    <a class="code" href="Types_8h.html#a21">uint32</a> passedRoads,
00077                    <span class="keyword">const</span> <a class="code" href="classTopRegionRequest.html">TopRegionRequest</a>* topReq,
00078                    <span class="keywordtype">bool</span> abbreviate = <span class="keyword">true</span>,
00079                    <span class="keyword">const</span> <a class="code" href="classDisturbanceList.html">DisturbanceList</a>* disturbances = NULL,
00080                    <a class="code" href="Types_8h.html#a21">uint32</a> nbrWantedRoutes = <a class="code" href="Types_8h.html#a4">MAX_UINT32</a>,
00081                    <span class="keywordtype">bool</span> removeAheadIfDiff = <span class="keyword">false</span>,
00082                    <span class="keywordtype">bool</span> nameChangeAsWP = <span class="keyword">false</span>);
00083 
00087       <span class="keyword">virtual</span> ~<a class="code" href="classRouteObject.html">RouteObject</a>();
00088 
00095       <span class="keywordtype">bool</span> <a class="code" href="namespaceSTLUtility.html#a31">operator == </a>( <span class="keyword">const</span> <a class="code" href="classRouteObject.html">RouteObject</a> &amp;other ) <span class="keyword">const</span>;
00096 
00103       <a class="code" href="classPacketContainer.html">PacketContainer</a>* <a class="code" href="namespaceRequestTime.html#a8a1">getNextPacket</a>();
00104 
00109       <span class="keywordtype">void</span> <a class="code" href="namespaceRequestTime.html#a8a2">processPacket</a>( <span class="keyword">const</span> <a class="code" href="classPacketContainer.html">PacketContainer</a>* pack );
00110 
00116       <a class="code" href="classPacketContainer.html">PacketContainer</a>* getAnswer();
00117 
00127       <a class="code" href="classServerSubRouteVectorVector.html">ServerSubRouteVectorVector</a>* getRoute(<span class="keywordtype">bool</span> steal = <span class="keyword">false</span>);
00128 
00134       <a class="code" href="classUnexpandedRoute.html">UnexpandedRoute</a>* getUnexpandedRoute(<span class="keywordtype">bool</span> steal = <span class="keyword">false</span>);
00135 
00141       <span class="keywordtype">void</span> setAbbreviate(<span class="keywordtype">bool</span> abbreviate);
00142 
00148       <span class="keywordtype">void</span> setLandmarks( <span class="keywordtype">bool</span> landmarks );
00149 
00155       <span class="keywordtype">void</span> setRemoveAheadIfDiff( <span class="keywordtype">bool</span> removeAheadIfDiff);
00156 
00161       <span class="keywordtype">void</span> setNameChangeAsWP( <span class="keywordtype">bool</span> nameChangeAsWP);
00162 
00163       
00164 
00183       <span class="keyword">inline</span> <span class="keywordtype">void</span> setRouteParameters(<span class="keywordtype">bool</span>   pIsStartTime,
00184                                      <a class="code" href="Types_8h.html#a25">byte</a>   pRouteType,
00185                                      <a class="code" href="Types_8h.html#a25">byte</a>   pCostA,
00186                                      <a class="code" href="Types_8h.html#a25">byte</a>   pCostB,
00187                                      <a class="code" href="Types_8h.html#a25">byte</a>   pCostC,
00188                                      <a class="code" href="Types_8h.html#a25">byte</a>   pCostD,
00189                                      <a class="code" href="Types_8h.html#a21">uint32</a> pVehicleParam,
00190                                      <a class="code" href="Types_8h.html#a21">uint32</a> pTime,
00191                                      <a class="code" href="Types_8h.html#a21">uint32</a> pTurnCost,
00192                                      <span class="keywordtype">bool</span> avoidTollRoads,
00193                                      <span class="keywordtype">bool</span> avoidHighways);
00194 
00199       <span class="keyword">inline</span> <span class="keywordtype">void</span> getRouteParameters( <span class="keywordtype">bool</span>&amp;   pIsStartTime,
00200                                       <a class="code" href="Types_8h.html#a25">byte</a>&amp;   pRouteType,
00201                                       <a class="code" href="Types_8h.html#a25">byte</a>&amp;   pCostA,
00202                                       <a class="code" href="Types_8h.html#a25">byte</a>&amp;   pCostB,
00203                                       <a class="code" href="Types_8h.html#a25">byte</a>&amp;   pCostC,
00204                                       <a class="code" href="Types_8h.html#a25">byte</a>&amp;   pCostD,
00205                                       <a class="code" href="Types_8h.html#a21">uint32</a>&amp; pVehicleParam,
00206                                       <a class="code" href="Types_8h.html#a21">uint32</a>&amp; pTime,
00207                                       <a class="code" href="Types_8h.html#a21">uint32</a>&amp; pTurnCost ) <span class="keyword">const</span>;
00208 
00209       
00227          <span class="keyword">inline</span> <span class="keywordtype">int</span> addOriginID(<a class="code" href="Types_8h.html#a21">uint32</a>  mapID,
00228                                 <a class="code" href="Types_8h.html#a21">uint32</a>  itemID, 
00229                                 <a class="code" href="Types_8h.html#a19">uint16</a>  offset = 0);
00230 
00245          <span class="keyword">inline</span> <span class="keywordtype">int</span> addOriginCoord(<a class="code" href="Types_8h.html#a22">int32</a>   lat,
00246                                    <a class="code" href="Types_8h.html#a22">int32</a>   lon, 
00247                                    <a class="code" href="Types_8h.html#a19">uint16</a>  angle = <a class="code" href="Types_8h.html#a2">MAX_UINT16</a>);
00248 
00262          <span class="keyword">inline</span> <span class="keywordtype">int</span> addOrigin(<a class="code" href="Types_8h.html#a21">uint32</a>  mapID,
00263                               <a class="code" href="Types_8h.html#a21">uint32</a>  itemID,
00264                               <a class="code" href="Types_8h.html#a19">uint16</a>  offset,
00265                               <a class="code" href="Types_8h.html#a22">int32</a>   lat,
00266                               <a class="code" href="Types_8h.html#a22">int32</a>   lon);
00272          <span class="keyword">inline</span> <span class="keywordtype">int</span> addOrigin(<span class="keyword">const</span> <a class="code" href="classOrigDestInfo.html">OrigDestInfo</a>&amp; orig);
00273          
00275 
00280       <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a21">uint32</a> getNbrOrigin() <span class="keyword">const</span>;
00281 
00282 
00298       <span class="keyword">inline</span> <span class="keywordtype">void</span> getOrigin( <a class="code" href="Types_8h.html#a21">uint32</a> i,
00299                              <a class="code" href="Types_8h.html#a21">uint32</a>&amp; mapID, <a class="code" href="Types_8h.html#a21">uint32</a>&amp; itemID, 
00300                              <a class="code" href="Types_8h.html#a19">uint16</a>&amp; offset, <a class="code" href="Types_8h.html#a22">int32</a>&amp; lat, 
00301                              <a class="code" href="Types_8h.html#a22">int32</a>&amp; lon ) <span class="keyword">const</span>;
00302 
00307       <a class="code" href="Types_8h.html#a19">uint16</a> getOriginAngle() <span class="keyword">const</span>;
00308 
00326          <span class="keyword">inline</span> <span class="keywordtype">int</span> addDestinationID(<a class="code" href="Types_8h.html#a21">uint32</a> mapID, <a class="code" href="Types_8h.html#a21">uint32</a> itemID, 
00327                                      <a class="code" href="Types_8h.html#a19">uint16</a> offset = 0);
00328 
00337          <span class="keyword">inline</span> <span class="keywordtype">int</span> addDestinationCoord(<a class="code" href="Types_8h.html#a22">int32</a> lat, <a class="code" href="Types_8h.html#a22">int32</a> lon);
00338 
00352          <span class="keyword">inline</span> <span class="keywordtype">int</span> addDestination(<a class="code" href="Types_8h.html#a21">uint32</a> mapID, <a class="code" href="Types_8h.html#a21">uint32</a> itemID, 
00353                                    <a class="code" href="Types_8h.html#a19">uint16</a> offset,
00354                                    <a class="code" href="Types_8h.html#a22">int32</a> lat, <a class="code" href="Types_8h.html#a22">int32</a> lon);
00356 
00361       <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a21">uint32</a> getNbrDestination() <span class="keyword">const</span>;
00362 
00378       <span class="keyword">inline</span> <span class="keywordtype">void</span> getDestination( <a class="code" href="Types_8h.html#a21">uint32</a> i,
00379                                   <a class="code" href="Types_8h.html#a21">uint32</a>&amp; mapID, <a class="code" href="Types_8h.html#a21">uint32</a>&amp; itemID, 
00380                                   <a class="code" href="Types_8h.html#a19">uint16</a>&amp; offset, <a class="code" href="Types_8h.html#a22">int32</a>&amp; lat, 
00381                                   <a class="code" href="Types_8h.html#a22">int32</a>&amp; lon ) <span class="keyword">const</span>;
00382 
00387       <span class="keyword">inline</span> <span class="keywordtype">bool</span> getDone();
00388 
00392       <span class="keyword">inline</span> <span class="keywordtype">bool</span> requestDone();
00393 
00402       <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="classRouteReplyPacket.html">RouteReplyPacket</a>* getRouteReplyPacket();
00403       
00419          <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a21">uint32</a> getNbrValidOrigins() <span class="keyword">const</span>;
00420 
00425          <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a21">uint32</a> getNbrValidDestinations() <span class="keyword">const</span>;
00427 
00455          <span class="keyword">inline</span> <span class="keywordtype">bool</span> getValidOrigin(<a class="code" href="Types_8h.html#a21">uint32</a> i, 
00456                                     <a class="code" href="Types_8h.html#a21">uint32</a>&amp; mapID, 
00457                                     <a class="code" href="Types_8h.html#a21">uint32</a>&amp; itemID,
00458                                     <a class="code" href="Types_8h.html#a22">int32</a>&amp; lat,
00459                                     <a class="code" href="Types_8h.html#a22">int32</a>&amp; lon,
00460                                     <span class="keyword">const</span> <span class="keywordtype">char</span>*&amp; name,
00461                                     ItemTypes::itemType&amp; type);
00462          
00485          <span class="keyword">inline</span> <span class="keywordtype">bool</span> getValidDestination(<a class="code" href="Types_8h.html#a21">uint32</a> i, 
00486                                          <a class="code" href="Types_8h.html#a21">uint32</a>&amp; mapID, 
00487                                          <a class="code" href="Types_8h.html#a21">uint32</a>&amp; itemID,
00488                                          <a class="code" href="Types_8h.html#a22">int32</a>&amp; lat,
00489                                          <a class="code" href="Types_8h.html#a22">int32</a>&amp; lon,
00490                                          <span class="keyword">const</span> <span class="keywordtype">char</span>*&amp; name,
00491                                          ItemTypes::itemType&amp; type);
00493 
00494 
00495    
00496 
00502    <span class="keywordtype">int</span> getOriginalOrigOrDestIndex(<span class="keywordtype">bool</span> dest) <span class="keyword">const</span>;
00503    
00504    
00519          <span class="keyword">inline</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* getRouteOriginName() <span class="keyword">const</span>;
00520 
00531          <span class="keyword">inline</span> <span class="keywordtype">bool</span> getRouteOriginCoord(<a class="code" href="Types_8h.html#a22">int32</a>&amp; lat, <a class="code" href="Types_8h.html#a22">int32</a>&amp; lon) <span class="keyword">const</span>;
00532     
00547          <span class="keyword">inline</span> <span class="keywordtype">void</span> getRouteOrigin( <a class="code" href="Types_8h.html#a21">uint32</a>&amp; mapID, 
00548                                      <a class="code" href="Types_8h.html#a21">uint32</a>&amp; itemID,
00549                                      <a class="code" href="Types_8h.html#a19">uint16</a>&amp; offset,
00550                                      <span class="keyword">const</span> <span class="keywordtype">char</span>*&amp; name ) <span class="keyword">const</span>;
00551 
00559          <span class="keyword">inline</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* getRouteDestinationName() <span class="keyword">const</span>;
00560 
00571          <span class="keyword">inline</span> <span class="keywordtype">bool</span> getRouteDestinationCoord(<a class="code" href="Types_8h.html#a22">int32</a> &amp;lat, <a class="code" href="Types_8h.html#a22">int32</a> &amp;lon) <span class="keyword">const</span>;
00572          
00588           <span class="keyword">inline</span> <span class="keywordtype">void</span> getRouteDestination(<a class="code" href="Types_8h.html#a21">uint32</a>&amp; mapID, 
00589                                           <a class="code" href="Types_8h.html#a21">uint32</a>&amp; itemID,
00590                                           <a class="code" href="Types_8h.html#a19">uint16</a>&amp; offset,
00591                                           <span class="keyword">const</span> <span class="keywordtype">char</span>*&amp; name ) <span class="keyword">const</span>;
00593       
00606           <span class="keyword">inline</span> ItemTypes::routedir_nbr_t getStartDirectionHousenumber();
00607 
00614           <span class="keyword">inline</span> ItemTypes::routedir_oddeven_t getStartDirectionOddEven();
00616 
00621       <span class="keywordtype">void</span> clearTemporaryRouteData();
00622       
00627       <a class="code" href="Types_8h.html#a21">uint32</a> getSize();
00628 
00633       <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a21">uint32</a> getRouteID() <span class="keyword">const</span>;
00634 
00639       <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a21">uint32</a> getRouteCreateTime() <span class="keyword">const</span>;
00640 
00645       <span class="keywordtype">void</span> dumpState();
00646 
00650       <span class="keywordtype">void</span> dumpData();
00651 
00667       <span class="keyword">inline</span> StringTable::stringCode getStatus() <span class="keyword">const</span>;
00668 
00674       <span class="keyword">inline</span> <span class="keywordtype">void</span> setAllowedMaps( <a class="code" href="classRouteAllowedMap.html">RouteAllowedMap</a>* maps );
00675 
00676 
00680       <span class="keyword">inline</span> StringTable::languageCode getLanguage() <span class="keyword">const</span>;
00681 
00682 
00683       
00687       <a class="code" href="classRouteExpander.html">RouteExpander</a>* getRouteExpander(<a class="code" href="Types_8h.html#a21">uint32</a> expandType);
00688       
00692       <span class="keywordtype">bool</span> readyToExpand(<a class="code" href="classRouteExpander.html">RouteExpander</a>* expander);
00693 
<a name="l00694"></a><a class="code" href="classRouteObject.html#a34">00694</a>       <span class="keywordtype">void</span> useCostC()
00695       { 
00696          m_routeData.costC = 1;
00697          m_routeData.costB = 0; 
00698       }
00699 
00700    <span class="keyword">private</span>:
<a name="l00705"></a><a class="code" href="classRouteObject.html#y14">00705</a>       <span class="keyword">enum</span> state_t { 
00710          AWAITING_ORIGDEST,
00711 
00712 
00716          ROUTINGINFO,
00717 
00718 
00723          SENDING_ITEM_EXPAND,
00724 
00729          RECEIVING_ITEM_EXPAND,
00730 
00732          SENDING_ROUTE,
00733 
00735          RECEIVING_ROUTE,
00736 
00741          SENDING_EXPAND_ROUTE,
00742 
00747          RECEIVING_EXPAND_ROUTE,
00748 
00750          SENDING_NAME_REQUEST,
00751 
00753          RECEIVING_NAME_REQUEST,
00754 
00756          DONE,
00757 
00762          ERROR};
00763 
00764 
<a name="l00769"></a><a class="code" href="structRouteObject_1_1origDestFinalPoint__t.html">00769</a>       <span class="keyword">struct </span><a class="code" href="structRouteObject_1_1origDestFinalPoint__t.html">origDestFinalPoint_t</a> {
<a name="l00770"></a><a class="code" href="structRouteObject_1_1origDestFinalPoint__t.html#o0">00770</a>          <a class="code" href="Types_8h.html#a21">uint32</a> mapID;
<a name="l00771"></a><a class="code" href="structRouteObject_1_1origDestFinalPoint__t.html#o1">00771</a>          <a class="code" href="Types_8h.html#a21">uint32</a> itemID;
<a name="l00772"></a><a class="code" href="structRouteObject_1_1origDestFinalPoint__t.html#o2">00772</a>          <a class="code" href="Types_8h.html#a19">uint16</a> offset;
<a name="l00773"></a><a class="code" href="structRouteObject_1_1origDestFinalPoint__t.html#o3">00773</a>          <span class="keywordtype">char</span>* itemName;
00774       };
00775 
<a name="l00780"></a><a class="code" href="classRouteObject_1_1OrigDestPoint.html">00780</a>       <span class="keyword">class </span><a class="code" href="classRouteObject_1_1OrigDestPoint.html">OrigDestPoint</a> {
00781          <span class="keyword">public</span>: 
<a name="l00786"></a><a class="code" href="classRouteObject_1_1OrigDestPoint.html#a0">00786</a>             <a class="code" href="classRouteObject_1_1OrigDestPoint.html">OrigDestPoint</a>() {
00787                lat = lon = MAX_INT32;
00788                mapID = itemID = MAX_UINT32;
00789                offset = 0;
00790                startAngle = packetID = MAX_UINT16;
00791                itemName = NULL;
00792                coordinatePos = MAX_UINT16;
00793                processed = <span class="keyword">false</span>;
00794             };
00795 
<a name="l00796"></a><a class="code" href="classRouteObject_1_1OrigDestPoint.html#a1">00796</a>             <a class="code" href="classRouteObject_1_1OrigDestPoint.html">OrigDestPoint</a>(int32 pLat, int32 pLon) 
00797             {
00798                lat = pLat;
00799                lon = pLon;
00800                startAngle = MAX_UINT16;
00801                mapID = itemID = MAX_UINT32;
00802                offset = 0;
00803                routingType = MAX_BYTE;
00804                packetID = MAX_UINT16;
00805                itemName = NULL;
00806                coordinatePos = MAX_UINT16;
00807                processed = <span class="keyword">false</span>;
00808             };
00809 
<a name="l00810"></a><a class="code" href="classRouteObject_1_1OrigDestPoint.html#a2">00810</a>             <a class="code" href="classRouteObject_1_1OrigDestPoint.html">OrigDestPoint</a>(uint32 pMapID, uint32 pItemID, uint16 pOffset) 
00811             {
00812                lat = lon = MAX_INT32;
00813                mapID = pMapID;
00814                itemID = pItemID;
00815                offset = pOffset;
00816                routingType = MAX_BYTE;
00817                startAngle = packetID = MAX_UINT16;
00818                itemName = NULL;
00819                coordinatePos = MAX_UINT16;
00820                processed = <span class="keyword">false</span>;
00821             };
00822 
<a name="l00823"></a><a class="code" href="classRouteObject_1_1OrigDestPoint.html#a3">00823</a>             <a class="code" href="classRouteObject_1_1OrigDestPoint.html">OrigDestPoint</a>(int32 pLat, int32 pLon,
00824                           uint32 pMapID, uint32 pItemID, uint16 pOffset)
00825             {
00826                lat = pLat;
00827                lon = pLon;
00828                mapID = pMapID;
00829                itemID = pItemID;
00830                offset = pOffset;
00831                routingType = MAX_BYTE;
00832                startAngle = packetID = MAX_UINT16;
00833                itemName = NULL;
00834                coordinatePos = MAX_UINT16;
00835                processed = <span class="keyword">true</span>;
00836             };
00837 
<a name="l00838"></a><a class="code" href="classRouteObject_1_1OrigDestPoint.html#a4">00838</a>             <span class="keyword">virtual</span> ~<a class="code" href="classRouteObject_1_1OrigDestPoint.html">OrigDestPoint</a>() { <span class="keyword">delete</span> [] itemName;};
00839 
<a name="l00841"></a><a class="code" href="classRouteObject_1_1OrigDestPoint.html#a5">00841</a>             <span class="keywordtype">bool</span> <span class="keyword">virtual</span> <a class="code" href="namespaceSTLUtility.html#a31">operator == </a>(<span class="keyword">const</span> <a class="code" href="classRouteObject_1_1OrigDestPoint.html">OrigDestPoint</a>&amp; elm)<span class="keyword"> const </span>{
00842                <span class="keywordflow">return</span> (mapID == elm.<a class="code" href="classRouteObject_1_1OrigDestPoint.html#o2">mapID</a> );
00843             }
00844 
<a name="l00846"></a><a class="code" href="classRouteObject_1_1OrigDestPoint.html#a6">00846</a>             <span class="keywordtype">bool</span> <span class="keyword">virtual</span> <a class="code" href="namespaceSTLUtility.html#a33">operator != </a>(<span class="keyword">const</span> <a class="code" href="classRouteObject_1_1OrigDestPoint.html">OrigDestPoint</a>&amp; elm)<span class="keyword"> const </span>{
00847                <span class="keywordflow">return</span> (mapID != elm.<a class="code" href="classRouteObject_1_1OrigDestPoint.html#o2">mapID</a>);
00848             }
00849             
<a name="l00851"></a><a class="code" href="classRouteObject_1_1OrigDestPoint.html#a7">00851</a>             <span class="keywordtype">bool</span> <span class="keyword">virtual</span> <a class="code" href="namespaceSTLUtility.html#a34">operator &gt; </a>(<span class="keyword">const</span> <a class="code" href="classRouteObject_1_1OrigDestPoint.html">OrigDestPoint</a>&amp; elm)<span class="keyword"> const </span>{
00852                <span class="keywordflow">return</span> (mapID &gt; elm.<a class="code" href="classRouteObject_1_1OrigDestPoint.html#o2">mapID</a>);
00853             }
00854             
<a name="l00856"></a><a class="code" href="classRouteObject_1_1OrigDestPoint.html#a8">00856</a>             <span class="keywordtype">bool</span> <span class="keyword">virtual</span> <a class="code" href="namespaceSTLUtility.html#a32">operator &lt; </a>(<span class="keyword">const</span> <a class="code" href="classRouteObject_1_1OrigDestPoint.html">OrigDestPoint</a>&amp; elm)<span class="keyword"> const </span>{
00857                <span class="keywordflow">return</span> (mapID &lt; elm.<a class="code" href="classRouteObject_1_1OrigDestPoint.html#o2">mapID</a>);
00858             }
00859             
<a name="l00864"></a><a class="code" href="classRouteObject_1_1OrigDestPoint.html#a9">00864</a>             <span class="keywordtype">bool</span> expandCoordinate() {
00865                <span class="keywordflow">return</span> (lat != MAX_INT32) &amp;&amp; (mapID == MAX_UINT32);
00866             }
00867 
<a name="l00872"></a><a class="code" href="classRouteObject_1_1OrigDestPoint.html#a10">00872</a>             <span class="keywordtype">bool</span> expandID() {
00873                <span class="keywordflow">return</span> (mapID != MAX_UINT32) &amp;&amp; (lat == MAX_INT32);
00874             }
00875 
<a name="l00876"></a><a class="code" href="classRouteObject_1_1OrigDestPoint.html#o0">00876</a>             <a class="code" href="Types_8h.html#a22">int32</a> lat;
<a name="l00877"></a><a class="code" href="classRouteObject_1_1OrigDestPoint.html#o1">00877</a>             <a class="code" href="Types_8h.html#a22">int32</a> lon;
<a name="l00878"></a><a class="code" href="classRouteObject_1_1OrigDestPoint.html#o2">00878</a>             <a class="code" href="Types_8h.html#a21">uint32</a> mapID;
<a name="l00879"></a><a class="code" href="classRouteObject_1_1OrigDestPoint.html#o3">00879</a>             <a class="code" href="Types_8h.html#a21">uint32</a> itemID;
<a name="l00880"></a><a class="code" href="classRouteObject_1_1OrigDestPoint.html#o4">00880</a>             <a class="code" href="Types_8h.html#a19">uint16</a> offset;
<a name="l00881"></a><a class="code" href="classRouteObject_1_1OrigDestPoint.html#o5">00881</a>             <a class="code" href="Types_8h.html#a19">uint16</a> startAngle;
<a name="l00882"></a><a class="code" href="classRouteObject_1_1OrigDestPoint.html#o6">00882</a>             <a class="code" href="Types_8h.html#a19">uint16</a> coordinatePos;
<a name="l00883"></a><a class="code" href="classRouteObject_1_1OrigDestPoint.html#o7">00883</a>             <a class="code" href="Types_8h.html#a19">uint16</a> packetID;
00884 
<a name="l00885"></a><a class="code" href="classRouteObject_1_1OrigDestPoint.html#o8">00885</a>             <a class="code" href="Types_8h.html#a25">byte</a> routingType;
<a name="l00886"></a><a class="code" href="classRouteObject_1_1OrigDestPoint.html#o9">00886</a>             <span class="keywordtype">char</span>* itemName;
<a name="l00887"></a><a class="code" href="classRouteObject_1_1OrigDestPoint.html#o10">00887</a>             <span class="keywordtype">bool</span> processed;
00888 
<a name="l00889"></a><a class="code" href="classRouteObject_1_1OrigDestPoint.html#a11">00889</a>             <span class="keywordtype">void</span> dump() {
00890                cout &lt;&lt; <span class="stringliteral">"("</span> &lt;&lt; lat &lt;&lt; <span class="stringliteral">","</span> &lt;&lt; lon &lt;&lt; <span class="stringliteral">"), ID="</span> &lt;&lt; mapID 
00891                     &lt;&lt; <span class="stringliteral">"."</span> &lt;&lt; itemID &lt;&lt; <span class="stringliteral">"."</span> &lt;&lt; offset 
00892                     &lt;&lt; <span class="stringliteral">", packetID="</span> &lt;&lt; packetID &lt;&lt; <span class="stringliteral">", coordPos="</span> 
00893                     &lt;&lt; coordinatePos &lt;&lt; <span class="stringliteral">"processed="</span> &lt;&lt; processed;
00894                <span class="keywordflow">if</span> (itemName != NULL) {
00895                   cout &lt;&lt; <span class="stringliteral">"m itemName="</span> &lt;&lt; itemName;
00896                }
00897                cout &lt;&lt; endl;
00898             }
00899       };
00900 
00901    
00902    <span class="keyword">class </span>OrigDestDescription;
<a name="l00903"></a><a class="code" href="classRouteObject.html#y0">00903</a>    <span class="keyword">typedef</span> std::vector &lt; OrigDestPoint* &gt; OrigDestPointVector;
<a name="l00904"></a><a class="code" href="classRouteObject.html#y1">00904</a>    <span class="keyword">typedef</span> std::vector &lt; OrigDestDescription* &gt; OrigDestDescVector;
00905 
<a name="l00912"></a><a class="code" href="classRouteObject_1_1OrigDestDescription.html">00912</a>       <span class="keyword">class </span><a class="code" href="classRouteObject_1_1OrigDestDescription.html">OrigDestDescription</a> {
00913          <span class="keyword">public</span>: 
<a name="l00914"></a><a class="code" href="classRouteObject_1_1OrigDestDescription.html#a0">00914</a>             <a class="code" href="classRouteObject_1_1OrigDestDescription.html">OrigDestDescription</a>(int32 pLat, int32 pLon) 
00915             {
00916                lat = pLat;
00917                lon = pLon;
00918                mapID = parentItemID = itemID = MAX_UINT32;
00919                offset = origDestIndex = MAX_UINT16;
00920                bDirectionFromZero = <span class="keyword">false</span>;
00921                bDirectionFromZeroSet = <span class="keyword">false</span>;
00922                validOrigDest = <span class="keyword">false</span>;
00923                routingType = MAX_BYTE;
00924                itemType = ItemTypes::nullItem;
00925                itemName = NULL;
00926             };
00927 
<a name="l00928"></a><a class="code" href="classRouteObject_1_1OrigDestDescription.html#a1">00928</a>             <a class="code" href="classRouteObject_1_1OrigDestDescription.html">OrigDestDescription</a>(uint32 pMapID,
00929                                 uint32 pItemID,
00930                                 uint16 pOffset,
00931                                 ItemTypes::itemType type) 
00932             {
00933                lat = lon = MAX_INT32;
00934                mapID = pMapID;
00935                itemID = pItemID;
00936                offset = pOffset;
00937                parentItemID = MAX_UINT32;
00938                origDestIndex = MAX_UINT16;
00939                bDirectionFromZero = <span class="keyword">false</span>;
00940                bDirectionFromZeroSet = <span class="keyword">false</span>;
00941                validOrigDest = <span class="keyword">false</span>;
00942                routingType = MAX_BYTE;
00943                itemType = type;
00944                itemName = NULL;
00945             };
00946 
<a name="l00947"></a><a class="code" href="classRouteObject_1_1OrigDestDescription.html#a2">00947</a>             <a class="code" href="classRouteObject_1_1OrigDestDescription.html">OrigDestDescription</a>(int32 pLat,
00948                                 int32 pLon,
00949                                 uint32 pMapID,
00950                                 uint32 pItemID,
00951                                 uint16 pOffset,
00952                                 ItemTypes::itemType type)
00953             {
00954                lat = pLat;
00955                lon = pLon;
00956                mapID = pMapID;
00957                itemID = pItemID;
00958                offset = pOffset;
00959                parentItemID = MAX_UINT32;
00960                origDestIndex = MAX_UINT16;
00961                bDirectionFromZero = <span class="keyword">false</span>;
00962                bDirectionFromZeroSet = <span class="keyword">false</span>;
00963                validOrigDest = <span class="keyword">false</span>;
00964                routingType = MAX_BYTE;
00965                itemType = type;
00966                itemName = NULL;
00967             };
00968 
<a name="l00969"></a><a class="code" href="classRouteObject_1_1OrigDestDescription.html#a3">00969</a>             <span class="keyword">virtual</span> ~<a class="code" href="classRouteObject_1_1OrigDestDescription.html">OrigDestDescription</a>() { <span class="keyword">delete</span> [] itemName;};
00970 
<a name="l00971"></a><a class="code" href="classRouteObject_1_1OrigDestDescription.html#o0">00971</a>             <a class="code" href="Types_8h.html#a22">int32</a> lat;
<a name="l00972"></a><a class="code" href="classRouteObject_1_1OrigDestDescription.html#o1">00972</a>             <a class="code" href="Types_8h.html#a22">int32</a> lon;
<a name="l00973"></a><a class="code" href="classRouteObject_1_1OrigDestDescription.html#o2">00973</a>             <a class="code" href="Types_8h.html#a21">uint32</a> mapID;
<a name="l00974"></a><a class="code" href="classRouteObject_1_1OrigDestDescription.html#o3">00974</a>             <a class="code" href="Types_8h.html#a21">uint32</a> parentItemID;
<a name="l00975"></a><a class="code" href="classRouteObject_1_1OrigDestDescription.html#o4">00975</a>             <a class="code" href="Types_8h.html#a21">uint32</a> itemID;
<a name="l00976"></a><a class="code" href="classRouteObject_1_1OrigDestDescription.html#o5">00976</a>             <a class="code" href="Types_8h.html#a19">uint16</a> offset;
<a name="l00977"></a><a class="code" href="classRouteObject_1_1OrigDestDescription.html#o6">00977</a>             <a class="code" href="Types_8h.html#a19">uint16</a> origDestIndex;
<a name="l00978"></a><a class="code" href="classRouteObject_1_1OrigDestDescription.html#o7">00978</a>             <span class="keywordtype">bool</span> bDirectionFromZeroSet;
<a name="l00979"></a><a class="code" href="classRouteObject_1_1OrigDestDescription.html#o8">00979</a>             <span class="keywordtype">bool</span> bDirectionFromZero;
<a name="l00980"></a><a class="code" href="classRouteObject_1_1OrigDestDescription.html#o9">00980</a>             <span class="keywordtype">bool</span> validOrigDest;
<a name="l00981"></a><a class="code" href="classRouteObject_1_1OrigDestDescription.html#o10">00981</a>             <a class="code" href="Types_8h.html#a25">byte</a> routingType;
<a name="l00982"></a><a class="code" href="classRouteObject_1_1OrigDestDescription.html#o11">00982</a>             ItemTypes::itemType itemType;
<a name="l00983"></a><a class="code" href="classRouteObject_1_1OrigDestDescription.html#o12">00983</a>             <span class="keywordtype">char</span>* itemName;
<a name="l00984"></a><a class="code" href="classRouteObject_1_1OrigDestDescription.html#a4">00984</a>             <span class="keywordtype">void</span> dump() {
00985             }
00986             
00987             <span class="comment">/*   cout &lt;&lt; "(" &lt;&lt; lat &lt;&lt; "," &lt;&lt; lon &lt;&lt; ") ID=" &lt;&lt; mapID &lt;&lt; "."</span>
00988 <span class="comment">                    &lt;&lt; itemID &lt;&lt; "." &lt;&lt; offset &lt;&lt; ", parentID=" </span>
00989 <span class="comment">                    &lt;&lt; parentItemID &lt;&lt; " origDestIndex=" &lt;&lt; origDestIndex</span>
00990 <span class="comment">                    &lt;&lt; " validOrigDest=" &lt;&lt; validOrigDest</span>
00991 <span class="comment">                    &lt;&lt; " itemType="  &lt;&lt; (int)itemType;</span>
00992 <span class="comment">               if (itemName != NULL) {</span>
00993 <span class="comment">                  cout &lt;&lt; " itemName=" &lt;&lt; itemName;</span>
00994 <span class="comment">               }</span>
00995 <span class="comment">               cout &lt;&lt; endl;</span>
00996 <span class="comment">               }*/</span>
00997       };
00998 
01005       state_t createAndPrepareExpandItemPackets();
01006 
01014       state_t createAndPrepareRoutePacket(<span class="keywordtype">bool</span> checkProcessed = <span class="keyword">false</span>);
01015 
01021       state_t createAndPrepareNamePackets();
01022       
01029       state_t handleRouteExpandItemReplyPacket(<a class="code" href="classRouteExpandItemReplyPacket.html">RouteExpandItemReplyPacket</a>* p);
01030 
01038       state_t handleCoordinateReplyPacket(<span class="keyword">const</span> <a class="code" href="classPacketContainer.html">PacketContainer</a>* pc);
01039 
01046       state_t handleRouteReplyPacket(<a class="code" href="classRouteReplyPacket.html">RouteReplyPacket</a>* p);
01047       
01055       state_t handleNameReplyPacket(<a class="code" href="classItemNamesReplyPacket.html">ItemNamesReplyPacket</a>* p);
01056 
01063       state_t setErrorState( StringTable::stringCode stringCode );
01064 
01076       <a class="code" href="Types_8h.html#a21">uint32</a> calcNbrWantedRoutes(uint32 nbrWantedResults);
01077 
01084        <span class="keywordtype">void</span> fixupRouteResult(<a class="code" href="classServerSubRouteVectorVector.html">ServerSubRouteVectorVector</a>* srvv,
01085                              uint32 nbrWanted);
01086    
01093       <span class="keyword">static</span> <a class="code" href="Types_8h.html#a21">uint32</a> getTurnCost(uint32 nodeID);
01094       
01100       <span class="keyword">static</span> <span class="keywordtype">bool</span> checkSame(OrigDestDescription* origDest,
01101                             origDestFinalPoint_t&amp; finalOrigDest);
01102 
01114       <span class="keyword">static</span> <span class="keywordtype">bool</span> checkDistOKForVehicle(<span class="keyword">const</span> <a class="code" href="classDriverPref.html">DriverPref</a>&amp; dp,
01115                                         <span class="keyword">const</span> <a class="code" href="classOrigDestInfoList.html">OrigDestInfoList</a>&amp; origList,
01116                                         <span class="keyword">const</span> <a class="code" href="classOrigDestInfoList.html">OrigDestInfoList</a>&amp; destList);
01117 
01124       <span class="keyword">static</span> <span class="keywordtype">int</span> calcMinDistFromOrigsToDest(<span class="keyword">const</span> <a class="code" href="classOrigDestInfoList.html">OrigDestInfoList</a>&amp; origs,
01125                                             <span class="keyword">const</span> <a class="code" href="classOrigDestInfoList.html">OrigDestInfoList</a>&amp; dests);
01126 
01131       <span class="keyword">static</span> <span class="keywordtype">int</span> getOriginalIndex(<span class="keyword">const</span> OrigDestDescVector&amp; origDestDescriptions,
01132                                   <span class="keyword">const</span> OrigDestPointVector&amp; origDestPoints,
01133                                   <span class="keyword">const</span> origDestFinalPoint_t&amp;
01134                                   finalOrigOrDest );
01135    
01140       <span class="keywordtype">int</span> getOriginalDestIndex() <span class="keyword">const</span>;
01141    
01146       <span class="keywordtype">int</span> getOriginalOrigIndex() <span class="keyword">const</span>;
01147 
01157 
<a name="l01158"></a><a class="code" href="classRouteObject.html#z459_0">01158</a>          OrigDestPointVector m_allOrigs;
01159       
<a name="l01161"></a><a class="code" href="classRouteObject.html#z459_1">01161</a>          OrigDestPointVector m_allOrigsSafe;
01162 
<a name="l01164"></a><a class="code" href="classRouteObject.html#z459_2">01164</a>          OrigDestPointVector m_allDests;
01165 
<a name="l01167"></a><a class="code" href="classRouteObject.html#z459_3">01167</a>          OrigDestPointVector m_allDestsSafe;
01169       
01178 
<a name="l01179"></a><a class="code" href="classRouteObject.html#z461_0">01179</a>          OrigDestDescVector m_origDescriptions;
01180 
<a name="l01182"></a><a class="code" href="classRouteObject.html#z461_1">01182</a>          OrigDestDescVector m_destDescriptions;
01184 
01195 
<a name="l01196"></a><a class="code" href="classRouteObject.html#z463_0">01196</a>          <a class="code" href="structRouteObject_1_1origDestFinalPoint__t.html">origDestFinalPoint_t</a> m_origPoint;
01197 
<a name="l01199"></a><a class="code" href="classRouteObject.html#z463_1">01199</a>          <a class="code" href="structRouteObject_1_1origDestFinalPoint__t.html">origDestFinalPoint_t</a> m_destPoint;
01201          
<a name="l01206"></a><a class="code" href="classRouteObject.html#r0">01206</a>       <a class="code" href="classPacketContainerTree.html">PacketContainerTree</a> m_packetsReadyToSend;
01207 
01213       <span class="keyword">struct </span>{ 
<a name="l01214"></a><a class="code" href="classRouteObject.html#r1">01214</a>          <span class="keywordtype">bool</span> isStartTime;
<a name="l01215"></a><a class="code" href="classRouteObject.html#r2">01215</a>          <a class="code" href="Types_8h.html#a25">byte</a> routeType;
<a name="l01216"></a><a class="code" href="classRouteObject.html#r3">01216</a>          <a class="code" href="Types_8h.html#a25">byte</a> costA;
<a name="l01217"></a><a class="code" href="classRouteObject.html#r4">01217</a>          <a class="code" href="Types_8h.html#a25">byte</a> costB;
<a name="l01218"></a><a class="code" href="classRouteObject.html#r5">01218</a>          <a class="code" href="Types_8h.html#a25">byte</a> costC;
<a name="l01219"></a><a class="code" href="classRouteObject.html#r6">01219</a>          <a class="code" href="Types_8h.html#a25">byte</a> costD;
<a name="l01220"></a><a class="code" href="classRouteObject.html#r7">01220</a>          <a class="code" href="Types_8h.html#a21">uint32</a> vehicleParam;
<a name="l01221"></a><a class="code" href="classRouteObject.html#r8">01221</a>          <a class="code" href="Types_8h.html#a21">uint32</a> time;
<a name="l01222"></a><a class="code" href="classRouteObject.html#r9">01222</a>          <a class="code" href="Types_8h.html#a21">uint32</a> turnCost;
01223       } m_routeData;
01224       
<a name="l01228"></a><a class="code" href="classRouteObject.html#r11">01228</a>       state_t m_state;
01229 
<a name="l01234"></a><a class="code" href="classRouteObject.html#r12">01234</a>       <a class="code" href="Types_8h.html#a21">uint32</a> m_expandType;
01235 
<a name="l01239"></a><a class="code" href="classRouteObject.html#r13">01239</a>       <a class="code" href="classPacketContainer.html">PacketContainer</a>* m_answer;
01240 
<a name="l01245"></a><a class="code" href="classRouteObject.html#r14">01245</a>       <a class="code" href="classRouteReplyPacket.html">RouteReplyPacket</a>* m_routeReplyPacket;
01246 
<a name="l01251"></a><a class="code" href="classRouteObject.html#r15">01251</a>       <a class="code" href="classRequest.html">Request</a>* m_request;
01252 
<a name="l01257"></a><a class="code" href="classRouteObject.html#r16">01257</a>       <a class="code" href="classRouteSender.html">RouteSender</a>* m_routeSender;
01258 
<a name="l01263"></a><a class="code" href="classRouteObject.html#r17">01263</a>       <a class="code" href="classRouteExpander.html">RouteExpander</a>* m_routeExpander;
01264 
<a name="l01265"></a><a class="code" href="classRouteObject.html#r18">01265</a>       <a class="code" href="classCoordinateObject.html">CoordinateObject</a> m_coordinateObject;
01266 
<a name="l01271"></a><a class="code" href="classRouteObject.html#r19">01271</a>       <a class="code" href="Types_8h.html#a21">uint32</a> m_createTime;
01272       
<a name="l01276"></a><a class="code" href="classRouteObject.html#r20">01276</a>       StringTable::languageCode m_language;
01277 
<a name="l01281"></a><a class="code" href="classRouteObject.html#r21">01281</a>       <span class="keywordtype">bool</span> m_abbreviate;
01282 
<a name="l01286"></a><a class="code" href="classRouteObject.html#r22">01286</a>       <span class="keywordtype">bool</span> m_landmarks;
01287 
<a name="l01293"></a><a class="code" href="classRouteObject.html#r23">01293</a>       <a class="code" href="classDriverPref.html">DriverPref</a>* m_driverPref;
01294 
<a name="l01299"></a><a class="code" href="classRouteObject.html#r24">01299</a>       <a class="code" href="classDriverPref.html">DriverPref</a>* m_driverPrefToDelete;
01300 
<a name="l01304"></a><a class="code" href="classRouteObject.html#r25">01304</a>       StringTable::stringCode m_status;
01305 
<a name="l01309"></a><a class="code" href="classRouteObject.html#r26">01309</a>       <span class="keyword">const</span> <a class="code" href="classDisturbanceList.html">DisturbanceList</a>* m_disturbances;
01310       
<a name="l01314"></a><a class="code" href="classRouteObject.html#r27">01314</a>       <span class="keywordtype">bool</span> m_noConcatenate;
01315       
<a name="l01319"></a><a class="code" href="classRouteObject.html#r28">01319</a>       <a class="code" href="Types_8h.html#a21">uint32</a> m_passedRoads;
01320 
01321       
<a name="l01325"></a><a class="code" href="classRouteObject.html#r29">01325</a>       <span class="keywordtype">bool</span> m_removeAheadIfDiff;
01326 
01327 
<a name="l01331"></a><a class="code" href="classRouteObject.html#r30">01331</a>       <span class="keywordtype">bool</span> m_nameChangeAsWP;
01332       
01333       
01334       <span class="comment">// Containers that holds the information about nodes.</span>
01335       <span class="comment">// These are used to send to RouteSender.</span>
<a name="l01336"></a><a class="code" href="classRouteObject.html#r31">01336</a>       <a class="code" href="classOrigDestInfoList.html">OrigDestInfoList</a>* m_origList;
<a name="l01337"></a><a class="code" href="classRouteObject.html#r32">01337</a>       <a class="code" href="classOrigDestInfoList.html">OrigDestInfoList</a>* m_destList;
01338 
<a name="l01343"></a><a class="code" href="classRouteObject.html#r33">01343</a>       <a class="code" href="Types_8h.html#a21">uint32</a> m_nbrWantedRoutes;
01344 
<a name="l01348"></a><a class="code" href="classRouteObject.html#r34">01348</a>       <a class="code" href="classServerSubRouteVectorVector.html">ServerSubRouteVectorVector</a>* m_routeResultVector;
01349 
<a name="l01353"></a><a class="code" href="classRouteObject.html#r35">01353</a>       <a class="code" href="classUnexpandedRoute.html">UnexpandedRoute</a>* m_unexpandedRoute;
01354 
<a name="l01358"></a><a class="code" href="classRouteObject.html#r36">01358</a>       <span class="keywordtype">bool</span> m_sendItemNames;
01359 
<a name="l01363"></a><a class="code" href="classRouteObject.html#r37">01363</a>       <span class="keywordtype">int</span> m_nbrItemNamesToReceive;
01364 
<a name="l01369"></a><a class="code" href="classRouteObject.html#r38">01369</a>       <a class="code" href="classRoutingInfo.html">RoutingInfo</a>* m_routingInfo;
01370 
<a name="l01374"></a><a class="code" href="classRouteObject.html#r39">01374</a>       <a class="code" href="Types_8h.html#a21">uint32</a> m_routingStartTime;
01375 
<a name="l01379"></a><a class="code" href="classRouteObject.html#r40">01379</a>       <a class="code" href="classRouteAllowedMap.html">RouteAllowedMap</a>* m_allowedMaps;
01380 
<a name="l01384"></a><a class="code" href="classRouteObject.html#r41">01384</a>       <span class="keyword">const</span> <a class="code" href="classRequestUserData.html">RequestUserData</a>&amp; m_user;
01385 };
01386 
01387 
01388 <span class="comment">// ========================================================================</span>
01389 <span class="comment">//                                  Implementation of the inlined methods =</span>
01390 
01391 <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="classRouteReplyPacket.html">RouteReplyPacket</a>* 
<a name="l01392"></a><a class="code" href="classRouteObject.html#a21">01392</a> <a class="code" href="classRouteObject.html#a21">RouteObject::getRouteReplyPacket</a>() {
01393    <span class="keywordflow">return</span> (m_routeReplyPacket);
01394 }
01395 
01396 <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a21">uint32</a> 
<a name="l01397"></a><a class="code" href="classRouteObject.html#z451_0">01397</a> <a class="code" href="classRouteObject.html#z451_0">RouteObject::getNbrValidOrigins</a>()<span class="keyword"> const</span>
01398 <span class="keyword"></span>{
01399    <a class="code" href="Types_8h.html#a21">uint32</a> retVal = 0;
01400    <span class="keywordflow">for</span> (<a class="code" href="Types_8h.html#a21">uint32</a> j=0; j&lt;<a class="code" href="classRouteObject.html#z461_0">m_origDescriptions</a>.size(); j++) {
01401       <span class="keywordflow">if</span> (<a class="code" href="classRouteObject.html#z461_0">m_origDescriptions</a>[j]-&gt;validOrigDest) {
01402          retVal++;
01403       }
01404    }
01405    <span class="keywordflow">return</span> (retVal);
01406 }
01407 
01408 <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a21">uint32</a> 
<a name="l01409"></a><a class="code" href="classRouteObject.html#z451_1">01409</a> <a class="code" href="classRouteObject.html#z451_1">RouteObject::getNbrValidDestinations</a>()<span class="keyword"> const</span>
01410 <span class="keyword"></span>{
01411    <a class="code" href="Types_8h.html#a21">uint32</a> retVal = 0;
01412    <span class="keywordflow">for</span> (<a class="code" href="Types_8h.html#a21">uint32</a> j=0; j&lt;<a class="code" href="classRouteObject.html#z461_1">m_destDescriptions</a>.size(); j++) {
01413       <span class="keywordflow">if</span> (<a class="code" href="classRouteObject.html#z461_1">m_destDescriptions</a>[j]-&gt;validOrigDest) {
01414          retVal++;
01415       }
01416    }
01417    <span class="keywordflow">return</span> (retVal);
01418 }
01419 
01420 <span class="keyword">inline</span> <span class="keywordtype">bool</span> 
<a name="l01421"></a><a class="code" href="classRouteObject.html#z453_0">01421</a> <a class="code" href="classRouteObject.html#z453_0">RouteObject::getValidOrigin</a>(uint32 i, 
01422                             uint32&amp; mapID, 
01423                             uint32&amp; itemID,
01424                             int32&amp; lat,
01425                             int32&amp; lon,
01426                             <span class="keyword">const</span> <span class="keywordtype">char</span>*&amp; name,
01427                             ItemTypes::itemType&amp; type)
01428 {
01429    <span class="comment">// Read past the i first valid origins</span>
01430    <a class="code" href="Types_8h.html#a21">uint32</a> curValid = 0;
01431    <a class="code" href="Types_8h.html#a21">uint32</a> pos = 0;
01432    <span class="keywordflow">while</span> ( (curValid &lt; i) &amp;&amp; 
01433            (pos &lt; <a class="code" href="classRouteObject.html#z461_0">m_origDescriptions</a>.size()) ) {
01434       <span class="keywordflow">if</span> (static_cast&lt;OrigDestDescription*&gt;
01435                      (<a class="code" href="classRouteObject.html#z461_0">m_origDescriptions</a>[pos])-&gt;validOrigDest) {
01436          curValid++;
01437       }
01438       pos++;
01439    }
01440 
01441    <span class="keywordflow">if</span> (pos &lt; <a class="code" href="classRouteObject.html#z461_0">m_origDescriptions</a>.size()) {
01442       <a class="code" href="classRouteObject_1_1OrigDestDescription.html">OrigDestDescription</a>* odd = static_cast&lt;OrigDestDescription*&gt;
01443                                             (<a class="code" href="classRouteObject.html#z461_0">m_origDescriptions</a>[pos]);
01444       mapID = odd-&gt;<a class="code" href="classRouteObject_1_1OrigDestDescription.html#o2">mapID</a>;
01445       <span class="keywordflow">if</span> (odd-&gt;<a class="code" href="classRouteObject_1_1OrigDestDescription.html#o3">parentItemID</a> != MAX_UINT32) {
01446          itemID = odd-&gt;<a class="code" href="classRouteObject_1_1OrigDestDescription.html#o3">parentItemID</a>;
01447       } <span class="keywordflow">else</span> {
01448          itemID = <a class="code" href="classRouteObject.html#z463_0">m_origPoint</a>.<a class="code" href="structRouteObject_1_1origDestFinalPoint__t.html#o1">itemID</a>;
01449       }
01450       <span class="keywordflow">if</span> ( (odd-&gt;<a class="code" href="classRouteObject_1_1OrigDestDescription.html#o12">itemName</a> != NULL) &amp;&amp;
01451            (strlen(odd-&gt;<a class="code" href="classRouteObject_1_1OrigDestDescription.html#o12">itemName</a>) &gt; 0)) {
01452          name = odd-&gt;<a class="code" href="classRouteObject_1_1OrigDestDescription.html#o12">itemName</a>;
01453       } <span class="keywordflow">else</span> {
01454          name = <a class="code" href="classRouteObject.html#z463_0">m_origPoint</a>.<a class="code" href="structRouteObject_1_1origDestFinalPoint__t.html#o3">itemName</a>;
01455       }
01456       <span class="comment">// Check name for NULL</span>
01457       <span class="keywordflow">if</span> ( name == NULL ) {
01458          name = <span class="stringliteral">""</span>;
01459       }
01460       lat = odd-&gt;<a class="code" href="classRouteObject_1_1OrigDestDescription.html#o0">lat</a>;
01461       lon = odd-&gt;<a class="code" href="classRouteObject_1_1OrigDestDescription.html#o1">lon</a>;
01462       type = odd-&gt;<a class="code" href="classRouteObject_1_1OrigDestDescription.html#o11">itemType</a>;
01463       <span class="keywordflow">return</span> (<span class="keyword">true</span>);
01464    } <span class="keywordflow">else</span> {
01465       mapID = MAX_UINT32;
01466       itemID = MAX_UINT32;
01467       name = NULL;
01468       <span class="keywordflow">return</span> (<span class="keyword">false</span>);
01469    }
01470 }
01471 
01472 <span class="keyword">inline</span> <span class="keywordtype">bool</span> 
<a name="l01473"></a><a class="code" href="classRouteObject.html#z453_1">01473</a> <a class="code" href="classRouteObject.html#z453_1">RouteObject::getValidDestination</a>(uint32 i, 
01474                                  uint32&amp; mapID, 
01475                                  uint32&amp; itemID,
01476                                  int32&amp; lat,
01477                                  int32&amp; lon,
01478                                  <span class="keyword">const</span> <span class="keywordtype">char</span>*&amp; name,
01479                                  ItemTypes::itemType&amp; type)
01480 {
01481    <span class="comment">// Read past the i first valid destinations</span>
01482    <span class="keywordtype">int</span> curValid = -1;
01483    <a class="code" href="Types_8h.html#a21">uint32</a> pos = 0;
01484    <span class="keywordtype">bool</span> found = <span class="keyword">false</span>;
01485    <span class="keywordflow">while</span> ( (!found) &amp;&amp; 
01486            (pos &lt; <a class="code" href="classRouteObject.html#z461_1">m_destDescriptions</a>.size()) ) {
01487       <span class="keywordflow">if</span> (static_cast&lt;OrigDestDescription*&gt;
01488                      (<a class="code" href="classRouteObject.html#z461_1">m_destDescriptions</a>[pos])-&gt;validOrigDest) {
01489          curValid++;
01490       }
01491       <span class="keywordflow">if</span> (curValid == int(i)) {
01492          found = <span class="keyword">true</span>;
01493       } <span class="keywordflow">else</span> {
01494          pos++;
01495       }
01496    }
01497 
01498    <span class="keywordflow">if</span> (found) {
01499       <a class="code" href="classRouteObject_1_1OrigDestDescription.html">OrigDestDescription</a>* odd = static_cast&lt;OrigDestDescription*&gt;
01500                                             (<a class="code" href="classRouteObject.html#z461_1">m_destDescriptions</a>[pos]);
01501       mapID = odd-&gt;<a class="code" href="classRouteObject_1_1OrigDestDescription.html#o2">mapID</a>;
01502       <span class="keywordflow">if</span> (odd-&gt;<a class="code" href="classRouteObject_1_1OrigDestDescription.html#o3">parentItemID</a> != MAX_UINT32) {
01503          itemID = odd-&gt;<a class="code" href="classRouteObject_1_1OrigDestDescription.html#o3">parentItemID</a>;
01504       } <span class="keywordflow">else</span> {
01505          itemID = <a class="code" href="classRouteObject.html#z463_1">m_destPoint</a>.<a class="code" href="structRouteObject_1_1origDestFinalPoint__t.html#o1">itemID</a>;
01506       }
01507       <span class="keywordflow">if</span> ( (odd-&gt;<a class="code" href="classRouteObject_1_1OrigDestDescription.html#o12">itemName</a> != NULL) &amp;&amp;
01508            (strlen(odd-&gt;<a class="code" href="classRouteObject_1_1OrigDestDescription.html#o12">itemName</a>) &gt; 0)) {
01509          name = odd-&gt;<a class="code" href="classRouteObject_1_1OrigDestDescription.html#o12">itemName</a>;
01510       } <span class="keywordflow">else</span> {
01511          name = <a class="code" href="classRouteObject.html#z463_1">m_destPoint</a>.<a class="code" href="structRouteObject_1_1origDestFinalPoint__t.html#o3">itemName</a>;
01512       }
01513       <span class="comment">// Check name for NULL</span>
01514       <span class="keywordflow">if</span> ( name == NULL ) {
01515          name = <span class="stringliteral">""</span>;
01516       }
01517       lat = odd-&gt;<a class="code" href="classRouteObject_1_1OrigDestDescription.html#o0">lat</a>;
01518       lon = odd-&gt;<a class="code" href="classRouteObject_1_1OrigDestDescription.html#o1">lon</a>;
01519       type = odd-&gt;<a class="code" href="classRouteObject_1_1OrigDestDescription.html#o11">itemType</a>;
01520       <span class="keywordflow">return</span> (<span class="keyword">true</span>);
01521    } <span class="keywordflow">else</span> {
01522       mapID = MAX_UINT32;
01523       itemID = MAX_UINT32;
01524       name = NULL;
01525       <span class="keywordflow">return</span> (<span class="keyword">false</span>);
01526    }
01527 }
01528 
01529 
01530 <span class="keyword">inline</span> <span class="keywordtype">int</span>
<a name="l01531"></a><a class="code" href="classRouteObject.html#z447_0">01531</a> <a class="code" href="classRouteObject.html#z447_0">RouteObject::addOriginID</a>(uint32 mapID, uint32 itemID, uint16 offset) 
01532 {
01533    <a class="code" href="classRouteObject_1_1OrigDestPoint.html">OrigDestPoint</a>* odp = <span class="keyword">new</span> <a class="code" href="classRouteObject_1_1OrigDestPoint.html">OrigDestPoint</a>(mapID, itemID, offset);
01534    <a class="code" href="classRouteObject.html#z459_0">m_allOrigs</a>.push_back(odp);
01535    <a class="code" href="classRouteObject.html#z459_1">m_allOrigsSafe</a>.push_back(odp);
01536    <span class="keywordflow">return</span> <a class="code" href="classRouteObject.html#z459_0">m_allOrigs</a>.size() - 1;
01537 }
01538 
01539 <span class="keyword">inline</span> <span class="keywordtype">int</span>
<a name="l01540"></a><a class="code" href="classRouteObject.html#z447_1">01540</a> <a class="code" href="classRouteObject.html#z447_1">RouteObject::addOriginCoord</a>(int32 lat, int32 lon, uint16 angle)
01541 {
01542    <a class="code" href="classRouteObject_1_1OrigDestPoint.html">OrigDestPoint</a>* odp = <span class="keyword">new</span> <a class="code" href="classRouteObject_1_1OrigDestPoint.html">OrigDestPoint</a>(lat, lon);
01543    odp-&gt;<a class="code" href="classRouteObject_1_1OrigDestPoint.html#o5">startAngle</a> = angle;
01544    <a class="code" href="classRouteObject.html#z459_0">m_allOrigs</a>.push_back(odp);
01545    <a class="code" href="classRouteObject.html#z459_1">m_allOrigsSafe</a>.push_back(odp);
01546    <a class="code" href="MC2Logging_8h.html#a6">mc2dbg8</a> &lt;&lt; <span class="stringliteral">"RO:Added to m_allOrigs with id="</span> &lt;&lt; odp-&gt;<a class="code" href="classRouteObject_1_1OrigDestPoint.html#o2">mapID</a> 
01547           &lt;&lt; <span class="charliteral">'.'</span> &lt;&lt; odp-&gt;<a class="code" href="classRouteObject_1_1OrigDestPoint.html#o3">itemID</a> &lt;&lt; <span class="charliteral">'.'</span> &lt;&lt; odp-&gt;<a class="code" href="classRouteObject_1_1OrigDestPoint.html#o4">offset</a> &lt;&lt; <span class="stringliteral">" ("</span> &lt;&lt; odp-&gt;<a class="code" href="classRouteObject_1_1OrigDestPoint.html#o0">lat</a>
01548           &lt;&lt; <span class="charliteral">','</span> &lt;&lt; odp-&gt;<a class="code" href="classRouteObject_1_1OrigDestPoint.html#o1">lon</a> &lt;&lt; <span class="stringliteral">")"</span> &lt;&lt; <span class="stringliteral">" angle = "</span>
01549           &lt;&lt; <a class="code" href="Types_8h.html#a21">uint32</a>(angle) &lt;&lt; endl;
01550    <span class="keywordflow">return</span> <a class="code" href="classRouteObject.html#z459_0">m_allOrigs</a>.size() - 1;
01551 }
01552 
01553 <span class="keyword">inline</span> <span class="keywordtype">int</span>
<a name="l01554"></a><a class="code" href="classRouteObject.html#z447_2">01554</a> <a class="code" href="classRouteObject.html#z447_2">RouteObject::addOrigin</a>(uint32 mapID, uint32 itemID, uint16 offset,
01555                        int32 lat, int32 lon)
01556 {
01557    <a class="code" href="classRouteObject_1_1OrigDestPoint.html">OrigDestPoint</a>* odp = <span class="keyword">new</span> <a class="code" href="classRouteObject_1_1OrigDestPoint.html">OrigDestPoint</a>(lat, lon, mapID, itemID, offset);
01558    <a class="code" href="classRouteObject.html#z459_0">m_allOrigs</a>.push_back(odp);
01559    <a class="code" href="classRouteObject.html#z459_1">m_allOrigsSafe</a>.push_back(odp);
01560    <span class="keywordflow">return</span> <a class="code" href="classRouteObject.html#z459_0">m_allOrigs</a>.size() - 1;
01561 }
01562 
01563 <span class="keyword">inline</span> <span class="keywordtype">int</span>
<a name="l01564"></a><a class="code" href="classRouteObject.html#z447_3">01564</a> <a class="code" href="classRouteObject.html#z447_2">RouteObject::addOrigin</a>(<span class="keyword">const</span> <a class="code" href="classOrigDestInfo.html">OrigDestInfo</a>&amp; orig)
01565 {
01566    <span class="keywordflow">if</span> ( orig.<a class="code" href="classOrigDestInfo.html#a15">getMapID</a>() == MAX_UINT32 ) {
01567       <span class="keywordflow">return</span> <a class="code" href="classRouteObject.html#z447_1">addOriginCoord</a>(orig.<a class="code" href="classOrigDestInfo.html#a9">getLat</a>(), orig.<a class="code" href="classOrigDestInfo.html#a11">getLon</a>(), orig.<a class="code" href="classOrigDestInfo.html#a13">getAngle</a>());
01568    } <span class="keywordflow">else</span> {
01569       <span class="keywordflow">return</span> <a class="code" href="classRouteObject.html#z447_0">addOriginID</a>(orig.<a class="code" href="classOrigDestInfo.html#a15">getMapID</a>(),
01570                          orig.<a class="code" href="classOrigDestInfo.html#a7">getNodeID</a>(),
01571                          <a class="code" href="Types_8h.html#a19">uint16</a>(orig.<a class="code" href="classOrigDestInfo.html#a23">getOffset</a>()*MAX_UINT16));
01572    }
01573 }
01574 
01575 <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a21">uint32</a> 
<a name="l01576"></a><a class="code" href="classRouteObject.html#a14">01576</a> <a class="code" href="classRouteObject.html#a14">RouteObject::getNbrOrigin</a>()<span class="keyword"> const </span>{
01577    <span class="keywordflow">return</span> <a class="code" href="classRouteObject.html#z459_0">m_allOrigs</a>.size();
01578 }
01579 
01580 
01581 <span class="keyword">inline</span> <span class="keywordtype">void</span> 
<a name="l01582"></a><a class="code" href="classRouteObject.html#a15">01582</a> <a class="code" href="classRouteObject.html#a15">RouteObject::getOrigin</a>( uint32 i,
01583                         uint32&amp; mapID, uint32&amp; itemID, 
01584                         uint16&amp; offset, int32&amp; lat, int32&amp; lon )<span class="keyword"> const</span>
01585 <span class="keyword"></span>{
01586    <span class="keywordflow">if</span> ( i &lt; <a class="code" href="classRouteObject.html#z459_0">m_allOrigs</a>.size() ) {
01587       <span class="keyword">const</span> <a class="code" href="classRouteObject_1_1OrigDestPoint.html">OrigDestPoint</a>* odp = <a class="code" href="classRouteObject.html#z459_0">m_allOrigs</a>[ i ];
01588       mapID = odp-&gt;<a class="code" href="classRouteObject_1_1OrigDestPoint.html#o2">mapID</a>;
01589       itemID = odp-&gt;<a class="code" href="classRouteObject_1_1OrigDestPoint.html#o3">itemID</a>;
01590       offset = odp-&gt;<a class="code" href="classRouteObject_1_1OrigDestPoint.html#o4">offset</a>;
01591       lat = odp-&gt;<a class="code" href="classRouteObject_1_1OrigDestPoint.html#o0">lat</a>;
01592       lon = odp-&gt;<a class="code" href="classRouteObject_1_1OrigDestPoint.html#o1">lon</a>;      
01593    } <span class="keywordflow">else</span> {
01594       <a class="code" href="config_8h.html#a16">MC2ERROR2</a>( <span class="stringliteral">"RouteObject::getOrigin index out of bounds!"</span>,
01595                  cerr &lt;&lt; <span class="stringliteral">"i "</span> &lt;&lt; i &lt;&lt; <span class="stringliteral">" size "</span> &lt;&lt; <a class="code" href="classRouteObject.html#z459_0">m_allOrigs</a>.size() 
01596                  &lt;&lt; endl;);
01597    }
01598 }
01599 
01600 <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a19">uint16</a>
<a name="l01601"></a><a class="code" href="classRouteObject.html#a16">01601</a> <a class="code" href="classRouteObject.html#a16">RouteObject::getOriginAngle</a>()<span class="keyword"> const </span>{
01602    <a class="code" href="Types_8h.html#a19">uint16</a> angle = MAX_UINT16;
01603    <span class="keywordtype">int</span> i = <a class="code" href="classRouteObject.html#d11">getOriginalOrigIndex</a>();
01604    <span class="keywordflow">if</span> ( i &gt;= 0 &amp;&amp; i &lt; int(<a class="code" href="classRouteObject.html#z459_0">m_allOrigs</a>.size()) ) {
01605       angle = <a class="code" href="classRouteObject.html#z459_0">m_allOrigs</a>[ i ]-&gt;<a class="code" href="classRouteObject_1_1OrigDestPoint.html#o5">startAngle</a>;
01606    }
01607    <span class="keywordflow">return</span> angle;
01608 }
01609 
01610 <span class="keyword">inline</span> <span class="keywordtype">int</span>
<a name="l01611"></a><a class="code" href="classRouteObject.html#z449_0">01611</a> <a class="code" href="classRouteObject.html#z449_0">RouteObject::addDestinationID</a>(uint32 mapID, uint32 itemID, uint16 offset) 
01612 {
01613    <a class="code" href="classRouteObject_1_1OrigDestPoint.html">OrigDestPoint</a>* odp = <span class="keyword">new</span> <a class="code" href="classRouteObject_1_1OrigDestPoint.html">OrigDestPoint</a>(mapID, itemID, offset);
01614    <a class="code" href="classRouteObject.html#z459_2">m_allDests</a>.push_back(odp);
01615    <a class="code" href="classRouteObject.html#z459_3">m_allDestsSafe</a>.push_back(odp);
01616    <a class="code" href="MC2Logging_8h.html#a6">mc2dbg8</a> &lt;&lt; <span class="stringliteral">"RO:Added to m_allDests with id="</span> &lt;&lt; odp-&gt;<a class="code" href="classRouteObject_1_1OrigDestPoint.html#o2">mapID</a> 
01617           &lt;&lt; <span class="charliteral">'.'</span> &lt;&lt; odp-&gt;<a class="code" href="classRouteObject_1_1OrigDestPoint.html#o3">itemID</a> &lt;&lt; <span class="charliteral">'.'</span> &lt;&lt; odp-&gt;<a class="code" href="classRouteObject_1_1OrigDestPoint.html#o4">offset</a> &lt;&lt; <span class="stringliteral">" ("</span>
01618           &lt;&lt; odp-&gt;<a class="code" href="classRouteObject_1_1OrigDestPoint.html#o0">lat</a> &lt;&lt; <span class="charliteral">','</span> &lt;&lt; odp-&gt;<a class="code" href="classRouteObject_1_1OrigDestPoint.html#o1">lon</a> &lt;&lt; <span class="charliteral">')'</span> &lt;&lt; endl;
01619    <span class="keywordflow">return</span> <a class="code" href="classRouteObject.html#z459_2">m_allDests</a>.size() - 1;
01620 }
01621 
01622 <span class="keyword">inline</span> <span class="keywordtype">int</span>
<a name="l01623"></a><a class="code" href="classRouteObject.html#z449_1">01623</a> <a class="code" href="classRouteObject.html#z449_1">RouteObject::addDestinationCoord</a>(int32 lat, int32 lon)
01624 {
01625    <a class="code" href="classRouteObject_1_1OrigDestPoint.html">OrigDestPoint</a>* odp = <span class="keyword">new</span> <a class="code" href="classRouteObject_1_1OrigDestPoint.html">OrigDestPoint</a>(lat, lon);
01626    <a class="code" href="classRouteObject.html#z459_2">m_allDests</a>.push_back(odp);
01627    <a class="code" href="classRouteObject.html#z459_3">m_allDestsSafe</a>.push_back(odp);
01628    <a class="code" href="MC2Logging_8h.html#a6">mc2dbg8</a> &lt;&lt; <span class="stringliteral">"RO:Added to m_allDests with id="</span> &lt;&lt; odp-&gt;<a class="code" href="classRouteObject_1_1OrigDestPoint.html#o2">mapID</a> 
01629           &lt;&lt; <span class="charliteral">'.'</span> &lt;&lt; odp-&gt;<a class="code" href="classRouteObject_1_1OrigDestPoint.html#o3">itemID</a> &lt;&lt; <span class="charliteral">'.'</span> &lt;&lt; odp-&gt;<a class="code" href="classRouteObject_1_1OrigDestPoint.html#o4">offset</a> &lt;&lt; <span class="stringliteral">" ("</span> &lt;&lt; odp-&gt;<a class="code" href="classRouteObject_1_1OrigDestPoint.html#o0">lat</a>
01630           &lt;&lt; <span class="charliteral">','</span> &lt;&lt; odp-&gt;<a class="code" href="classRouteObject_1_1OrigDestPoint.html#o1">lon</a> &lt;&lt; <span class="stringliteral">")"</span> &lt;&lt; endl;
01631    <span class="keywordflow">return</span> <a class="code" href="classRouteObject.html#z459_2">m_allDests</a>.size() - 1;
01632 }
01633 
01634 <span class="keyword">inline</span> <span class="keywordtype">int</span>
<a name="l01635"></a><a class="code" href="classRouteObject.html#z449_2">01635</a> <a class="code" href="classRouteObject.html#z449_2">RouteObject::addDestination</a>(uint32 mapID, uint32 itemID, uint16 offset,
01636                             int32 lat, int32 lon)
01637 {
01638    <a class="code" href="classRouteObject_1_1OrigDestPoint.html">OrigDestPoint</a>* odp = <span class="keyword">new</span> <a class="code" href="classRouteObject_1_1OrigDestPoint.html">OrigDestPoint</a>(lat, lon, mapID, itemID, offset);
01639    <a class="code" href="classRouteObject.html#z459_2">m_allDests</a>.push_back(odp);
01640    <a class="code" href="classRouteObject.html#z459_3">m_allDestsSafe</a>.push_back(odp);
01641    <a class="code" href="MC2Logging_8h.html#a6">mc2dbg8</a> &lt;&lt; <span class="stringliteral">"RO:Added to m_allDests with id="</span> &lt;&lt; odp-&gt;<a class="code" href="classRouteObject_1_1OrigDestPoint.html#o2">mapID</a> 
01642           &lt;&lt; <span class="stringliteral">"."</span> &lt;&lt; odp-&gt;<a class="code" href="classRouteObject_1_1OrigDestPoint.html#o3">itemID</a> &lt;&lt; <span class="charliteral">'.'</span> &lt;&lt; odp-&gt;<a class="code" href="classRouteObject_1_1OrigDestPoint.html#o4">offset</a> &lt;&lt; <span class="stringliteral">" ("</span>
01643           &lt;&lt; odp-&gt;<a class="code" href="classRouteObject_1_1OrigDestPoint.html#o0">lat</a> &lt;&lt; <span class="charliteral">','</span> &lt;&lt; odp-&gt;<a class="code" href="classRouteObject_1_1OrigDestPoint.html#o1">lon</a> &lt;&lt; <span class="charliteral">')'</span> &lt;&lt; endl;
01644    <span class="keywordflow">return</span> <a class="code" href="classRouteObject.html#z459_2">m_allDests</a>.size() - 1;
01645 }
01646 
01647 
01648 <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a21">uint32</a> 
<a name="l01649"></a><a class="code" href="classRouteObject.html#a17">01649</a> <a class="code" href="classRouteObject.html#a17">RouteObject::getNbrDestination</a>()<span class="keyword"> const </span>{
01650    <span class="keywordflow">return</span> <a class="code" href="classRouteObject.html#z459_2">m_allDests</a>.size();
01651 }
01652 
01653 
01654 <span class="keyword">inline</span> <span class="keywordtype">void</span> 
<a name="l01655"></a><a class="code" href="classRouteObject.html#a18">01655</a> <a class="code" href="classRouteObject.html#a18">RouteObject::getDestination</a>( uint32 i,
01656                              uint32&amp; mapID, uint32&amp; itemID, 
01657                              uint16&amp; offset, int32&amp; lat, int32&amp; lon )<span class="keyword"> const</span>
01658 <span class="keyword"></span>{
01659    <span class="keywordflow">if</span> ( i &lt; <a class="code" href="classRouteObject.html#z459_2">m_allDests</a>.size() ) {
01660       <span class="keyword">const</span> <a class="code" href="classRouteObject_1_1OrigDestPoint.html">OrigDestPoint</a>* ddp = <a class="code" href="classRouteObject.html#z459_2">m_allDests</a>[ i ];
01661       mapID = ddp-&gt;<a class="code" href="classRouteObject_1_1OrigDestPoint.html#o2">mapID</a>;
01662       itemID = ddp-&gt;<a class="code" href="classRouteObject_1_1OrigDestPoint.html#o3">itemID</a>;
01663       offset = ddp-&gt;<a class="code" href="classRouteObject_1_1OrigDestPoint.html#o4">offset</a>;
01664       lat = ddp-&gt;<a class="code" href="classRouteObject_1_1OrigDestPoint.html#o0">lat</a>;
01665       lon = ddp-&gt;<a class="code" href="classRouteObject_1_1OrigDestPoint.html#o1">lon</a>;      
01666    } <span class="keywordflow">else</span> {
01667       <a class="code" href="config_8h.html#a16">MC2ERROR2</a>( <span class="stringliteral">"RouteObject::getDestination index out of bounds!"</span>,
01668                  cerr &lt;&lt; <span class="stringliteral">"i "</span> &lt;&lt; i &lt;&lt; <span class="stringliteral">" size "</span> &lt;&lt; <a class="code" href="classRouteObject.html#z459_2">m_allDests</a>.size() 
01669                  &lt;&lt; endl;);
01670    }
01671 }
01672 
01673 
01674 <span class="keyword">inline</span> <span class="keywordtype">void</span>
<a name="l01675"></a><a class="code" href="classRouteObject.html#a12">01675</a> <a class="code" href="classRouteObject.html#a12">RouteObject::setRouteParameters</a>(<span class="keywordtype">bool</span> pIsStartTime,
01676                                 byte pRouteType,
01677                                 byte pCostA,
01678                                 byte pCostB,
01679                                 byte pCostC,
01680                                 byte pCostD,
01681                                 uint32 pVehicleParam,
01682                                 uint32 pTime,
01683                                 uint32 pTurnCost,
01684                                 <span class="keywordtype">bool</span> avoidTollRoads,
01685                                 <span class="keywordtype">bool</span> avoidHighways)
01686 {
01687    <a class="code" href="classRouteObject.html#r10">m_routeData</a>.isStartTime = pIsStartTime;
01688    <a class="code" href="classRouteObject.html#r10">m_routeData</a>.routeType = pRouteType;
01689    <a class="code" href="classRouteObject.html#r10">m_routeData</a>.costA = pCostA;
01690    <a class="code" href="classRouteObject.html#r10">m_routeData</a>.costB = pCostB;
01691    <a class="code" href="classRouteObject.html#r10">m_routeData</a>.costC = pCostC;
01692    <a class="code" href="classRouteObject.html#r10">m_routeData</a>.costD = pCostD;
01693    <a class="code" href="classRouteObject.html#r10">m_routeData</a>.vehicleParam = pVehicleParam;
01694    <a class="code" href="classRouteObject.html#r10">m_routeData</a>.time = pTime;
01695    <a class="code" href="classRouteObject.html#r10">m_routeData</a>.turnCost = pTurnCost;
01696    <span class="comment">// DriverPref should hold all the preferences in the future.</span>
01697    <span class="keyword">delete</span> m_driverPrefToDelete;
01698    <a class="code" href="classRouteObject.html#r23">m_driverPref</a> = <span class="keyword">new</span> <a class="code" href="classDriverPref.html">DriverPref</a>();
01699    <a class="code" href="classRouteObject.html#r24">m_driverPrefToDelete</a> = m_driverPref;
01700    <a class="code" href="classRouteObject.html#r23">m_driverPref</a>-&gt;<a class="code" href="classDriverPref.html#a12">setVehicleRestriction</a>(pVehicleParam);
01701    <a class="code" href="classRouteObject.html#r23">m_driverPref</a>-&gt;<a class="code" href="classDriverPref.html#a9">setRoutingCosts</a>(pCostA, pCostB, pCostC, pCostD);   
01702    <a class="code" href="classRouteObject.html#r23">m_driverPref</a>-&gt;<a class="code" href="classDriverPref.html#a20">setUturn</a>( pTurnCost != 0 );
01703    <span class="keywordflow">if</span> ( pTurnCost != 0 &amp;&amp; pVehicleParam == ItemTypes::pedestrian ) {
01704       <a class="code" href="MC2Logging_8h.html#a2">mc2dbg</a> &lt;&lt; <span class="stringliteral">"[RO]: Will not use turncost for pedestrian"</span> &lt;&lt; endl;
01705       <a class="code" href="classRouteObject.html#r23">m_driverPref</a>-&gt;<a class="code" href="classDriverPref.html#a20">setUturn</a>( 0 );
01706    }
01707    <a class="code" href="classRouteObject.html#r23">m_driverPref</a>-&gt;<a class="code" href="classDriverPref.html#a23">setAvoidTollRoads</a>( avoidTollRoads );
01708    <a class="code" href="classRouteObject.html#r23">m_driverPref</a>-&gt;<a class="code" href="classDriverPref.html#a24">setAvoidHighways</a>( avoidHighways );
01709    <a class="code" href="MC2Logging_8h.html#a6">mc2dbg8</a> &lt;&lt; <span class="stringliteral">"pTurnCost = "</span> &lt;&lt; pTurnCost &lt;&lt; <span class="stringliteral">", driverpref-&gt;useuturn = "</span>
01710           &lt;&lt; <a class="code" href="classRouteObject.html#r23">m_driverPref</a>-&gt;<a class="code" href="classDriverPref.html#a19">useUturn</a>() &lt;&lt; endl;
01711 }
01712 
01713 
01714 <span class="keyword">inline</span> <span class="keywordtype">void</span> 
<a name="l01715"></a><a class="code" href="classRouteObject.html#a13">01715</a> <a class="code" href="classRouteObject.html#a13">RouteObject::getRouteParameters</a>( <span class="keywordtype">bool</span>&amp; pIsStartTime,
01716                                  byte&amp; pRouteType,
01717                                  byte&amp; pCostA,
01718                                  byte&amp; pCostB,
01719                                  byte&amp; pCostC,
01720                                  byte&amp; pCostD,
01721                                  uint32&amp; pVehicleParam,
01722                                  uint32&amp; pTime,
01723                                  uint32&amp; pTurnCost )<span class="keyword"> const</span>
01724 <span class="keyword"></span>{
01725    pIsStartTime = <a class="code" href="classRouteObject.html#r10">m_routeData</a>.isStartTime;
01726    pRouteType = <a class="code" href="classRouteObject.html#r10">m_routeData</a>.routeType;
01727    pCostA = <a class="code" href="classRouteObject.html#r10">m_routeData</a>.costA;
01728    pCostB = <a class="code" href="classRouteObject.html#r10">m_routeData</a>.costB;
01729    pCostC = <a class="code" href="classRouteObject.html#r10">m_routeData</a>.costC;
01730    pCostD = <a class="code" href="classRouteObject.html#r10">m_routeData</a>.costD;
01731    pVehicleParam = <a class="code" href="classRouteObject.html#r10">m_routeData</a>.vehicleParam;
01732    pTime = <a class="code" href="classRouteObject.html#r10">m_routeData</a>.time;
01733    pTurnCost = <a class="code" href="classRouteObject.html#r10">m_routeData</a>.turnCost;
01734 }
01735 
01736 
01737 <span class="keyword">inline</span> <span class="keywordtype">bool</span> 
<a name="l01738"></a><a class="code" href="classRouteObject.html#a19">01738</a> <a class="code" href="classRouteObject.html#a19">RouteObject::getDone</a>()
01739 {
01740    <span class="keywordflow">return</span> ( (<a class="code" href="classRouteObject.html#r11">m_state</a> == DONE) || (<a class="code" href="classRouteObject.html#r11">m_state</a> == ERROR));
01741 }
01742 
01743 <span class="keyword">inline</span> <span class="keywordtype">bool</span>
<a name="l01744"></a><a class="code" href="classRouteObject.html#a20">01744</a> <a class="code" href="classRouteObject.html#a20">RouteObject::requestDone</a>()
01745 {
01746    <span class="keywordflow">return</span> <a class="code" href="classRouteObject.html#a19">getDone</a>();
01747 }
01748 
01749 <span class="keyword">inline</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* 
<a name="l01750"></a><a class="code" href="classRouteObject.html#z455_0">01750</a> <a class="code" href="classRouteObject.html#z455_0">RouteObject::getRouteOriginName</a>()<span class="keyword"> const</span>
01751 <span class="keyword"></span>{
01752    <span class="keywordflow">return</span> (<a class="code" href="classRouteObject.html#z463_0">m_origPoint</a>.<a class="code" href="structRouteObject_1_1origDestFinalPoint__t.html#o3">itemName</a>);
01753 }
01754 
01755 <span class="keyword">inline</span> <span class="keywordtype">bool</span> 
<a name="l01756"></a><a class="code" href="classRouteObject.html#z455_1">01756</a> <a class="code" href="classRouteObject.html#z455_1">RouteObject::getRouteOriginCoord</a>(int32&amp; lat, int32&amp; lon)<span class="keyword"> const</span>
01757 <span class="keyword"></span>{
01758     <span class="keywordflow">if</span> (<a class="code" href="classRouteObject.html#z461_0">m_origDescriptions</a>.size() &gt; 0) {
01759       <a class="code" href="classRouteObject_1_1OrigDestDescription.html">OrigDestDescription</a>* desc = <a class="code" href="classRouteObject.html#z461_0">m_origDescriptions</a>[0];
01760       <span class="comment">// Find any of the descritioins that have the correct ID's</span>
01761       <a class="code" href="Types_8h.html#a21">uint32</a> pos = 0;
01762       <span class="keywordflow">while</span> ( (desc != NULL) &amp;&amp;
01763               (desc-&gt;<a class="code" href="classRouteObject_1_1OrigDestDescription.html#o2">mapID</a> != <a class="code" href="classRouteObject.html#z463_0">m_origPoint</a>.<a class="code" href="structRouteObject_1_1origDestFinalPoint__t.html#o0">mapID</a>) &amp;&amp;
01764               (desc-&gt;<a class="code" href="classRouteObject_1_1OrigDestDescription.html#o4">itemID</a> != <a class="code" href="classRouteObject.html#z463_0">m_origPoint</a>.<a class="code" href="structRouteObject_1_1origDestFinalPoint__t.html#o1">itemID</a>)) {
01765          pos++;
01766          <span class="keywordflow">if</span>( pos &lt; <a class="code" href="classRouteObject.html#z461_0">m_origDescriptions</a>.size() ) {
01767             desc = <a class="code" href="classRouteObject.html#z461_0">m_origDescriptions</a>[pos];
01768          } <span class="keywordflow">else</span> {
01769             desc = NULL;
01770          }
01771       }
01772       
01773       <span class="comment">// update and return</span>
01774       <span class="keywordflow">if</span> (desc != NULL) {
01775          lat = desc-&gt;<a class="code" href="classRouteObject_1_1OrigDestDescription.html#o0">lat</a>;
01776          lon = desc-&gt;<a class="code" href="classRouteObject_1_1OrigDestDescription.html#o1">lon</a>;
01777          <span class="keywordflow">return</span> (<span class="keyword">true</span>);
01778       }
01779    }
01780 
01781    <span class="comment">// Something is wrong, no descriptions</span>
01782    <span class="keywordflow">return</span> (<span class="keyword">false</span>);
01783 }
01784 
01785 
01786 <span class="keyword">inline</span> <span class="keywordtype">void</span>
<a name="l01787"></a><a class="code" href="classRouteObject.html#z455_2">01787</a> <a class="code" href="classRouteObject.html#z455_2">RouteObject::getRouteOrigin</a>( uint32&amp; mapID, 
01788                              uint32&amp; itemID,
01789                              uint16&amp; offset,
01790                              <span class="keyword">const</span> <span class="keywordtype">char</span>*&amp; name )<span class="keyword"> const</span>
01791 <span class="keyword"></span>{
01792    mapID = <a class="code" href="classRouteObject.html#z463_0">m_origPoint</a>.<a class="code" href="structRouteObject_1_1origDestFinalPoint__t.html#o0">mapID</a>;
01793    itemID = <a class="code" href="classRouteObject.html#z463_0">m_origPoint</a>.<a class="code" href="structRouteObject_1_1origDestFinalPoint__t.html#o1">itemID</a>;
01794    offset = <a class="code" href="classRouteObject.html#z463_0">m_origPoint</a>.<a class="code" href="structRouteObject_1_1origDestFinalPoint__t.html#o2">offset</a>;
01795    name = <a class="code" href="classRouteObject.html#z463_0">m_origPoint</a>.<a class="code" href="structRouteObject_1_1origDestFinalPoint__t.html#o3">itemName</a>;
01796 
01797 }
01798 
01799 
01800 <span class="keyword">inline</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* 
<a name="l01801"></a><a class="code" href="classRouteObject.html#z455_3">01801</a> <a class="code" href="classRouteObject.html#z455_3">RouteObject::getRouteDestinationName</a>()<span class="keyword"> const</span>
01802 <span class="keyword"></span>{
01803    <span class="keywordflow">return</span> (<a class="code" href="classRouteObject.html#z463_1">m_destPoint</a>.<a class="code" href="structRouteObject_1_1origDestFinalPoint__t.html#o3">itemName</a>);
01804 }
01805 
01806 
01807 <span class="keyword">inline</span> <span class="keywordtype">bool</span> 
<a name="l01808"></a><a class="code" href="classRouteObject.html#z455_4">01808</a> <a class="code" href="classRouteObject.html#z455_4">RouteObject::getRouteDestinationCoord</a>(int32&amp; lat, int32&amp; lon)<span class="keyword"> const</span>
01809 <span class="keyword"></span>{
01810    <span class="keywordflow">if</span> (<a class="code" href="classRouteObject.html#z461_1">m_destDescriptions</a>.size() &gt; 0) {
01811       <a class="code" href="classRouteObject_1_1OrigDestDescription.html">OrigDestDescription</a>* desc = <a class="code" href="classRouteObject.html#z461_1">m_destDescriptions</a>[0];
01812       <span class="comment">// Find any of the descritioins that have the correct ID's</span>
01813       <a class="code" href="Types_8h.html#a21">uint32</a> pos = 0;
01814       <span class="keywordflow">while</span> ( (desc != NULL) &amp;&amp;
01815               (desc-&gt;<a class="code" href="classRouteObject_1_1OrigDestDescription.html#o2">mapID</a> != <a class="code" href="classRouteObject.html#z463_1">m_destPoint</a>.<a class="code" href="structRouteObject_1_1origDestFinalPoint__t.html#o0">mapID</a>) &amp;&amp;
01816               (desc-&gt;<a class="code" href="classRouteObject_1_1OrigDestDescription.html#o4">itemID</a> != <a class="code" href="classRouteObject.html#z463_1">m_destPoint</a>.<a class="code" href="structRouteObject_1_1origDestFinalPoint__t.html#o1">itemID</a>)) {
01817          pos++;
01818          <span class="keywordflow">if</span>( pos &lt; <a class="code" href="classRouteObject.html#z461_1">m_destDescriptions</a>.size() ) {
01819             desc = <a class="code" href="classRouteObject.html#z461_1">m_destDescriptions</a>[pos];
01820          } <span class="keywordflow">else</span> {
01821             desc = NULL;
01822          }
01823       }
01824       
01825       <span class="comment">// update and return</span>
01826       <span class="keywordflow">if</span> (desc != NULL) {
01827          lat = desc-&gt;<a class="code" href="classRouteObject_1_1OrigDestDescription.html#o0">lat</a>;
01828          lon = desc-&gt;<a class="code" href="classRouteObject_1_1OrigDestDescription.html#o1">lon</a>;
01829          <span class="keywordflow">return</span> (<span class="keyword">true</span>);
01830       }
01831    }
01832 
01833    <span class="comment">// Something is wrong, no descriptions</span>
01834    <span class="keywordflow">return</span> (<span class="keyword">false</span>);
01835 }
01836 
01837 <span class="keyword">inline</span> <span class="keywordtype">void</span>
<a name="l01838"></a><a class="code" href="classRouteObject.html#z455_5">01838</a> <a class="code" href="classRouteObject.html#z455_5">RouteObject::getRouteDestination</a>( uint32&amp; mapID, 
01839                                   uint32&amp; itemID,
01840                                   uint16&amp; offset,
01841                                   <span class="keyword">const</span> <span class="keywordtype">char</span>*&amp; name )<span class="keyword"> const</span>
01842 <span class="keyword"></span>{
01843    mapID = <a class="code" href="classRouteObject.html#z463_1">m_destPoint</a>.<a class="code" href="structRouteObject_1_1origDestFinalPoint__t.html#o0">mapID</a>;
01844    itemID = <a class="code" href="classRouteObject.html#z463_1">m_destPoint</a>.<a class="code" href="structRouteObject_1_1origDestFinalPoint__t.html#o1">itemID</a>;
01845    offset = <a class="code" href="classRouteObject.html#z463_1">m_destPoint</a>.<a class="code" href="structRouteObject_1_1origDestFinalPoint__t.html#o2">offset</a>;
01846    name = <a class="code" href="classRouteObject.html#z463_1">m_destPoint</a>.<a class="code" href="structRouteObject_1_1origDestFinalPoint__t.html#o3">itemName</a>;   
01847 }
01848 
01849 
01850 <span class="keyword">inline</span> ItemTypes::routedir_nbr_t 
<a name="l01851"></a><a class="code" href="classRouteObject.html#z457_0">01851</a> <a class="code" href="classRouteObject.html#z457_0">RouteObject::getStartDirectionHousenumber</a>()
01852 {
01853    <span class="keywordflow">if</span> (<a class="code" href="classRouteObject.html#r17">m_routeExpander</a> != NULL) {
01854       <span class="keywordflow">return</span> <a class="code" href="classRouteObject.html#r17">m_routeExpander</a>-&gt;<a class="code" href="classRouteExpander.html#z445_0">getStartDirectionHousenumber</a>();
01855    }
01856    <span class="keywordflow">return</span> ItemTypes::unknown_nbr_t;
01857 }
01858 
01859 <span class="keyword">inline</span> ItemTypes::routedir_oddeven_t 
<a name="l01860"></a><a class="code" href="classRouteObject.html#z457_1">01860</a> <a class="code" href="classRouteObject.html#z457_1">RouteObject::getStartDirectionOddEven</a>()
01861 {
01862    <span class="keywordflow">if</span> (<a class="code" href="classRouteObject.html#r17">m_routeExpander</a> != NULL) {
01863       <span class="keywordflow">return</span> <a class="code" href="classRouteObject.html#r17">m_routeExpander</a>-&gt;<a class="code" href="classRouteExpander.html#z445_1">getStartDirectionOddEven</a>();
01864    }
01865    <span class="keywordflow">return</span> ItemTypes::unknown_oddeven_t;
01866 }
01867 
01868 <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a21">uint32</a> 
<a name="l01869"></a><a class="code" href="classRouteObject.html#a25">01869</a> <a class="code" href="classRouteObject.html#a25">RouteObject::getRouteID</a>()<span class="keyword"> const </span>{
01870    <span class="keywordflow">return</span> <a class="code" href="classRouteObject.html#r15">m_request</a>-&gt;<a class="code" href="classRequest.html#a3">getID</a>();
01871 }
01872 
01873 
01874 <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a21">uint32</a> 
<a name="l01875"></a><a class="code" href="classRouteObject.html#a26">01875</a> <a class="code" href="classRouteObject.html#a26">RouteObject::getRouteCreateTime</a>()<span class="keyword"> const </span>{
01876    <span class="keywordflow">return</span> m_createTime;
01877 }
01878 
01879 <span class="keyword">inline</span> StringTable::stringCode
<a name="l01880"></a><a class="code" href="classRouteObject.html#a29">01880</a> <a class="code" href="classRouteObject.html#a29">RouteObject::getStatus</a>()<span class="keyword"> const</span>
01881 <span class="keyword"></span>{
01882    <span class="keywordflow">return</span> m_status;
01883 }
01884 
01885 <span class="keyword">inline</span> <span class="keywordtype">void</span> 
<a name="l01886"></a><a class="code" href="classRouteObject.html#a30">01886</a> <a class="code" href="classRouteObject.html#a30">RouteObject::setAllowedMaps</a>( <a class="code" href="classRouteAllowedMap.html">RouteAllowedMap</a>* maps ) {
01887    <a class="code" href="classRouteObject.html#r40">m_allowedMaps</a> = maps;
01888 }
01889 
01890 
01891 <span class="keyword">inline</span> StringTable::languageCode
<a name="l01892"></a><a class="code" href="classRouteObject.html#a31">01892</a> <a class="code" href="classRouteObject.html#a31">RouteObject::getLanguage</a>()<span class="keyword"> const </span>{
01893    <span class="keywordflow">return</span> m_language;
01894 }
01895 
01896 
01897 <span class="preprocessor">#endif</span>
01898 <span class="preprocessor"></span>
01899 
01900 
01901 
01902 
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Wed Jun 30 10:11:49 2010 for mc2 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.3.9.1 </small></address>
</body>
</html>
