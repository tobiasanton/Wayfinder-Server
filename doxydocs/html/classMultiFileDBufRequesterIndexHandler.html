<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>mc2: MultiFileDBufRequesterIndexHandler Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.9.1 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>MultiFileDBufRequesterIndexHandler Class Reference</h1><code>#include &lt;<a class="el" href="MultiFileDBufRequesterIndexHandler_8h-source.html">MultiFileDBufRequesterIndexHandler.h</a>&gt;</code>
<p>
Inheritance diagram for MultiFileDBufRequesterIndexHandler:<p><center><img src="classMultiFileDBufRequesterIndexHandler__inherit__graph.png" border="0" usemap="#MultiFileDBufRequesterIndexHandler__inherit__map" alt="Inheritance graph"></center>
<map name="MultiFileDBufRequesterIndexHandler__inherit__map">
<area href="classFileHandlerListener.html" shape="rect" coords="5,5,141,32" alt="">
<area href="classNotCopyable.html" shape="rect" coords="165,5,264,32" alt="">
</map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center>Collaboration diagram for MultiFileDBufRequesterIndexHandler:<p><center><img src="classMultiFileDBufRequesterIndexHandler__coll__graph.png" border="0" usemap="#MultiFileDBufRequesterIndexHandler__coll__map" alt="Collaboration graph"></center>
<map name="MultiFileDBufRequesterIndexHandler__coll__map">
<area href="classMultiFileDBufRequester.html" shape="rect" coords="192,203,355,229" alt="">
<area href="classFileHandlerListener.html" shape="rect" coords="5,5,141,32" alt="">
<area href="classNotCopyable.html" shape="rect" coords="173,5,272,32" alt="">
<area href="classMC2SimpleString.html" shape="rect" coords="472,5,597,32" alt="">
<area href="classBitBuffer.html" shape="rect" coords="325,5,397,32" alt="">
</map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center><a href="classMultiFileDBufRequesterIndexHandler-members.html">List of all members.</a><h2>Public Member Functions</h2>
<ul>
<li><a class="el" href="classMultiFileDBufRequesterIndexHandler.html#a0">MultiFileDBufRequesterIndexHandler</a> (<a class="el" href="classMultiFileDBufRequester.html">MultiFileDBufRequester</a> *listener, <a class="el" href="classvector.html">vector</a>&lt; <a class="el" href="classFileHandler.html">FileHandler</a> * &gt; &amp;indexFiles, int nbrHash)
<dl class="el"><dd class="mdescRight">Creates a new MultiFileDBufRequesterIndexHandler with the supplied indexFiles.  <a href="#a0"></a><br></dl><li>virtual <a class="el" href="classMultiFileDBufRequesterIndexHandler.html#a1">~MultiFileDBufRequesterIndexHandler</a> ()
<li>void <a class="el" href="classMultiFileDBufRequesterIndexHandler.html#a2">shutDown</a> ()
<dl class="el"><dd class="mdescRight">Sets the shutdown flag.  <a href="#a2"></a><br></dl><li>void <a class="el" href="classMultiFileDBufRequesterIndexHandler.html#a3">find</a> (const <a class="el" href="classMC2SimpleString.html">MC2SimpleString</a> &amp;desc, int lastWrittenFileNbr, int maxNbrFilesToSearch=-1)
<dl class="el"><dd class="mdescRight">Tries to find the specified desc in the index and calls the listener when it is done.  <a href="#a3"></a><br></dl><li>void <a class="el" href="classMultiFileDBufRequesterIndexHandler.html#a4">updateMapIndex</a> (int fileIdx, const <a class="el" href="classMC2SimpleString.html">MC2SimpleString</a> &amp;desc, int startOffset, int size)
<dl class="el"><dd class="mdescRight">Starts writing a map to the index.  <a href="#a4"></a><br></dl><li>void <a class="el" href="classMultiFileDBufRequesterIndexHandler.html#a5">remove</a> (const <a class="el" href="classMC2SimpleString.html">MC2SimpleString</a> &amp;descr)
<dl class="el"><dd class="mdescRight">Starts removing the map from the index files.  <a href="#a5"></a><br></dl><li>void <a class="el" href="classMultiFileDBufRequesterIndexHandler.html#a6">readDone</a> (int nbrRead)
<dl class="el"><dd class="mdescRight">Called by the <a class="el" href="classFileHandler.html">FileHandler</a> when a read is done.  <a href="#a6"></a><br></dl><li>void <a class="el" href="classMultiFileDBufRequesterIndexHandler.html#a7">writeDone</a> (int nbrWritten)
<dl class="el"><dd class="mdescRight">Called by the <a class="el" href="classFileHandler.html">FileHandler</a> when a write is done.  <a href="#a7"></a><br></dl><li>void <a class="el" href="classMultiFileDBufRequesterIndexHandler.html#a8">clearIndex</a> (int nbr)
<dl class="el"><dd class="mdescRight">Called by the <a class="el" href="classMultiFileDBufRequester.html">MultiFileDBufRequester</a> when it clears the index file.  <a href="#a8"></a><br></dl><li>int <a class="el" href="classMultiFileDBufRequesterIndexHandler.html#a9">getIndexNbr</a> (int fileNbr, const <a class="el" href="classMC2SimpleString.html">MC2SimpleString</a> &amp;desc) const 
<dl class="el"><dd class="mdescRight">Get the index number (for m_indeces) for the given mapdesc and filenumber.  <a href="#a9"></a><br></dl></ul>
<h2>Private Types</h2>
<ul>
<li>typedef pair&lt; int, int &gt; <a class="el" href="classMultiFileDBufRequesterIndexHandler.html#y0">offsetAndSize_t</a>
<dl class="el"><dd class="mdescRight">Pair of offset in file and size of map.  <a href="#y0"></a><br></dl><li>typedef <a class="el" href="classmap.html">map</a>&lt; <a class="el" href="classMC2SimpleString.html">MC2SimpleString</a>,<br>
 pair&lt; int, int &gt; &gt; <a class="el" href="classMultiFileDBufRequesterIndexHandler.html#y1">indexMap_t</a>
<dl class="el"><dd class="mdescRight">Type of map to store index data in.  <a href="#y1"></a><br></dl><li>enum <a class="el" href="classMultiFileDBufRequesterIndexHandler.html#y13">mode_t</a> { <a class="el" href="classMultiFileDBufRequesterIndexHandler.html#y13y2">MODE_FINDING</a>, 
<a class="el" href="classMultiFileDBufRequesterIndexHandler.html#y13y3">MODE_REMOVING</a>, 
<a class="el" href="classMultiFileDBufRequesterIndexHandler.html#y13y4">MODE_WRITING</a>
 }
<li>enum <a class="el" href="classMultiFileDBufRequesterIndexHandler.html#y14">state_t</a> { <br>
&nbsp;&nbsp;<a class="el" href="classMultiFileDBufRequesterIndexHandler.html#y14y5">IDLE</a> =  0, 
<a class="el" href="classMultiFileDBufRequesterIndexHandler.html#y14y6">FINDING_MAP_READING_INDEX_LENGTH</a> =  11, 
<a class="el" href="classMultiFileDBufRequesterIndexHandler.html#y14y7">FINDING_MAP_READING_INDEX</a> =  12, 
<br>
&nbsp;&nbsp;<a class="el" href="classMultiFileDBufRequesterIndexHandler.html#y14y8">WRITING_MAP_READING_INDEX_LENGTH</a> =  21, 
<a class="el" href="classMultiFileDBufRequesterIndexHandler.html#y14y9">WRITING_MAP_READING_INDEX</a> =  22, 
<a class="el" href="classMultiFileDBufRequesterIndexHandler.html#y14y10">WRITING_INDEX</a> =  23, 
<br>
&nbsp;&nbsp;<a class="el" href="classMultiFileDBufRequesterIndexHandler.html#y14y11">REMOVING_MAP_READING_INDEX_LENGTH</a> =  31, 
<a class="el" href="classMultiFileDBufRequesterIndexHandler.html#y14y12">REMOVING_MAP_READING_INDEX</a> =  32
<br>
 }
</ul>
<h2>Private Member Functions</h2>
<ul>
<li><a class="el" href="classMultiFileDBufRequesterIndexHandler.html#y0">offsetAndSize_t</a> <a class="el" href="classMultiFileDBufRequesterIndexHandler.html#d0">findMapInCurrentIndexBuffer</a> ()
<dl class="el"><dd class="mdescRight">Returns the offset and size of m_currentDescToFind in the current idx.  <a href="#d0"></a><br></dl><li>void <a class="el" href="classMultiFileDBufRequesterIndexHandler.html#d1">moveToNextIdxOrStop</a> ()
<dl class="el"><dd class="mdescRight">Moves the the next index or tells the <a class="el" href="classMultiFileDBufRequester.html">MultiFileDBufRequester</a> that we are done.  <a href="#d1"></a><br></dl><li>void <a class="el" href="classMultiFileDBufRequesterIndexHandler.html#d2">findComplete</a> (int startOffset, int size)
<dl class="el"><dd class="mdescRight">Calls the requester and tells it that we are done.  <a href="#d2"></a><br></dl><li>void <a class="el" href="classMultiFileDBufRequesterIndexHandler.html#d3">removeComplete</a> ()
<dl class="el"><dd class="mdescRight">Calls the requester and tells it that we are done removing.  <a href="#d3"></a><br></dl><li>void <a class="el" href="classMultiFileDBufRequesterIndexHandler.html#d4">startFinding</a> ()
<dl class="el"><dd class="mdescRight">Initiates the finding process.  <a href="#d4"></a><br></dl><li>void <a class="el" href="classMultiFileDBufRequesterIndexHandler.html#d5">removeFromIndex</a> ()
<dl class="el"><dd class="mdescRight">Removes the currently looked for map from the index.  <a href="#d5"></a><br></dl><li>void <a class="el" href="classMultiFileDBufRequesterIndexHandler.html#d6">startReadingIndex</a> ()
<li>void <a class="el" href="classMultiFileDBufRequesterIndexHandler.html#d7">allocReadBuffer</a> (int size)
<li>bool <a class="el" href="classMultiFileDBufRequesterIndexHandler.html#d8">updateFindIndex</a> ()
<li>void <a class="el" href="classMultiFileDBufRequesterIndexHandler.html#d9">createIndex</a> ()
<li>void <a class="el" href="classMultiFileDBufRequesterIndexHandler.html#d10">writeIndex</a> ()
<dl class="el"><dd class="mdescRight">Writes the current index back to disk.  <a href="#d10"></a><br></dl><li>void <a class="el" href="classMultiFileDBufRequesterIndexHandler.html#d11">indexWritten</a> ()
<dl class="el"><dd class="mdescRight">Called when index is written.  <a href="#d11"></a><br></dl><li>void <a class="el" href="classMultiFileDBufRequesterIndexHandler.html#d12">addCurrentMapToCurrentIndex</a> ()
<dl class="el"><dd class="mdescRight">Adds the current writing map to the current index.  <a href="#d12"></a><br></dl><li>int <a class="el" href="classMultiFileDBufRequesterIndexHandler.html#d13">removeCurrentMapFromCurrentIndex</a> ()
<dl class="el"><dd class="mdescRight">Removes m_currentDescToFind from m_currentIndexFile. If removed.  <a href="#d13"></a><br></dl><li>void <a class="el" href="classMultiFileDBufRequesterIndexHandler.html#d14">setState</a> (<a class="el" href="classMultiFileDBufRequesterIndexHandler.html#y14">state_t</a> newState, int lineNbr)
</ul>
<h2>Private Attributes</h2>
<ul>
<li><a class="el" href="classvector.html">vector</a>&lt; <a class="el" href="classFileHandler.html">FileHandler</a> * &gt; &amp; <a class="el" href="classMultiFileDBufRequesterIndexHandler.html#r0">m_indexFiles</a>
<dl class="el"><dd class="mdescRight">Vector of index files to look in.  <a href="#r0"></a><br></dl><li>enum <a class="el" href="classMultiFileDBufRequesterIndexHandler.html#y13">MultiFileDBufRequesterIndexHandler::mode_t</a> <a class="el" href="classMultiFileDBufRequesterIndexHandler.html#r1">m_mode</a>
<li>enum <a class="el" href="classMultiFileDBufRequesterIndexHandler.html#y14">MultiFileDBufRequesterIndexHandler::state_t</a> <a class="el" href="classMultiFileDBufRequesterIndexHandler.html#r2">m_state</a>
<li>int <a class="el" href="classMultiFileDBufRequesterIndexHandler.html#r3">m_currentIndexFile</a>
<dl class="el"><dd class="mdescRight">Index of the current file.  <a href="#r3"></a><br></dl><li>int <a class="el" href="classMultiFileDBufRequesterIndexHandler.html#r4">m_nbrFilesLeftToSearch</a>
<dl class="el"><dd class="mdescRight">The number of files left to search.  <a href="#r4"></a><br></dl><li><a class="el" href="classMC2SimpleString.html">MC2SimpleString</a> <a class="el" href="classMultiFileDBufRequesterIndexHandler.html#r5">m_currentDescToFind</a>
<dl class="el"><dd class="mdescRight">Current desc to look for or to write.  <a href="#r5"></a><br></dl><li><a class="el" href="classvector.html">vector</a>&lt; <a class="el" href="classmap.html">indexMap_t</a> * &gt; <a class="el" href="classMultiFileDBufRequesterIndexHandler.html#r6">m_indeces</a>
<dl class="el"><dd class="mdescRight">Vector of indeces.  <a href="#r6"></a><br></dl><li><a class="el" href="classMultiFileDBufRequester.html">MultiFileDBufRequester</a> * <a class="el" href="classMultiFileDBufRequesterIndexHandler.html#r7">m_listener</a>
<dl class="el"><dd class="mdescRight">The listener to all requests.  <a href="#r7"></a><br></dl><li><a class="el" href="classBitBuffer.html">BitBuffer</a> * <a class="el" href="classMultiFileDBufRequesterIndexHandler.html#r8">m_readBuffer</a>
<dl class="el"><dd class="mdescRight"><a class="el" href="classBitBuffer.html">BitBuffer</a> used when reading.  <a href="#r8"></a><br></dl><li><a class="el" href="classBitBuffer.html">BitBuffer</a> * <a class="el" href="classMultiFileDBufRequesterIndexHandler.html#r9">m_writeBuffer</a>
<dl class="el"><dd class="mdescRight"><a class="el" href="classBitBuffer.html">BitBuffer</a> used when writing.  <a href="#r9"></a><br></dl><li><a class="el" href="classMultiFileDBufRequesterIndexHandler.html#y0">offsetAndSize_t</a> <a class="el" href="classMultiFileDBufRequesterIndexHandler.html#r10">m_currentWritePosAndSize</a>
<dl class="el"><dd class="mdescRight">Current write position and size of map.  <a href="#r10"></a><br></dl><li>bool <a class="el" href="classMultiFileDBufRequesterIndexHandler.html#r11">m_shuttingDown</a>
<dl class="el"><dd class="mdescRight">True if no more request may be served.  <a href="#r11"></a><br></dl><li>int <a class="el" href="classMultiFileDBufRequesterIndexHandler.html#r12">m_nbrHash</a>
<dl class="el"><dd class="mdescRight">The number of hashes per file, i.e.  <a href="#r12"></a><br></dl><li>int <a class="el" href="classMultiFileDBufRequesterIndexHandler.html#r13">m_nbrFiles</a>
<dl class="el"><dd class="mdescRight">The number of datafiles.  <a href="#r13"></a><br></dl></ul>
<hr><h2>Member Typedef Documentation</h2>
<a class="anchor" name="y1" doxytag="MultiFileDBufRequesterIndexHandler::indexMap_t"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">typedef <a class="el" href="classmap.html">map</a>&lt;<a class="el" href="classMC2SimpleString.html">MC2SimpleString</a>, pair&lt;int,int&gt; &gt; <a class="el" href="classmap.html">MultiFileDBufRequesterIndexHandler::indexMap_t</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Type of map to store index data in. 
<p>

<p>
Definition at line <a class="el" href="MultiFileDBufRequesterIndexHandler_8h-source.html#l00183">183</a> of file <a class="el" href="MultiFileDBufRequesterIndexHandler_8h-source.html">MultiFileDBufRequesterIndexHandler.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="y0" doxytag="MultiFileDBufRequesterIndexHandler::offsetAndSize_t"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">typedef pair&lt;int, int&gt; <a class="el" href="classMultiFileDBufRequesterIndexHandler.html#y0">MultiFileDBufRequesterIndexHandler::offsetAndSize_t</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Pair of offset in file and size of map. 
<p>

<p>
Definition at line <a class="el" href="MultiFileDBufRequesterIndexHandler_8h-source.html#l00094">94</a> of file <a class="el" href="MultiFileDBufRequesterIndexHandler_8h-source.html">MultiFileDBufRequesterIndexHandler.h</a>.    </td>
  </tr>
</table>
<hr><h2>Member Enumeration Documentation</h2>
<a class="anchor" name="y13" doxytag="MultiFileDBufRequesterIndexHandler::mode_t"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">enum <a class="el" href="classMultiFileDBufRequesterIndexHandler.html#y13">MultiFileDBufRequesterIndexHandler::mode_t</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Enumeration values: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" name="y13y2" doxytag="MODE_FINDING"></a>MODE_FINDING</em>&nbsp;</td><td>
We are looking for a map. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="y13y3" doxytag="MODE_REMOVING"></a>MODE_REMOVING</em>&nbsp;</td><td>
We are removing a map - not writing it. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="y13y4" doxytag="MODE_WRITING"></a>MODE_WRITING</em>&nbsp;</td><td>
We are writing a map. </td></tr>
</table>
</dl>

<p>
Definition at line <a class="el" href="MultiFileDBufRequesterIndexHandler_8h-source.html#l00146">146</a> of file <a class="el" href="MultiFileDBufRequesterIndexHandler_8h-source.html">MultiFileDBufRequesterIndexHandler.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="y14" doxytag="MultiFileDBufRequesterIndexHandler::state_t"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">enum <a class="el" href="classMultiFileDBufRequesterIndexHandler.html#y14">MultiFileDBufRequesterIndexHandler::state_t</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Enumeration values: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" name="y14y5" doxytag="IDLE"></a>IDLE</em>&nbsp;</td><td>
Not doing anything. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="y14y6" doxytag="FINDING_MAP_READING_INDEX_LENGTH"></a>FINDING_MAP_READING_INDEX_LENGTH</em>&nbsp;</td><td>
Looking for a map - reading index length,. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="y14y7" doxytag="FINDING_MAP_READING_INDEX"></a>FINDING_MAP_READING_INDEX</em>&nbsp;</td><td>
Looking for a map. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="y14y8" doxytag="WRITING_MAP_READING_INDEX_LENGTH"></a>WRITING_MAP_READING_INDEX_LENGTH</em>&nbsp;</td><td>
About to write a map - reading index length. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="y14y9" doxytag="WRITING_MAP_READING_INDEX"></a>WRITING_MAP_READING_INDEX</em>&nbsp;</td><td>
About to write a map - reading index. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="y14y10" doxytag="WRITING_INDEX"></a>WRITING_INDEX</em>&nbsp;</td><td>
Writing index. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="y14y11" doxytag="REMOVING_MAP_READING_INDEX_LENGTH"></a>REMOVING_MAP_READING_INDEX_LENGTH</em>&nbsp;</td><td>
Reading index length before removing map from it. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="y14y12" doxytag="REMOVING_MAP_READING_INDEX"></a>REMOVING_MAP_READING_INDEX</em>&nbsp;</td><td>
Reading the index before removing map from it. </td></tr>
</table>
</dl>

<p>
Definition at line <a class="el" href="MultiFileDBufRequesterIndexHandler_8h-source.html#l00155">155</a> of file <a class="el" href="MultiFileDBufRequesterIndexHandler_8h-source.html">MultiFileDBufRequesterIndexHandler.h</a>.    </td>
  </tr>
</table>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="a0" doxytag="MultiFileDBufRequesterIndexHandler::MultiFileDBufRequesterIndexHandler"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">MultiFileDBufRequesterIndexHandler::MultiFileDBufRequesterIndexHandler           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classMultiFileDBufRequester.html">MultiFileDBufRequester</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>listener</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="classvector.html">vector</a>&lt; <a class="el" href="classFileHandler.html">FileHandler</a> * &gt; &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>indexFiles</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>nbrHash</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Creates a new MultiFileDBufRequesterIndexHandler with the supplied indexFiles. 
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a1" doxytag="MultiFileDBufRequesterIndexHandler::~MultiFileDBufRequesterIndexHandler"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual MultiFileDBufRequesterIndexHandler::~<a class="el" href="classMultiFileDBufRequesterIndexHandler.html">MultiFileDBufRequesterIndexHandler</a>           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="d12" doxytag="MultiFileDBufRequesterIndexHandler::addCurrentMapToCurrentIndex"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void MultiFileDBufRequesterIndexHandler::addCurrentMapToCurrentIndex           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [private]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Adds the current writing map to the current index. 
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="d7" doxytag="MultiFileDBufRequesterIndexHandler::allocReadBuffer"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void MultiFileDBufRequesterIndexHandler::allocReadBuffer           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>size</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [private]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a8" doxytag="MultiFileDBufRequesterIndexHandler::clearIndex"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void MultiFileDBufRequesterIndexHandler::clearIndex           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>nbr</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Called by the <a class="el" href="classMultiFileDBufRequester.html">MultiFileDBufRequester</a> when it clears the index file. 
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="d9" doxytag="MultiFileDBufRequesterIndexHandler::createIndex"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void MultiFileDBufRequesterIndexHandler::createIndex           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [private]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a3" doxytag="MultiFileDBufRequesterIndexHandler::find"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void MultiFileDBufRequesterIndexHandler::find           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="classMC2SimpleString.html">MC2SimpleString</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>desc</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>lastWrittenFileNbr</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>maxNbrFilesToSearch</em> = <code>-1</code></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Tries to find the specified desc in the index and calls the listener when it is done. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>desc</em>&nbsp;</td><td>Desc to find. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>lastWrittenFileNbr</em>&nbsp;</td><td><a class="el" href="classFile.html">File</a> to start looking at. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>maxNbrFilesToSearch</em>&nbsp;</td><td>The maximum number of files to search. </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="d2" doxytag="MultiFileDBufRequesterIndexHandler::findComplete"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void MultiFileDBufRequesterIndexHandler::findComplete           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname" nowrap> <em>startOffset</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>size</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [private]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Calls the requester and tells it that we are done. 
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="d0" doxytag="MultiFileDBufRequesterIndexHandler::findMapInCurrentIndexBuffer"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="classMultiFileDBufRequesterIndexHandler.html#y0">offsetAndSize_t</a> MultiFileDBufRequesterIndexHandler::findMapInCurrentIndexBuffer           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [private]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns the offset and size of m_currentDescToFind in the current idx. 
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a9" doxytag="MultiFileDBufRequesterIndexHandler::getIndexNbr"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int MultiFileDBufRequesterIndexHandler::getIndexNbr           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname" nowrap> <em>fileNbr</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const <a class="el" href="classMC2SimpleString.html">MC2SimpleString</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>desc</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"> const<code> [inline]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get the index number (for m_indeces) for the given mapdesc and filenumber. 
<p>

<p>
Definition at line <a class="el" href="MultiFileDBufRequesterIndexHandler_8h-source.html#l00219">219</a> of file <a class="el" href="MultiFileDBufRequesterIndexHandler_8h-source.html">MultiFileDBufRequesterIndexHandler.h</a>.
<p>
References <a class="el" href="MC2SimpleString_8h-source.html#l00232">MC2SimpleString::length()</a>, <a class="el" href="MultiFileDBufRequesterIndexHandler_8h-source.html#l00206">m_nbrHash</a>, and <a class="el" href="Types_8h-source.html#l00034">uint32</a>.    </td>
  </tr>
</table>
<a class="anchor" name="d11" doxytag="MultiFileDBufRequesterIndexHandler::indexWritten"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void MultiFileDBufRequesterIndexHandler::indexWritten           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [private]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Called when index is written. 
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="d1" doxytag="MultiFileDBufRequesterIndexHandler::moveToNextIdxOrStop"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void MultiFileDBufRequesterIndexHandler::moveToNextIdxOrStop           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [private]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Moves the the next index or tells the <a class="el" href="classMultiFileDBufRequester.html">MultiFileDBufRequester</a> that we are done. 
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a6" doxytag="MultiFileDBufRequesterIndexHandler::readDone"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void MultiFileDBufRequesterIndexHandler::readDone           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>nbrRead</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Called by the <a class="el" href="classFileHandler.html">FileHandler</a> when a read is done. 
<p>

<p>
Implements <a class="el" href="classFileHandlerListener.html#a0">FileHandlerListener</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a5" doxytag="MultiFileDBufRequesterIndexHandler::remove"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void MultiFileDBufRequesterIndexHandler::remove           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="classMC2SimpleString.html">MC2SimpleString</a> &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>descr</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Starts removing the map from the index files. 
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="d3" doxytag="MultiFileDBufRequesterIndexHandler::removeComplete"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void MultiFileDBufRequesterIndexHandler::removeComplete           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [private]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Calls the requester and tells it that we are done removing. 
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="d13" doxytag="MultiFileDBufRequesterIndexHandler::removeCurrentMapFromCurrentIndex"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int MultiFileDBufRequesterIndexHandler::removeCurrentMapFromCurrentIndex           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [private]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Removes m_currentDescToFind from m_currentIndexFile. If removed. 
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="d5" doxytag="MultiFileDBufRequesterIndexHandler::removeFromIndex"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void MultiFileDBufRequesterIndexHandler::removeFromIndex           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [private]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Removes the currently looked for map from the index. 
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="d14" doxytag="MultiFileDBufRequesterIndexHandler::setState"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void MultiFileDBufRequesterIndexHandler::setState           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classMultiFileDBufRequesterIndexHandler.html#y14">state_t</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>newState</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>lineNbr</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [private]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a2" doxytag="MultiFileDBufRequesterIndexHandler::shutDown"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void MultiFileDBufRequesterIndexHandler::shutDown           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Sets the shutdown flag. 
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="d4" doxytag="MultiFileDBufRequesterIndexHandler::startFinding"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void MultiFileDBufRequesterIndexHandler::startFinding           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [private]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Initiates the finding process. 
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="d6" doxytag="MultiFileDBufRequesterIndexHandler::startReadingIndex"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void MultiFileDBufRequesterIndexHandler::startReadingIndex           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [private]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="d8" doxytag="MultiFileDBufRequesterIndexHandler::updateFindIndex"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool MultiFileDBufRequesterIndexHandler::updateFindIndex           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [private]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a4" doxytag="MultiFileDBufRequesterIndexHandler::updateMapIndex"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void MultiFileDBufRequesterIndexHandler::updateMapIndex           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname" nowrap> <em>fileIdx</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const <a class="el" href="classMC2SimpleString.html">MC2SimpleString</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>desc</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>startOffset</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>size</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Starts writing a map to the index. 
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a7" doxytag="MultiFileDBufRequesterIndexHandler::writeDone"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void MultiFileDBufRequesterIndexHandler::writeDone           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>nbrWritten</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Called by the <a class="el" href="classFileHandler.html">FileHandler</a> when a write is done. 
<p>

<p>
Implements <a class="el" href="classFileHandlerListener.html#a1">FileHandlerListener</a>.    </td>
  </tr>
</table>
<a class="anchor" name="d10" doxytag="MultiFileDBufRequesterIndexHandler::writeIndex"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void MultiFileDBufRequesterIndexHandler::writeIndex           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [private]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Writes the current index back to disk. 
<p>
    </td>
  </tr>
</table>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="r5" doxytag="MultiFileDBufRequesterIndexHandler::m_currentDescToFind"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="classMC2SimpleString.html">MC2SimpleString</a> <a class="el" href="classMultiFileDBufRequesterIndexHandler.html#r5">MultiFileDBufRequesterIndexHandler::m_currentDescToFind</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Current desc to look for or to write. 
<p>

<p>
Definition at line <a class="el" href="MultiFileDBufRequesterIndexHandler_8h-source.html#l00181">181</a> of file <a class="el" href="MultiFileDBufRequesterIndexHandler_8h-source.html">MultiFileDBufRequesterIndexHandler.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="r3" doxytag="MultiFileDBufRequesterIndexHandler::m_currentIndexFile"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int <a class="el" href="classMultiFileDBufRequesterIndexHandler.html#r3">MultiFileDBufRequesterIndexHandler::m_currentIndexFile</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Index of the current file. 
<p>

<p>
Definition at line <a class="el" href="MultiFileDBufRequesterIndexHandler_8h-source.html#l00177">177</a> of file <a class="el" href="MultiFileDBufRequesterIndexHandler_8h-source.html">MultiFileDBufRequesterIndexHandler.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="r10" doxytag="MultiFileDBufRequesterIndexHandler::m_currentWritePosAndSize"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="classMultiFileDBufRequesterIndexHandler.html#y0">offsetAndSize_t</a> <a class="el" href="classMultiFileDBufRequesterIndexHandler.html#r10">MultiFileDBufRequesterIndexHandler::m_currentWritePosAndSize</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Current write position and size of map. 
<p>

<p>
Definition at line <a class="el" href="MultiFileDBufRequesterIndexHandler_8h-source.html#l00197">197</a> of file <a class="el" href="MultiFileDBufRequesterIndexHandler_8h-source.html">MultiFileDBufRequesterIndexHandler.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="r6" doxytag="MultiFileDBufRequesterIndexHandler::m_indeces"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="classvector.html">vector</a>&lt;<a class="el" href="classmap.html">indexMap_t</a>*&gt; <a class="el" href="classMultiFileDBufRequesterIndexHandler.html#r6">MultiFileDBufRequesterIndexHandler::m_indeces</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Vector of indeces. 
<p>

<p>
Definition at line <a class="el" href="MultiFileDBufRequesterIndexHandler_8h-source.html#l00186">186</a> of file <a class="el" href="MultiFileDBufRequesterIndexHandler_8h-source.html">MultiFileDBufRequesterIndexHandler.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="r0" doxytag="MultiFileDBufRequesterIndexHandler::m_indexFiles"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="classvector.html">vector</a>&lt;<a class="el" href="classFileHandler.html">FileHandler</a>*&gt;&amp; <a class="el" href="classMultiFileDBufRequesterIndexHandler.html#r0">MultiFileDBufRequesterIndexHandler::m_indexFiles</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Vector of index files to look in. 
<p>

<p>
Definition at line <a class="el" href="MultiFileDBufRequesterIndexHandler_8h-source.html#l00144">144</a> of file <a class="el" href="MultiFileDBufRequesterIndexHandler_8h-source.html">MultiFileDBufRequesterIndexHandler.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="r7" doxytag="MultiFileDBufRequesterIndexHandler::m_listener"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="classMultiFileDBufRequester.html">MultiFileDBufRequester</a>* <a class="el" href="classMultiFileDBufRequesterIndexHandler.html#r7">MultiFileDBufRequesterIndexHandler::m_listener</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The listener to all requests. 
<p>

<p>
Definition at line <a class="el" href="MultiFileDBufRequesterIndexHandler_8h-source.html#l00188">188</a> of file <a class="el" href="MultiFileDBufRequesterIndexHandler_8h-source.html">MultiFileDBufRequesterIndexHandler.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="r1" doxytag="MultiFileDBufRequesterIndexHandler::m_mode"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">enum <a class="el" href="classMultiFileDBufRequesterIndexHandler.html#y13">MultiFileDBufRequesterIndexHandler::mode_t</a>  <a class="el" href="classMultiFileDBufRequesterIndexHandler.html#r1">MultiFileDBufRequesterIndexHandler::m_mode</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="r13" doxytag="MultiFileDBufRequesterIndexHandler::m_nbrFiles"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int <a class="el" href="classMultiFileDBufRequesterIndexHandler.html#r13">MultiFileDBufRequesterIndexHandler::m_nbrFiles</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The number of datafiles. 
<p>
Note that there are m_nbrHash indexfiles for each datafile! 
<p>
Definition at line <a class="el" href="MultiFileDBufRequesterIndexHandler_8h-source.html#l00212">212</a> of file <a class="el" href="MultiFileDBufRequesterIndexHandler_8h-source.html">MultiFileDBufRequesterIndexHandler.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="r4" doxytag="MultiFileDBufRequesterIndexHandler::m_nbrFilesLeftToSearch"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int <a class="el" href="classMultiFileDBufRequesterIndexHandler.html#r4">MultiFileDBufRequesterIndexHandler::m_nbrFilesLeftToSearch</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The number of files left to search. 
<p>

<p>
Definition at line <a class="el" href="MultiFileDBufRequesterIndexHandler_8h-source.html#l00179">179</a> of file <a class="el" href="MultiFileDBufRequesterIndexHandler_8h-source.html">MultiFileDBufRequesterIndexHandler.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="r12" doxytag="MultiFileDBufRequesterIndexHandler::m_nbrHash"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int <a class="el" href="classMultiFileDBufRequesterIndexHandler.html#r12">MultiFileDBufRequesterIndexHandler::m_nbrHash</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The number of hashes per file, i.e. 
<p>
how many parts each index file is divided into. 
<p>
Definition at line <a class="el" href="MultiFileDBufRequesterIndexHandler_8h-source.html#l00206">206</a> of file <a class="el" href="MultiFileDBufRequesterIndexHandler_8h-source.html">MultiFileDBufRequesterIndexHandler.h</a>.
<p>
Referenced by <a class="el" href="MultiFileDBufRequesterIndexHandler_8h-source.html#l00219">getIndexNbr()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="r8" doxytag="MultiFileDBufRequesterIndexHandler::m_readBuffer"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="classBitBuffer.html">BitBuffer</a>* <a class="el" href="classMultiFileDBufRequesterIndexHandler.html#r8">MultiFileDBufRequesterIndexHandler::m_readBuffer</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<a class="el" href="classBitBuffer.html">BitBuffer</a> used when reading. 
<p>

<p>
Definition at line <a class="el" href="MultiFileDBufRequesterIndexHandler_8h-source.html#l00191">191</a> of file <a class="el" href="MultiFileDBufRequesterIndexHandler_8h-source.html">MultiFileDBufRequesterIndexHandler.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="r11" doxytag="MultiFileDBufRequesterIndexHandler::m_shuttingDown"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool <a class="el" href="classMultiFileDBufRequesterIndexHandler.html#r11">MultiFileDBufRequesterIndexHandler::m_shuttingDown</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
True if no more request may be served. 
<p>

<p>
Definition at line <a class="el" href="MultiFileDBufRequesterIndexHandler_8h-source.html#l00200">200</a> of file <a class="el" href="MultiFileDBufRequesterIndexHandler_8h-source.html">MultiFileDBufRequesterIndexHandler.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="r2" doxytag="MultiFileDBufRequesterIndexHandler::m_state"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">enum <a class="el" href="classMultiFileDBufRequesterIndexHandler.html#y14">MultiFileDBufRequesterIndexHandler::state_t</a>  <a class="el" href="classMultiFileDBufRequesterIndexHandler.html#r2">MultiFileDBufRequesterIndexHandler::m_state</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="r9" doxytag="MultiFileDBufRequesterIndexHandler::m_writeBuffer"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="classBitBuffer.html">BitBuffer</a>* <a class="el" href="classMultiFileDBufRequesterIndexHandler.html#r9">MultiFileDBufRequesterIndexHandler::m_writeBuffer</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<a class="el" href="classBitBuffer.html">BitBuffer</a> used when writing. 
<p>

<p>
Definition at line <a class="el" href="MultiFileDBufRequesterIndexHandler_8h-source.html#l00194">194</a> of file <a class="el" href="MultiFileDBufRequesterIndexHandler_8h-source.html">MultiFileDBufRequesterIndexHandler.h</a>.    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="MultiFileDBufRequesterIndexHandler_8h-source.html">MultiFileDBufRequesterIndexHandler.h</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Wed Jun 30 10:25:37 2010 for mc2 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.3.9.1 </small></address>
</body>
</html>
