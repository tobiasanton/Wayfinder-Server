<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>mc2: XMLParserThread Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.9.1 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>XMLParserThread Class Reference</h1>Handles XML Requests.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="XMLParserThread_8h-source.html">XMLParserThread.h</a>&gt;</code>
<p>
Inheritance diagram for XMLParserThread:<p><center><img src="classXMLParserThread__inherit__graph.png" border="0" usemap="#XMLParserThread__inherit__map" alt="Inheritance graph"></center>
<map name="XMLParserThread__inherit__map">
<area href="classHttpParserThread.html" shape="rect" coords="125,304,253,331" alt="">
<area href="classInterfaceParserThread.html" shape="rect" coords="37,229,192,256" alt="">
<area href="classParserThread.html" shape="rect" coords="64,155,165,181" alt="">
<area href="classISABThread.html" shape="rect" coords="5,80,99,107" alt="">
<area href="classMapRequester.html" shape="rect" coords="123,80,232,107" alt="">
<area href="classRequester.html" shape="rect" coords="136,5,219,32" alt="">
<area href="classNotCopyable.html" shape="rect" coords="216,229,315,256" alt="">
</map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center>Collaboration diagram for XMLParserThread:<p><center><img src="classXMLParserThread__coll__graph.png" border="0" usemap="#XMLParserThread__coll__map" alt="Collaboration graph"></center>
<map name="XMLParserThread__coll__map">
<area href="classXMLExtServiceHelper.html" shape="rect" coords="125,187,280,213" alt="">
<area href="classHttpParserThread.html" shape="rect" coords="5,5,133,32" alt="">
<area href="classHttpHeader.html" shape="rect" coords="157,5,248,32" alt="">
<area href="classXMLAuthData.html" shape="rect" coords="272,5,379,32" alt="">
</map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center><a href="classXMLParserThread-members.html">List of all members.</a><h2>Public Member Functions</h2>
<ul>
<li><a class="el" href="classXMLParserThread.html#a0">XMLParserThread</a> (<a class="el" href="classHttpParserThreadGroup.html">HttpParserThreadGroup</a> *group)
<dl class="el"><dd class="mdescRight">Creates a new XMLParserThread.  <a href="#a0"></a><br></dl><li>virtual <a class="el" href="classXMLParserThread.html#a1">~XMLParserThread</a> ()
<dl class="el"><dd class="mdescRight">Destructor deletes all local data.  <a href="#a1"></a><br></dl></ul>
<h2>Protected Member Functions</h2>
<ul>
<li>virtual bool <a class="el" href="classXMLParserThread.html#b0">handleHttpRequest</a> (<a class="el" href="classHttpHeader.html">HttpHeader</a> *inHead, <a class="el" href="classHttpBody.html">HttpBody</a> *inBody, <a class="el" href="classstringMap.html">stringMap</a> *paramsMap, <a class="el" href="classHttpHeader.html">HttpHeader</a> *outHead, <a class="el" href="classHttpBody.html">HttpBody</a> *outBody, <a class="el" href="Types_8h.html#a21">uint32</a> now, const char *dateStr)
<dl class="el"><dd class="mdescRight">This function is called when a new HTTP request has been received.  <a href="#b0"></a><br></dl></ul>
<h2>Private Member Functions</h2>
<ul>
<li>virtual const char * <a class="el" href="classXMLParserThread.html#d0">getServerType</a> ()
<dl class="el"><dd class="mdescRight">Get the name of this server to be used in the debiting.  <a href="#d0"></a><br></dl><li>void <a class="el" href="classXMLParserThread.html#d1">logUserAccepted</a> (const <a class="el" href="classMC2String.html">MC2String</a> &amp;prefix)
<dl class="el"><dd class="mdescRight">Prints log information about the user that was authorized.  <a href="#d1"></a><br></dl></ul>
<h2>Private Attributes</h2>
<ul>
<li>char * <a class="el" href="classXMLParserThread.html#r0">m_serverName</a>
<dl class="el"><dd class="mdescRight">The name of this server to use when debiting.  <a href="#r0"></a><br></dl><li><a class="el" href="classHttpHeader.html">HttpHeader</a> * <a class="el" href="classXMLParserThread.html#r1">m_inHead</a>
<dl class="el"><dd class="mdescRight">The incomming <a class="el" href="classHttpHeader.html">HttpHeader</a> of the HttpRequest.  <a href="#r1"></a><br></dl><li>set&lt; <a class="el" href="classMC2String.html">MC2String</a> &gt; <a class="el" href="classXMLParserThread.html#r2">m_allowedRequests</a>
<dl class="el"><dd class="mdescRight">The allowed requests tag names, all if empty.  <a href="#r2"></a><br></dl><li><a class="el" href="classXMLExtServiceHelper.html">XMLExtServiceHelper</a> * <a class="el" href="classXMLParserThread.html#r3">m_extServiceHelper</a>
<dl class="el"><dd class="mdescRight">Helper for stuff and etc.  <a href="#r3"></a><br></dl><li>auto_ptr&lt; <a class="el" href="classInfoTypeConverter.html">InfoTypeConverter</a> &gt; <a class="el" href="classXMLParserThread.html#r4">m_infoTypes</a>
<dl class="el"><dd class="mdescRight">converts from info type to string and vice versa  <a href="#r4"></a><br></dl><li><a class="el" href="classXMLAuthData.html">XMLAuthData</a> * <a class="el" href="classXMLParserThread.html#r5">m_authData</a>
<dl class="el"><dd class="mdescRight">The holder of the authetication data.  <a href="#r5"></a><br></dl></ul>
<h2>Friends</h2>
<ul>
<li>class <a class="el" href="classXMLParserThread.html#n0">XMLExtServiceHelper</a>
</ul>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Handles XML Requests. 
<p>

<p>
Definition at line <a class="el" href="XMLParserThread_8h-source.html#l00099">99</a> of file <a class="el" href="XMLParserThread_8h-source.html">XMLParserThread.h</a>.<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="a0" doxytag="XMLParserThread::XMLParserThread"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">XMLParserThread::XMLParserThread           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classHttpParserThreadGroup.html">HttpParserThreadGroup</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>group</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Creates a new XMLParserThread. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>group</em>&nbsp;</td><td>The <a class="el" href="classHttpParserThreadGroup.html">HttpParserThreadGroup</a> that this XMLParserThread is part of. </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a1" doxytag="XMLParserThread::~XMLParserThread"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual XMLParserThread::~<a class="el" href="classXMLParserThread.html">XMLParserThread</a>           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Destructor deletes all local data. 
<p>
Don't call this use terminate.     </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="d0" doxytag="XMLParserThread::getServerType"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual const char* XMLParserThread::getServerType           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [private, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get the name of this server to be used in the debiting. 
<p>
<dl compact><dt><b>Returns:</b></dt><dd>The name of this server, will always return the <a class="el" href="classMC2String.html">MC2String</a> "XML". </dd></dl>

<p>
Reimplemented from <a class="el" href="classHttpParserThread.html#b0">HttpParserThread</a>.    </td>
  </tr>
</table>
<a class="anchor" name="b0" doxytag="XMLParserThread::handleHttpRequest"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual bool XMLParserThread::handleHttpRequest           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classHttpHeader.html">HttpHeader</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>inHead</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="classHttpBody.html">HttpBody</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>inBody</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="classstringMap.html">stringMap</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>paramsMap</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="classHttpHeader.html">HttpHeader</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>outHead</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="classHttpBody.html">HttpBody</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>outBody</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="Types_8h.html#a21">uint32</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>now</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>dateStr</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This function is called when a new HTTP request has been received. 
<p>
The possible parameters in inBody is not added to paramsMap, make a parseParameters( inBody-&gt;getBody(), paramsMap, inHead ); call if there are parameters in the body to add. The Content-Type in the outHead is set to the mime-type of the fileexternsion of the pagename.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>inHead</em>&nbsp;</td><td>The HTTP header of the request. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>inBody</em>&nbsp;</td><td>The body content, may be empty, of the HTTP request. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>paramsMap</em>&nbsp;</td><td>The startline's parameters. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>outHead</em>&nbsp;</td><td>The HTTP header of the reply. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>outBody</em>&nbsp;</td><td>The content of the reply. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>now</em>&nbsp;</td><td>The time of the request. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>dateStr</em>&nbsp;</td><td>The time of the request as a string. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>True if the request was handled and outBody was filled with the reply. </dd></dl>

<p>
Reimplemented from <a class="el" href="classHttpParserThread.html#a7">HttpParserThread</a>.    </td>
  </tr>
</table>
<a class="anchor" name="d1" doxytag="XMLParserThread::logUserAccepted"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void XMLParserThread::logUserAccepted           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="classMC2String.html">MC2String</a> &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>prefix</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [private]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Prints log information about the user that was authorized. 
<p>
The information includes info about the user and its last used client. The output can also be customized with a prefix.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>prefix</em>&nbsp;</td><td>A string which will be printed before " User accepted...", this can be used to show for instance where logUserAccepted is called from or additional information about the user. </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<hr><h2>Friends And Related Function Documentation</h2>
<a class="anchor" name="n0" doxytag="XMLParserThread::XMLExtServiceHelper"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">friend class <a class="el" href="classXMLExtServiceHelper.html">XMLExtServiceHelper</a><code> [friend]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="XMLParserThread_8h-source.html#l01878">1878</a> of file <a class="el" href="XMLParserThread_8h-source.html">XMLParserThread.h</a>.    </td>
  </tr>
</table>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="r2" doxytag="XMLParserThread::m_allowedRequests"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">set&lt;<a class="el" href="classMC2String.html">MC2String</a>&gt; <a class="el" href="classXMLParserThread.html#r2">XMLParserThread::m_allowedRequests</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The allowed requests tag names, all if empty. 
<p>

<p>
Definition at line <a class="el" href="XMLParserThread_8h-source.html#l01874">1874</a> of file <a class="el" href="XMLParserThread_8h-source.html">XMLParserThread.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="r5" doxytag="XMLParserThread::m_authData"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="classXMLAuthData.html">XMLAuthData</a>* <a class="el" href="classXMLParserThread.html#r5">XMLParserThread::m_authData</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The holder of the authetication data. 
<p>

<p>
Definition at line <a class="el" href="XMLParserThread_8h-source.html#l01887">1887</a> of file <a class="el" href="XMLParserThread_8h-source.html">XMLParserThread.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="r3" doxytag="XMLParserThread::m_extServiceHelper"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="classXMLExtServiceHelper.html">XMLExtServiceHelper</a>* <a class="el" href="classXMLParserThread.html#r3">XMLParserThread::m_extServiceHelper</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Helper for stuff and etc. 
<p>

<p>
Definition at line <a class="el" href="XMLParserThread_8h-source.html#l01877">1877</a> of file <a class="el" href="XMLParserThread_8h-source.html">XMLParserThread.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="r4" doxytag="XMLParserThread::m_infoTypes"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">auto_ptr&lt;<a class="el" href="classInfoTypeConverter.html">InfoTypeConverter</a>&gt; <a class="el" href="classXMLParserThread.html#r4">XMLParserThread::m_infoTypes</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
converts from info type to string and vice versa 
<p>

<p>
Definition at line <a class="el" href="XMLParserThread_8h-source.html#l01881">1881</a> of file <a class="el" href="XMLParserThread_8h-source.html">XMLParserThread.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="r1" doxytag="XMLParserThread::m_inHead"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="classHttpHeader.html">HttpHeader</a>* <a class="el" href="classXMLParserThread.html#r1">XMLParserThread::m_inHead</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The incomming <a class="el" href="classHttpHeader.html">HttpHeader</a> of the HttpRequest. 
<p>

<p>
Definition at line <a class="el" href="XMLParserThread_8h-source.html#l01868">1868</a> of file <a class="el" href="XMLParserThread_8h-source.html">XMLParserThread.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="r0" doxytag="XMLParserThread::m_serverName"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">char* <a class="el" href="classXMLParserThread.html#r0">XMLParserThread::m_serverName</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The name of this server to use when debiting. 
<p>

<p>
Reimplemented from <a class="el" href="classParserThread.html#p5">ParserThread</a>.
<p>
Definition at line <a class="el" href="XMLParserThread_8h-source.html#l01862">1862</a> of file <a class="el" href="XMLParserThread_8h-source.html">XMLParserThread.h</a>.    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="XMLParserThread_8h-source.html">XMLParserThread.h</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Wed Jun 30 10:28:26 2010 for mc2 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.3.9.1 </small></address>
</body>
</html>
