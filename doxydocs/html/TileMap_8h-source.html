<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>mc2: TileMap.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.9.1 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<div class="nav">
<a class="el" href="dir_000000.html">Shared</a>&nbsp;/&nbsp;<a class="el" href="dir_000001.html">include</a></div>
<h1>TileMap.h</h1><a href="TileMap_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment">00001 <span class="comment">/*</span>
00002 <span class="comment">Copyright (c) 1999 - 2010, Vodafone Group Services Ltd</span>
00003 <span class="comment">All rights reserved.</span>
00004 <span class="comment"></span>
00005 <span class="comment">Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</span>
00006 <span class="comment"></span>
00007 <span class="comment">    * Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</span>
00008 <span class="comment">    * Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</span>
00009 <span class="comment">    * Neither the name of the Vodafone Group Services Ltd nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.</span>
00010 <span class="comment"></span>
00011 <span class="comment">THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span>
00012 <span class="comment">*/</span>
00013 
00014 <span class="preprocessor">#ifndef TILE_MAP_H</span>
00015 <span class="preprocessor"></span><span class="preprocessor">#define TILE_MAP_H</span>
00016 <span class="preprocessor"></span>
00017 <span class="preprocessor">#include "<a class="code" href="TileMapConfig_8h.html">TileMapConfig.h</a>"</span>
00018 <span class="preprocessor">#include "<a class="code" href="TileMapTypes_8h.html">TileMapTypes.h</a>"</span>
00019 
00020 <span class="preprocessor">#include "<a class="code" href="BitBuffer_8h.html">BitBuffer.h</a>"</span>
00021 <span class="preprocessor">#include &lt;vector&gt;</span>
00022 <span class="preprocessor">#include &lt;map&gt;</span>
00023 <span class="preprocessor">#include "<a class="code" href="MC2SimpleString_8h.html">MC2SimpleString.h</a>"</span>
00024 <span class="preprocessor">#include "<a class="code" href="LangTypes_8h.html">LangTypes.h</a>"</span>
00025 <span class="preprocessor">#include "<a class="code" href="MC2Point_8h.html">MC2Point.h</a>"</span>
00026 <span class="preprocessor">#include "<a class="code" href="TileFeature_8h.html">TileFeature.h</a>"</span>
00027 <span class="preprocessor">#include "<a class="code" href="MC2String_8h.html">MC2String.h</a>"</span>
00028 <span class="preprocessor">#include "<a class="code" href="ExtendedTileString_8h.html">ExtendedTileString.h</a>"</span>
00029 
00030 <span class="keyword">class </span><a class="code" href="classTilePrimitiveFeature.html">TilePrimitiveFeature</a>;
00031 <span class="keyword">class </span><a class="code" href="classTileMapFormatDesc.html">TileMapFormatDesc</a>;
00032 
00033 
00034 <span class="comment">// Forward declaration.</span>
00035 <span class="keyword">class </span><a class="code" href="classTileMapParams.html">TileMapParams</a>;
00036 
<a name="l00041"></a><a class="code" href="classTileMap.html">00041</a> <span class="keyword">class </span><a class="code" href="classTileMap.html">TileMap</a> {
00042 <span class="keyword">public</span>:
<a name="l00044"></a><a class="code" href="classTileMap.html#w0">00044</a>    <span class="keyword">typedef</span> std::vector&lt;TilePrimitiveFeature&gt; primVect_t;
<a name="l00045"></a><a class="code" href="classTileMap.html#w1">00045</a>    <span class="keyword">typedef</span> std::vector&lt; std::pair&lt; uint32, uint16 &gt; &gt; poiCategoryMap_t;
<a name="l00046"></a><a class="code" href="classTileMap.html#w2">00046</a>    <span class="keyword">typedef</span> <a class="code" href="classvector.html">vector&lt;ExtendedTileString&gt;</a> <a class="code" href="classvector.html">ExtendedStringTable</a>;
00047 
<a name="l00048"></a><a class="code" href="classTileMap.html#a0">00048</a>    <a class="code" href="classTileMap.html">TileMap</a>() {
00049       m_primitives = NULL;
00050       m_params     = NULL;
00051       m_otherTypeOfMapParams = NULL;
00052       m_minLevelOfPrimitives = 0;
00053       m_nbrPrimitiveLevels = 0;
00054       m_loadSize = 0;
00055       m_mc2Scale = 1; <span class="comment">// Set to a nonzero value before tmfd is loaded.</span>
00056       m_emptyImportances = 0; <span class="comment">// No empty importances.</span>
00057       m_crc = MAX_UINT32;
00058 <span class="preprocessor">#ifdef MC2_SYSTEM</span>
00059 <span class="preprocessor"></span>      m_referenceCoord.setCoord( 0, 0 ); <span class="comment">// For CRC calculation.</span>
00060 <span class="preprocessor">#endif      </span>
00061 <span class="preprocessor"></span>   }
00062 
00063 <span class="preprocessor">#ifdef MC2_SYSTEM</span>
00064 <span class="preprocessor"></span>
00065    <span class="keyword">virtual</span> ~<a class="code" href="classTileMap.html">TileMap</a>();
00066 <span class="preprocessor">#else</span>
00067 <span class="preprocessor"></span>
00068    ~<a class="code" href="classTileMap.html">TileMap</a>();
00069 <span class="preprocessor">#endif</span>
00070 <span class="preprocessor"></span>
00071 <span class="preprocessor">#ifdef MC2_SYSTEM</span>
00072 <span class="preprocessor"></span>
00075    <span class="keywordtype">void</span> saveTileMapData( <a class="code" href="classBitBuffer.html">BitBuffer</a>&amp; buf ) <span class="keyword">const</span>;
00076  
00077 
00085    <span class="keywordtype">bool</span> <a class="code" href="namespaceTileFeatureScaleRange.html#a3">save</a>( <a class="code" href="classBitBuffer.html">BitBuffer</a>&amp; buf, uint32* crc = NULL, 
00086               uint32 forcedCRC = MAX_UINT32 ) <span class="keyword">const</span>;
00087 
00094    <span class="keywordtype">bool</span> <a class="code" href="namespaceTileFeatureScaleRange.html#a3">save</a>(ostream&amp; stream) <span class="keyword">const</span>;
00095 <span class="preprocessor">#endif</span>
00096 <span class="preprocessor"></span>
00100    <span class="keywordtype">bool</span> <a class="code" href="namespaceTileFeatureScaleRange.html#a4">load</a>( <a class="code" href="classBitBuffer.html">BitBuffer</a>&amp; buf,
00101               <span class="keyword">const</span> <a class="code" href="classTileMapFormatDesc.html">TileMapFormatDesc</a>&amp; desc,
00102               <span class="keyword">const</span> <a class="code" href="classMC2SimpleString.html">MC2SimpleString</a>&amp; paramString );
00103 
00108    <a class="code" href="Types_8h.html#a21">uint32</a> getBufSize() <span class="keyword">const</span>;
00109    
00113    <span class="keywordtype">bool</span> createPrimitives(<span class="keyword">const</span> <a class="code" href="classTileMapFormatDesc.html">TileMapFormatDesc</a>&amp; desc);
00114 
00119    <span class="keyword">inline</span> primVect_t&amp; getPrimitives(<span class="keyword">const</span> <a class="code" href="classTileMapFormatDesc.html">TileMapFormatDesc</a>&amp; desc,
00120                                     <span class="keywordtype">int</span> level) ;
00121 
00127    <span class="keyword">const</span> <a class="code" href="classTileMapParams.html">TileMapParams</a>* getStringMapParams(LangTypes::language_t lang) <span class="keyword">const</span>;
00128 
00134    <span class="keyword">const</span> <a class="code" href="classTileMapParams.html">TileMapParams</a>* getDataMapParams() <span class="keyword">const</span>;
00135   
00140    <span class="keyword">const</span> <a class="code" href="classTileMapParams.html">TileMapParams</a>* getParam() <span class="keyword">const</span>;
00141    
00142    
00143 <span class="preprocessor">#ifdef MC2_SYSTEM</span>
00144 <span class="preprocessor"></span>   <span class="keywordtype">void</span> dump( ostream&amp; stream ) <span class="keyword">const</span>;
00145 <span class="preprocessor">#endif</span>
00146 <span class="preprocessor"></span>
<a name="l00148"></a><a class="code" href="classTileMap.html#w3">00148</a>    <span class="keyword">typedef</span> <a class="code" href="classvector.html">vector&lt;TileFeature&gt;</a>::iterator iterator;
<a name="l00150"></a><a class="code" href="classTileMap.html#w4">00150</a>    <span class="keyword">typedef</span> <a class="code" href="classvector.html">vector&lt;TileFeature&gt;</a>::const_iterator const_iterator;
00151 
00152    <span class="keyword">inline</span> iterator begin(<span class="keywordtype">int</span> order = -1);
00153       
00154    <span class="keyword">inline</span> iterator end(<span class="keywordtype">int</span> order = -1);
00155    
00156    <span class="keyword">inline</span> const_iterator begin(<span class="keywordtype">int</span> order = -1) <span class="keyword">const</span>;
00157       
00158    <span class="keyword">inline</span> const_iterator end(<span class="keywordtype">int</span> order = -1) <span class="keyword">const</span>;
00159 
00160    <span class="keyword">inline</span> <span class="keywordtype">int</span> nbrFeatures(<span class="keywordtype">int</span> order = -1 ) <span class="keyword">const</span>;
00161 
00162    <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="classTileMapCoord.html">TileMapCoord</a>&amp; getReferenceCoord() <span class="keyword">const</span>;
00163    <span class="keyword">inline</span> <span class="keywordtype">int</span> getMC2Scale() <span class="keyword">const</span>;
00164 
00169    <span class="keywordtype">void</span> snapCoordToPixel( <a class="code" href="classTileMapCoord.html">TileMapCoord</a>&amp; coord ) <span class="keyword">const</span>;
00170 
00174    <span class="keyword">const</span> <a class="code" href="classTileFeature.html">TileFeature</a>* getParentFeature(
00175          <span class="keyword">const</span> <a class="code" href="classTilePrimitiveFeature.html">TilePrimitiveFeature</a>* prim) <span class="keyword">const</span>;
00176 
00183    <span class="keyword">const</span> <a class="code" href="classMC2SimpleString.html">MC2SimpleString</a>* getStringForFeature(
00184          <span class="keywordtype">int</span> featureNbr) <span class="keyword">const</span>;
00185 
<a name="l00189"></a><a class="code" href="classTileMap.html#a19">00189</a>    <a class="code" href="classTileMapCoords.html">TileMapCoords</a>&amp; coordsRef() { <span class="keywordflow">return</span> m_allCoords; }
00190 
00194    <span class="keyword">const</span> <a class="code" href="classTileFeature.html">TileFeature</a>* getFeature(<span class="keywordtype">int</span> featureNbr) <span class="keyword">const</span>;
00195    
00199    <span class="keyword">inline</span> <span class="keywordtype">int</span> getFeatureIdxInTextOrder( <span class="keywordtype">int</span> i ) <span class="keyword">const</span>;
00200 
00204    <span class="keyword">inline</span> <span class="keywordtype">int</span> getNbrFeaturesWithText() <span class="keyword">const</span>;
00205 
00210    <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a21">uint32</a> getCRC() <span class="keyword">const</span>;
00211 
00215    <span class="keyword">inline</span> <span class="keywordtype">bool</span> empty() <span class="keyword">const</span>;
00216 
00217 <span class="preprocessor">#ifdef MC2_SYSTEM   </span>
00218 <span class="preprocessor"></span>
00221    <span class="keyword">inline</span> <span class="keywordtype">void</span> setEmptyImportances( uint32 emptyImp );
00222 <span class="preprocessor">#endif</span>
00223 <span class="preprocessor"></span>
00227    <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a21">uint32</a> getEmptyImportances() <span class="keyword">const</span>;
<a name="l00228"></a><a class="code" href="classTileMap.html#a26">00228</a>    <span class="keyword">const</span> poiCategoryMap_t&amp; getPOICategories()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_poiCategoryMap; }
<a name="l00230"></a><a class="code" href="classTileMap.html#a27">00230</a>    <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="classvector.html">vector&lt;MC2SimpleString&gt;</a>&amp; getStrings()<span class="keyword"> const </span>{
00231       <span class="keywordflow">return</span> m_strings;
00232    }
00233 
<a name="l00234"></a><a class="code" href="classTileMap.html#a28">00234</a>    <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="classvector.html">vector&lt;int&gt;</a>&amp; getStrIdxByFeatureIdx()<span class="keyword"> const </span>{
00235       <span class="keywordflow">return</span> m_strIdxByFeatureIdx;
00236    }
00237 
00242    <span class="keyword">inline</span> <span class="keywordtype">void</span> swapExtendedStringTable( ExtendedStringTable&amp; table );
00243 
00244 <span class="keyword">protected</span>:
00245 
00247    <a class="code" href="classTileMap.html">TileMap</a>( <span class="keyword">const</span> <a class="code" href="classTileMap.html">TileMap</a>&amp; other);
00249    <span class="keyword">const</span> <a class="code" href="classTileMap.html">TileMap</a>&amp; operator=(<span class="keyword">const</span> <a class="code" href="classTileMap.html">TileMap</a>&amp; other);
00250 
00251 <span class="preprocessor">#ifdef MC2_SYSTEM   </span>
00252 <span class="preprocessor"></span>
00258    <span class="keywordtype">bool</span> saveHeader( <a class="code" href="classBitBuffer.html">BitBuffer</a>&amp; buf ) <span class="keyword">const</span>;
00259 <span class="preprocessor">#endif</span>
00260 <span class="preprocessor"></span>
00267    <span class="keyword">inline</span> <span class="keywordtype">bool</span> loadHeader( <a class="code" href="classBitBuffer.html">BitBuffer</a>&amp; buf );
00269    <span class="keywordtype">void</span> saveCategories( <a class="code" href="classBitBuffer.html">BitBuffer</a>&amp; buf, uint32 nbrBitsForFeatures ) <span class="keyword">const</span>;
00271    <span class="keywordtype">void</span> loadCategories( <a class="code" href="classBitBuffer.html">BitBuffer</a>&amp; buf, uint32 nbrBitsForFeatures );
00272 
00281    <span class="keyword">inline</span> <span class="keywordtype">void</span> saveExtendedStringTable( <a class="code" href="classBitBuffer.html">BitBuffer</a>&amp; buf,
00282                                         uint32 nbrBitsPerFeature,
00283                                         uint32 nbrBitsForStringIndex,
00284                                         uint32 startOfStringIndex ) <span class="keyword">const</span>;
00285 
00291    <span class="keyword">inline</span> <span class="keywordtype">void</span> loadExtendedStringTable( <a class="code" href="classBitBuffer.html">BitBuffer</a>&amp; buf,
00292                                         uint32 nbrBitsPerFeature,
00293                                         uint32 nbrBitsForStringIndex);
00294 
<a name="l00296"></a><a class="code" href="classTileMap.html#p0">00296</a>    <a class="code" href="classvector.html">vector&lt;TileFeature&gt;</a> m_features;
00297 
<a name="l00299"></a><a class="code" href="classTileMap.html#p1">00299</a>    <a class="code" href="classvector.html">vector&lt;PixelBox&gt;</a> m_pixelBoxes;
00300 
<a name="l00302"></a><a class="code" href="classTileMap.html#p2">00302</a>    <a class="code" href="classvector.html">vector&lt;VectorProxy&lt;MC2Point&gt;</a> &gt; m_vectorProxies;
00303    
<a name="l00305"></a><a class="code" href="classTileMap.html#p3">00305</a>    primVect_t* m_primitives;
<a name="l00307"></a><a class="code" href="classTileMap.html#p4">00307</a>    <span class="keywordtype">int</span> m_minLevelOfPrimitives;
<a name="l00309"></a><a class="code" href="classTileMap.html#p5">00309</a>    <span class="keywordtype">int</span> m_nbrPrimitiveLevels;
00310 
<a name="l00311"></a><a class="code" href="classTileMap.html#x0">00311</a>    <span class="keyword">typedef</span> <a class="code" href="classvector.html">vector&lt;MC2SimpleString&gt;</a> <a class="code" href="classvector.html">Strings</a>;
<a name="l00313"></a><a class="code" href="classTileMap.html#p6">00313</a>    Strings m_strings;
00314 
<a name="l00320"></a><a class="code" href="classTileMap.html#p7">00320</a>    <a class="code" href="classvector.html">vector&lt;int&gt;</a> m_strIdxByFeatureIdx;
00321 
<a name="l00326"></a><a class="code" href="classTileMap.html#p8">00326</a>    <a class="code" href="classvector.html">vector&lt;uint32&gt;</a> m_featureIdxInTextOrder;
00327 
<a name="l00328"></a><a class="code" href="classTileMap.html#p9">00328</a>    poiCategoryMap_t m_poiCategoryMap;
00329 
<a name="l00331"></a><a class="code" href="classTileMap.html#p10">00331</a>    <a class="code" href="classTileMapParams.html">TileMapParams</a>* m_params;
00332 
<a name="l00334"></a><a class="code" href="classTileMap.html#p11">00334</a>    <a class="code" href="classTileMapParams.html">TileMapParams</a>* m_otherTypeOfMapParams;
00335 
<a name="l00337"></a><a class="code" href="classTileMap.html#p12">00337</a>    <a class="code" href="Types_8h.html#a21">uint32</a> m_loadSize;
00338 
<a name="l00340"></a><a class="code" href="classTileMap.html#p13">00340</a>    <a class="code" href="classTileMapCoord.html">TileMapCoord</a> m_referenceCoord;
00341 
<a name="l00343"></a><a class="code" href="classTileMap.html#p14">00343</a>    <span class="keywordtype">int</span> m_mc2Scale;
00344 
<a name="l00346"></a><a class="code" href="classTileMap.html#p15">00346</a>    <a class="code" href="Types_8h.html#a21">uint32</a> m_crc;
00347 
<a name="l00349"></a><a class="code" href="classTileMap.html#p16">00349</a>    <a class="code" href="Types_8h.html#a21">uint32</a> m_emptyImportances;
00350 
<a name="l00352"></a><a class="code" href="classTileMap.html#p17">00352</a>    <a class="code" href="classTileMapCoords.html">TileMapCoords</a> m_allCoords;
00353 
<a name="l00355"></a><a class="code" href="classTileMap.html#p18">00355</a>    <a class="code" href="classvector.html">vector&lt;MC2Point&gt;</a> m_allScreenCoords;
00356    
<a name="l00357"></a><a class="code" href="classTileMap.html#p19">00357</a>    ExtendedStringTable m_extendedStrings;
00358 };
00359 
00360 <span class="comment">// -- Inlined functions</span>
00361 
00362 <span class="keyword">inline</span> TileMap::iterator 
<a name="l00363"></a><a class="code" href="classTileMap.html#a9">00363</a> <a class="code" href="classTileMap.html#a9">TileMap::begin</a>(<span class="keywordtype">int</span> order) 
00364 {
00365    <span class="keywordflow">if</span> ( order &lt; 0 ) {
00366       <span class="keywordflow">return</span> <a class="code" href="classTileMap.html#p0">m_features</a>.begin();
00367    } <span class="keywordflow">else</span> {
00368       <span class="keywordflow">return</span> <a class="code" href="classTileMap.html#p0">m_features</a>.begin();
00369    }
00370 }
00371       
00372 <span class="keyword">inline</span> TileMap::iterator 
<a name="l00373"></a><a class="code" href="classTileMap.html#a10">00373</a> <a class="code" href="classTileMap.html#a10">TileMap::end</a>(<span class="keywordtype">int</span> order) 
00374 {
00375    <span class="keywordflow">if</span> ( order &lt; 0 ) {
00376       <span class="keywordflow">return</span> <a class="code" href="classTileMap.html#p0">m_features</a>.end();
00377    } <span class="keywordflow">else</span> {
00378       <span class="keywordflow">return</span> <a class="code" href="classTileMap.html#p0">m_features</a>.end();
00379    }
00380 }
00381 
00382 <span class="keyword">inline</span> TileMap::const_iterator
<a name="l00383"></a><a class="code" href="classTileMap.html#a11">00383</a> <a class="code" href="classTileMap.html#a9">TileMap::begin</a>(<span class="keywordtype">int</span> order)<span class="keyword"> const</span>
00384 <span class="keyword"></span>{
00385    <span class="keywordflow">return</span> const_cast&lt;TileMap*&gt;(<span class="keyword">this</span>)-&gt;begin(order);
00386 }
00387 
00388 <span class="keyword">inline</span> TileMap::const_iterator
<a name="l00389"></a><a class="code" href="classTileMap.html#a12">00389</a> <a class="code" href="classTileMap.html#a10">TileMap::end</a>(<span class="keywordtype">int</span> order)<span class="keyword"> const</span>
00390 <span class="keyword"></span>{
00391    <span class="keywordflow">return</span> const_cast&lt;TileMap*&gt;(<span class="keyword">this</span>)-&gt;end(order);
00392 }
00393 
00394 <span class="keyword">inline</span> <span class="keywordtype">int</span> 
<a name="l00395"></a><a class="code" href="classTileMap.html#a13">00395</a> <a class="code" href="classTileMap.html#a13">TileMap::nbrFeatures</a>(<span class="keywordtype">int</span> order)<span class="keyword"> const </span>
00396 <span class="keyword"></span>{
00397    <span class="keywordflow">return</span> <a class="code" href="classTileMap.html#p0">m_features</a>.size();
00398 }
00399 
00400 <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="classTileMapCoord.html">TileMapCoord</a>&amp; 
<a name="l00401"></a><a class="code" href="classTileMap.html#a14">00401</a> <a class="code" href="classTileMap.html#a14">TileMap::getReferenceCoord</a>()<span class="keyword"> const</span>
00402 <span class="keyword"></span>{
00403    <span class="keywordflow">return</span> m_referenceCoord;
00404 }
00405    
00406 <span class="keyword">inline</span> <span class="keywordtype">int</span> 
<a name="l00407"></a><a class="code" href="classTileMap.html#a15">00407</a> <a class="code" href="classTileMap.html#a15">TileMap::getMC2Scale</a>()<span class="keyword"> const</span>
00408 <span class="keyword"></span>{
00409    <span class="keywordflow">return</span> m_mc2Scale;
00410 }
00411 
00412 <span class="preprocessor">#ifdef MC2_SYSTEM</span>
00413 <span class="preprocessor"></span><span class="keyword">inline</span> <span class="keywordtype">bool</span> 
00414 TileMap::saveHeader( <a class="code" href="classBitBuffer.html">BitBuffer</a>&amp; buf )<span class="keyword"> const </span>
00415 <span class="keyword"></span>{
00416    <span class="comment">//buf.writeNextBAShort( m_importanceType );</span>
00417    <span class="keywordflow">return</span> <span class="keyword">true</span>;
00418 }
00419 <span class="preprocessor">#endif</span>
00420 <span class="preprocessor"></span>
00421 <span class="keyword">inline</span> <span class="keywordtype">bool</span> 
<a name="l00422"></a><a class="code" href="classTileMap.html#b2">00422</a> <a class="code" href="classTileMap.html#b2">TileMap::loadHeader</a>( <a class="code" href="classBitBuffer.html">BitBuffer</a>&amp; buf ) 
00423 {
00424    <span class="comment">//m_importanceType = buf.readNextBAShort();</span>
00425    <span class="keywordflow">return</span> <span class="keyword">true</span>;
00426 }
00427 
00428 <span class="keyword">inline</span> TileMap::primVect_t&amp;
<a name="l00429"></a><a class="code" href="classTileMap.html#a5">00429</a> <a class="code" href="classTileMap.html#a5">TileMap::getPrimitives</a>(<span class="keyword">const</span> <a class="code" href="classTileMapFormatDesc.html">TileMapFormatDesc</a>&amp; desc,
00430                        <span class="keywordtype">int</span> level)
00431 {
00432    <span class="keywordflow">if</span> ( <a class="code" href="classTileMap.html#p3">m_primitives</a> == NULL ) {
00433       <a class="code" href="classTileMap.html#a4">createPrimitives</a>(desc);
00434    }
00435    <span class="keywordflow">return</span> <a class="code" href="classTileMap.html#p3">m_primitives</a>[ level - m_minLevelOfPrimitives ];
00436 }
00437 
00438 <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a21">uint32</a> 
<a name="l00439"></a><a class="code" href="classTileMap.html#a23">00439</a> <a class="code" href="classTileMap.html#a23">TileMap::getCRC</a>()<span class="keyword"> const</span>
00440 <span class="keyword"></span>{
00441    <span class="keywordflow">return</span> m_crc;
00442 }
00443 
00444 <span class="keyword">inline</span> <span class="keywordtype">bool</span>
<a name="l00445"></a><a class="code" href="classTileMap.html#a24">00445</a> <a class="code" href="classTileMap.html#a24">TileMap::empty</a>()<span class="keyword"> const</span>
00446 <span class="keyword"></span>{
00447    <span class="keywordflow">return</span> <a class="code" href="classTileMap.html#p0">m_features</a>.empty() &amp;&amp; <a class="code" href="classTileMap.html#p7">m_strIdxByFeatureIdx</a>.empty();
00448 }
00449 
00450 <span class="preprocessor">#ifdef MC2_SYSTEM</span>
00451 <span class="preprocessor"></span><span class="keyword">inline</span> <span class="keywordtype">void</span> 
00452 TileMap::setEmptyImportances( uint32 emptyImp )
00453 {
00454    m_emptyImportances = emptyImp;
00455 }
00456 <span class="preprocessor">#endif</span>
00457 <span class="preprocessor"></span>
00458 <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a21">uint32</a> 
<a name="l00459"></a><a class="code" href="classTileMap.html#a25">00459</a> <a class="code" href="classTileMap.html#a25">TileMap::getEmptyImportances</a>()<span class="keyword"> const</span>
00460 <span class="keyword"></span>{
00461    <span class="keywordflow">return</span> m_emptyImportances;
00462 }
00463 
00464 <span class="keyword">inline</span> <span class="keywordtype">int</span> 
<a name="l00465"></a><a class="code" href="classTileMap.html#a21">00465</a> <a class="code" href="classTileMap.html#a21">TileMap::getFeatureIdxInTextOrder</a>( <span class="keywordtype">int</span> i )<span class="keyword"> const</span>
00466 <span class="keyword"></span>{
00467    <span class="keywordflow">return</span> <a class="code" href="classTileMap.html#p8">m_featureIdxInTextOrder</a>[ i ];
00468 }
00469 
00470 <span class="keyword">inline</span> <span class="keywordtype">int</span> 
<a name="l00471"></a><a class="code" href="classTileMap.html#a22">00471</a> <a class="code" href="classTileMap.html#a22">TileMap::getNbrFeaturesWithText</a>()<span class="keyword"> const</span>
00472 <span class="keyword"></span>{
00473    <span class="keywordflow">return</span> <a class="code" href="classTileMap.html#p8">m_featureIdxInTextOrder</a>.size();
00474 }
00475 
00476 <span class="keyword">inline</span> <span class="keywordtype">void</span>
<a name="l00477"></a><a class="code" href="classTileMap.html#a29">00477</a> <a class="code" href="classTileMap.html#a29">TileMap::swapExtendedStringTable</a>( <a class="code" href="classvector.html">ExtendedStringTable</a>&amp; table ) {
00478    <a class="code" href="classTileMap.html#p19">m_extendedStrings</a>.swap( table );
00479 }
00480 
00481 <span class="preprocessor">#endif // TILE_MAP_H</span>
00482 <span class="preprocessor"></span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Wed Jun 30 10:11:51 2010 for mc2 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.3.9.1 </small></address>
</body>
</html>
