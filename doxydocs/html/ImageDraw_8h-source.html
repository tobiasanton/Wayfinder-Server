<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>mc2: ImageDraw.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.9.1 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<div class="nav">
<a class="el" href="dir_000002.html">Server</a>&nbsp;/&nbsp;<a class="el" href="dir_000005.html">Shared</a>&nbsp;/&nbsp;<a class="el" href="dir_000026.html">Drawing</a>&nbsp;/&nbsp;<a class="el" href="dir_000027.html">include</a></div>
<h1>ImageDraw.h</h1><a href="ImageDraw_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment">00001 <span class="comment">/*</span>
00002 <span class="comment">Copyright (c) 1999 - 2010, Vodafone Group Services Ltd</span>
00003 <span class="comment">All rights reserved.</span>
00004 <span class="comment"></span>
00005 <span class="comment">Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</span>
00006 <span class="comment"></span>
00007 <span class="comment">    * Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</span>
00008 <span class="comment">    * Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</span>
00009 <span class="comment">    * Neither the name of the Vodafone Group Services Ltd nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.</span>
00010 <span class="comment"></span>
00011 <span class="comment">THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span>
00012 <span class="comment">*/</span>
00013 
00014 <span class="preprocessor">#ifndef IMAGEDRAW_H</span>
00015 <span class="preprocessor"></span><span class="preprocessor">#define IMAGEDRAW_H</span>
00016 <span class="preprocessor"></span>
00017 
00018 <span class="preprocessor">#include "<a class="code" href="config_8h.html">config.h</a>"</span>
00019 <span class="preprocessor">#include "<a class="code" href="GDColor_8h.html">GDColor.h</a>"</span>
00020 <span class="preprocessor">#include "<a class="code" href="ImageDrawConfig_8h.html">ImageDrawConfig.h</a>"</span>
00021 <span class="preprocessor">#include &lt;vector&gt;</span>
00022 <span class="preprocessor">#include "<a class="code" href="GfxUtility_8h.html">GfxUtility.h</a>"</span>
00023 <span class="preprocessor">#include "<a class="code" href="MC2BoundingBox_8h.html">MC2BoundingBox.h</a>"</span>
00024 <span class="preprocessor">#include "<a class="code" href="GfxDataTypes_8h.html">GfxDataTypes.h</a>"</span>
00025 <span class="preprocessor">#include "<a class="code" href="ItemTypes_8h.html">ItemTypes.h</a>"</span>
00026 <span class="preprocessor">#include "<a class="code" href="GfxFeature_8h.html">GfxFeature.h</a>"</span>
00027 <span class="preprocessor">#include "<a class="code" href="DrawSettings_8h.html">DrawSettings.h</a>"</span>
00028 <span class="preprocessor">#include "<a class="code" href="ImageTable_8h.html">ImageTable.h</a>"</span>
00029 
00030 <span class="keyword">class </span><a class="code" href="classDrawingProjection.html">DrawingProjection</a>;
00031 <span class="keyword">class </span><a class="code" href="classGfxPolygon.html">GfxPolygon</a>;
00032 <span class="keyword">class </span><a class="code" href="classGfxPOIFeature.html">GfxPOIFeature</a>;
00033 
<a name="l00040"></a><a class="code" href="classImageDraw.html">00040</a> <span class="keyword">class </span><a class="code" href="classImageDraw.html">ImageDraw</a> {
00041    <span class="keyword">public</span>:
00048       <a class="code" href="classImageDraw.html">ImageDraw</a>( <a class="code" href="Types_8h.html#a21">uint32</a> xSize, <a class="code" href="Types_8h.html#a21">uint32</a> ySize );
00049 
00050 
00054       <span class="keyword">virtual</span> ~<a class="code" href="classImageDraw.html">ImageDraw</a>();
00055 
00062       <span class="keyword">virtual</span> <a class="code" href="Types_8h.html#a25">byte</a>* getImageAsBuffer( <a class="code" href="Types_8h.html#a21">uint32</a>&amp; size, 
00063                                       ImageDrawConfig::imageFormat format
00064                                       = ImageDrawConfig::PNG ) = 0;
00065 
00066 
00067    <span class="keyword">virtual</span> <span class="keywordtype">void</span> setDrawingProjection( <span class="keyword">const</span> <a class="code" href="classDrawingProjection.html">DrawingProjection</a>* 
00068                                       drawingProjection ) = 0;
00083       <span class="keyword">virtual</span> <span class="keywordtype">void</span> drawArc( <span class="keywordtype">int</span> cx, <span class="keywordtype">int</span> cy,
00084                             <span class="keywordtype">int</span> startAngle, <span class="keywordtype">int</span> stopAngle, 
00085                             <span class="keywordtype">int</span> innerRadius, <span class="keywordtype">int</span> outerRadius,
00086                             GDUtils::Color::CoolColor color,
00087                             <span class="keywordtype">int</span> lineWidth = 1 ) = 0;
00088 
00092       <span class="keyword">virtual</span> <span class="keywordtype">void</span> drawRectangle( <span class="keywordtype">int</span> x1, <span class="keywordtype">int</span> y1, <span class="keywordtype">int</span> x2, <span class="keywordtype">int</span> y2,
00093                                   GDUtils::Color::CoolColor color ) = 0;
00094 
00098       <span class="keyword">virtual</span> <span class="keywordtype">void</span> drawBoundingBox( <span class="keyword">const</span> <a class="code" href="classMC2BoundingBox.html">MC2BoundingBox</a>&amp; bbox ) = 0;
00112       <span class="keyword">virtual</span> <span class="keywordtype">void</span> writeText( <span class="keyword">const</span> <span class="keywordtype">char</span>* text, <span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y,
00113                               <span class="keywordtype">double</span> fontSize = 10.0,
00114                               GDUtils::Color::CoolColor color = 
00115                               static_cast&lt; GDUtils::Color::CoolColor&gt;
00116                               ( 0x000000 ),
00117                               <span class="keywordtype">double</span> angle = 0.0, 
00118                               <span class="keyword">const</span> <span class="keywordtype">char</span>* fontName = <span class="stringliteral">"Vera.ttf"</span> ) = 0;
00119       
00146       <span class="keyword">virtual</span> <span class="keywordtype">void</span> drawTurnArrow( <span class="keywordtype">int</span> x0, <span class="keywordtype">int</span> y0, <span class="keywordtype">int</span> x1, <span class="keywordtype">int</span> y1, 
00147                                   <span class="keywordtype">int</span> x2, <span class="keywordtype">int</span> y2, <span class="keywordtype">int</span> x3, <span class="keywordtype">int</span> y3,
00148                                   <span class="keywordtype">int</span> arrowX0, <span class="keywordtype">int</span> arrowY0,
00149                                   <span class="keywordtype">int</span> arrowX1, <span class="keywordtype">int</span> arrowY1,
00150                                   <span class="keywordtype">int</span> arrowX2, <span class="keywordtype">int</span> arrowY2,
00151                                   <a class="code" href="Types_8h.html#a22">int32</a> arrowAngle, <a class="code" href="Types_8h.html#a22">int32</a> arrowLength,
00152                                   GDUtils::Color::CoolColor col,
00153                                   <span class="keywordtype">int</span> arrowWidth = 1 ) = 0;
00160       <span class="keyword">virtual</span> <span class="keywordtype">void</span> drawScale( <a class="code" href="classMC2BoundingBox.html">MC2BoundingBox</a>* bbox,
00161                               StringTable::languageCode lang = 
00162                               StringTable::ENGLISH ) = 0;
00171       <span class="keyword">virtual</span> <span class="keywordtype">bool</span> drawGfxFeaturePolygon( <span class="keyword">const</span> <a class="code" href="classGfxFeature.html">GfxFeature</a>* feature,
00172                                           <a class="code" href="classGfxPolygon.html">GfxPolygon</a>* polygon,
00173                                           <a class="code" href="classDrawSettings.html">DrawSettings</a>* settings,
00174                                           ImageTable::ImageSet imageSet ) = 0;
00189       <span class="keyword">virtual</span> <span class="keywordtype">void</span> drawGfxFeatureText( <span class="keyword">const</span> <span class="keywordtype">char</span>* text, <a class="code" href="Types_8h.html#a22">int32</a> lat, <a class="code" href="Types_8h.html#a22">int32</a> lon,
00190                                        <span class="keywordtype">double</span> fontSize = 10.0,
00191                                        GDUtils::Color::CoolColor color = 
00192                                        static_cast&lt; GDUtils::Color::CoolColor&gt;
00193                                        ( 0x000000 ),
00194                                        <span class="keywordtype">double</span> angle = 0.0,
00195                                        <span class="keywordtype">bool</span> moveText = <span class="keyword">false</span>,
00196                                        <span class="keyword">const</span> <span class="keywordtype">char</span>* fontName = <span class="stringliteral">"Vera.ttf"</span>) = 0;
00197 
00215       <span class="keyword">virtual</span> <span class="keywordtype">void</span> drawGfxFeatureText( <span class="keyword">const</span> <span class="keywordtype">char</span>* text, 
00216                                        <span class="keyword">const</span> <span class="keywordtype">char</span>* altLangText,
00217                                        <a class="code" href="Types_8h.html#a22">int32</a> lat, <a class="code" href="Types_8h.html#a22">int32</a> lon,
00218                                        <span class="keywordtype">double</span> fontSize = 10.0,
00219                                        GDUtils::Color::CoolColor color = 
00220                                        static_cast&lt; GDUtils::Color::CoolColor&gt;
00221                                        ( 0x000000 ),
00222                                        <span class="keywordtype">double</span> angle = 0.0,
00223                                        <span class="keywordtype">bool</span> moveText = <span class="keyword">false</span>,
00224                                        <span class="keyword">const</span> <span class="keywordtype">char</span>* fontName = <span class="stringliteral">"Vera.ttf"</span>) = 0;
00225 
00228       <span class="keyword">virtual</span> <span class="keywordtype">void</span> drawGfxFeatureText( <span class="keyword">const</span> <span class="keywordtype">char</span>* text, 
00229                                        <a class="code" href="classvector.html">vector&lt;GfxDataTypes::textPos&gt;</a>&amp; textPosition,
00230                                        <span class="keywordtype">double</span> fontSize = 10.0,
00231                                        GDUtils::Color::CoolColor color =
00232                                        static_cast&lt; GDUtils::Color::CoolColor&gt;
00233                                        ( 0x000000 ),
00234                                        <span class="keyword">const</span> <span class="keywordtype">char</span>* fontName = <span class="stringliteral">"Vera.ttf"</span> ) = 0;
00247       <span class="keyword">virtual</span> <span class="keywordtype">void</span> 
00248       drawGfxFeatureRoadSign( <span class="keyword">const</span> <span class="keywordtype">char</span>* name, <span class="keyword">const</span> <span class="keywordtype">char</span>* signName,
00249                               <a class="code" href="Types_8h.html#a22">int32</a> lat, <a class="code" href="Types_8h.html#a22">int32</a> lon, 
00250                               <a class="code" href="Types_8h.html#a26">float32</a> border = 0.10,
00251                               <span class="keywordtype">double</span> fontSize = 10.0,
00252                               GDUtils::Color::
00253                               CoolColor signColor =
00254                               static_cast&lt;GDUtils::Color::CoolColor&gt;
00255                               ( 0xFFFFFF ),
00256                               <span class="keyword">const</span> <span class="keywordtype">char</span>* fontName = <span class="stringliteral">"Vera.ttf"</span> ) = 0;
00274       <span class="keyword">virtual</span> <span class="keywordtype">void</span> drawRouteAsArrow( <a class="code" href="classvector.html">vector&lt;POINT&gt;</a> route,
00275                                      <a class="code" href="classvector.html">vector&lt;POINT&gt;</a> arrowHead,
00276                                      GDUtils::Color::CoolColor color,
00277                                      <a class="code" href="Types_8h.html#a21">uint32</a> routeWidth ) = 0;
00278       
00300       <span class="keyword">virtual</span> <span class="keywordtype">bool</span> getGlyphDimensions( <span class="keywordtype">int</span> fontSize,
00301                                        <span class="keyword">const</span> <span class="keywordtype">char</span>* fontName,
00302                                        <span class="keyword">const</span> <span class="keywordtype">char</span>* text,
00303                                        <a class="code" href="classvector.html">vector&lt;GfxDataTypes::dimensions&gt;</a>&amp; dimensions,
00304                                        <a class="code" href="Types_8h.html#a27">float64</a> xFactor = 1.0,
00305                                        <a class="code" href="Types_8h.html#a27">float64</a> yFactor = 1.0 ) = 0;
00315    <span class="keyword">virtual</span> <a class="code" href="structGfxDataTypes_1_1dimensions.html">GfxDataTypes::dimensions</a> 
<a name="l00316"></a><a class="code" href="classImageDraw.html#a17">00316</a>    getStringDimension( <span class="keywordtype">int</span> fontSize,
00317                        <span class="keyword">const</span> <span class="keywordtype">char</span>* fontName,
00318                        <span class="keyword">const</span> <span class="keywordtype">char</span>* text,
00319                        float64 xFactor = 1.0, 
00320                        float64 yFactor = 1.0 )<span class="keyword"> const </span>{
00321       <span class="comment">// TODO: Implement in gd</span>
00322       <a class="code" href="structGfxDataTypes_1_1dimensions.html">GfxDataTypes::dimensions</a> dim = { 0, 0 };
00323       <span class="keywordflow">return</span> dim;
00324    }
00325 
00331    <span class="keyword">virtual</span> <span class="keywordtype">void</span> cutImage( uint32 width, uint32 height ) = 0;
00332 
00333 <span class="keyword">protected</span>:
00334 
00335    <span class="keyword">static</span> <a class="code" href="classMC2String.html">MC2String</a> getImageFullPath( <span class="keyword">const</span> <a class="code" href="classMC2String.html">MC2String</a>&amp; filename );
00336 
00345    <span class="keyword">static</span> <a class="code" href="classMC2String.html">MC2String</a> getSymbolFilename( DrawSettings::symbol_t sym,
00346                                        <span class="keyword">const</span> <a class="code" href="classDrawSettings.html">DrawSettings</a>&amp; setting,
00347                                        <span class="keyword">const</span> <a class="code" href="classGfxFeature.html">GfxFeature</a>* feature,
00348                                        ImageTable::ImageSet imageSet );
00355    <span class="keyword">static</span> <a class="code" href="classMC2String.html">MC2String</a> getSymbolFilename( GfxFeature::gfxFeatureType type,
00356                                        ImageTable::ImageSet imageSet );
00357 
00365    <span class="keyword">static</span> <a class="code" href="classMC2String.html">MC2String</a> getPOISymbolFilename( ItemTypes::pointOfInterest_t type,
00366                                           ImageTable::ImageSet imageSet,
00367                                           byte extraPOIInfo = MAX_BYTE );
00368 
00369 
00379       <span class="keyword">virtual</span> <span class="keywordtype">void</span> getPixel( uint32 x, uint32 y, 
00380                              <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>&amp; red, 
00381                              <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>&amp; green, 
00382                              <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>&amp; blue ) = 0;
00383 
00384       
00390       <span class="keyword">virtual</span> <span class="keywordtype">void</span> transferPixels( <span class="keywordtype">void</span>* image );
00391 
00392 
00403       <a class="code" href="Types_8h.html#a25">byte</a>* convertImageToBuffer( uint32&amp; size, 
00404                                   ImageDrawConfig::imageFormat format = 
00405                                   ImageDrawConfig::GIF );
00406 
00407       
<a name="l00411"></a><a class="code" href="classImageDraw.html#p0">00411</a>       <a class="code" href="Types_8h.html#a22">int32</a> m_width;
00412 
00413 
<a name="l00417"></a><a class="code" href="classImageDraw.html#p1">00417</a>       <a class="code" href="Types_8h.html#a22">int32</a> m_height;
00418 };
00419 
00420 
00421 <span class="preprocessor">#endif // IMAGEDRAW_H</span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Wed Jun 30 10:11:47 2010 for mc2 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.3.9.1 </small></address>
</body>
</html>
