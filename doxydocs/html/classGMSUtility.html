<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>mc2: GMSUtility Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.9.1 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>GMSUtility Class Reference</h1>Class containing static methods used during map generation.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="GMSUtility_8h-source.html">GMSUtility.h</a>&gt;</code>
<p>
<a href="classGMSUtility-members.html">List of all members.</a><h2>Static Public Member Functions</h2>
<ul>
<li>int <a class="el" href="classGMSUtility.html#e0">addExternalConnection</a> (<a class="el" href="classOldGenericMap.html">OldGenericMap</a> *theMap, <a class="el" href="structGMSMap_1_1extdata__t.html">GMSMap::extdata_t</a> data)
<dl class="el"><dd class="mdescRight">Adds external connections to a map.  <a href="#e0"></a><br></dl><li><a class="el" href="Types_8h.html#a27">float64</a> <a class="el" href="classGMSUtility.html#e1">getDistanceToNode</a> (<a class="el" href="Types_8h.html#a25">byte</a> nodeNbr, <a class="el" href="classGfxData.html">GfxData</a> *gfx, <a class="el" href="Types_8h.html#a22">int32</a> lat, <a class="el" href="Types_8h.html#a22">int32</a> lon)
<dl class="el"><dd class="mdescRight">Get distance from one point to a given node.  <a href="#e1"></a><br></dl><li>void <a class="el" href="classGMSUtility.html#e2">filterCoordinates</a> (<a class="el" href="classOldGenericMap.html">OldGenericMap</a> *theMap)
<dl class="el"><dd class="mdescRight">Filter coordinates in this map, using filtering algorithm in <a class="el" href="classGfxFilterUtil.html">GfxFilterUtil</a>.  <a href="#e2"></a><br></dl><li>bool <a class="el" href="classGMSUtility.html#e3">filterItem</a> (<a class="el" href="classOldItem.html">OldItem</a> &amp;item, <a class="el" href="classOldGenericMap.html">OldGenericMap</a> &amp;theMap, double &amp;e1, double &amp;e2, <a class="el" href="Types_8h.html#a21">uint32</a> &amp;totalCoords, <a class="el" href="Types_8h.html#a21">uint32</a> &amp;totalCoordsToFilter, <a class="el" href="Types_8h.html#a21">uint32</a> &amp;unfilteredCoords, <a class="el" href="Types_8h.html#a21">uint32</a> &amp;filteredCoords)
<dl class="el"><dd class="mdescRight">Filtering the gfx data of one item.  <a href="#e3"></a><br></dl><li>void <a class="el" href="classGMSUtility.html#e4">filterCoordinateLevels</a> (<a class="el" href="classOldGenericMap.html">OldGenericMap</a> *theMap)
<dl class="el"><dd class="mdescRight">Filter items in one map, using filtering algorithm in <a class="el" href="classGfxFilterUtil.html">GfxFilterUtil</a>, common lines between items in the map are filtered individually.  <a href="#e4"></a><br></dl><li>bool <a class="el" href="classGMSUtility.html#e5">filterCountryPolygonLevels</a> (<a class="el" href="classOldGenericMap.html">OldGenericMap</a> *theMap, set&lt; <a class="el" href="classMC2Coordinate.html">MC2Coordinate</a> &gt; breakPoints)
<dl class="el"><dd class="mdescRight">Filter country polygon (=map gfx data of country overview map).  <a href="#e5"></a><br></dl><li>bool <a class="el" href="classGMSUtility.html#e6">extractCoPolBreakPoints</a> (const char *breakPointFile, set&lt; <a class="el" href="classMC2Coordinate.html">MC2Coordinate</a> &gt; &amp;breakPoints)
<dl class="el"><dd class="mdescRight">Extract break points from the country polygon break points text file.  <a href="#e6"></a><br></dl><li>void <a class="el" href="classGMSUtility.html#e7">createBorderBoundrySegments</a> (const char *mapPath, <a class="el" href="Types_8h.html#a21">uint32</a> startAtMap)
<dl class="el"><dd class="mdescRight">Create boundry segments geographically.  <a href="#e7"></a><br></dl></ul>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Class containing static methods used during map generation. 
<p>

<p>
Definition at line <a class="el" href="GMSUtility_8h-source.html#l00023">23</a> of file <a class="el" href="GMSUtility_8h-source.html">GMSUtility.h</a>.<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="e0" doxytag="GMSUtility::addExternalConnection"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int GMSUtility::addExternalConnection           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classOldGenericMap.html">OldGenericMap</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>theMap</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="structGMSMap_1_1extdata__t.html">GMSMap::extdata_t</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>data</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Adds external connections to a map. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>theMap</em>&nbsp;</td><td>The map to add external connections to. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td><a class="el" href="namespaceHolds.html">Holds</a> info about the external nodes from which connections are created. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>How many external conenctions that were added to the boundry segments in this map. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="e7" doxytag="GMSUtility::createBorderBoundrySegments"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void GMSUtility::createBorderBoundrySegments           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>mapPath</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="Types_8h.html#a21">uint32</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>startAtMap</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Create boundry segments geographically. 
<p>
Coordinates of all nodes that are outside or inside and close (5 meters) to the map border (map gfx data must be true border) are collected. All maps are looped again and all nodes close to the coordinates are used for creating virtual items which are added to the boundry segments vector of the map.     </td>
  </tr>
</table>
<a class="anchor" name="e6" doxytag="GMSUtility::extractCoPolBreakPoints"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool GMSUtility::extractCoPolBreakPoints           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>breakPointFile</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>set&lt; <a class="el" href="classMC2Coordinate.html">MC2Coordinate</a> &gt; &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>breakPoints</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Extract break points from the country polygon break points text file. 
<p>
This file is structured according to "lat lon description" e.g. 823915938 245139346 swe-fin-no 785357201 288128788 swe-fin-ocean<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>breakPointFile</em>&nbsp;</td><td>The text file with break point coordinates. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>breakPoints</em>&nbsp;</td><td>Where to store the break points. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>True if ok, false e.g. if the text fiel does not exist. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="e4" doxytag="GMSUtility::filterCoordinateLevels"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void GMSUtility::filterCoordinateLevels           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classOldGenericMap.html">OldGenericMap</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>theMap</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Filter items in one map, using filtering algorithm in <a class="el" href="classGfxFilterUtil.html">GfxFilterUtil</a>, common lines between items in the map are filtered individually. 
<p>
Result is 16 levels of filtering. The level is stored using last 2 bits of latitude and longitude. Level 0 is 1 meters filtering to remove coordinates on "a string" and level 1-15 are further filterings based on level 0.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>theMap</em>&nbsp;</td><td>The map to filter. </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="e2" doxytag="GMSUtility::filterCoordinates"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void GMSUtility::filterCoordinates           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classOldGenericMap.html">OldGenericMap</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>theMap</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Filter coordinates in this map, using filtering algorithm in <a class="el" href="classGfxFilterUtil.html">GfxFilterUtil</a>. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>theMap</em>&nbsp;</td><td>The map to filter. Different filtering will be applied on different types of maps, e.g underview maps and country overview maps. </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="e5" doxytag="GMSUtility::filterCountryPolygonLevels"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool GMSUtility::filterCountryPolygonLevels           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classOldGenericMap.html">OldGenericMap</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>theMap</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>set&lt; <a class="el" href="classMC2Coordinate.html">MC2Coordinate</a> &gt;&nbsp;</td>
          <td class="mdname" nowrap> <em>breakPoints</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Filter country polygon (=map gfx data of country overview map). 
<p>
Results in 16 levels of filtering. Level 0 is original data, level 1-15 are filterings upon filterings. If the map already has a filtered map gfx data, nothing is done. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>theMap</em>&nbsp;</td><td>The country overview map to filter. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>breakPoints</em>&nbsp;</td><td>A set with coordinates defining common lines between neighbouring country polygons. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>True if the map gfx data was filtered, false if not or e.g. if the map was not a country overview map. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="e3" doxytag="GMSUtility::filterItem"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool GMSUtility::filterItem           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classOldItem.html">OldItem</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>item</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="classOldGenericMap.html">OldGenericMap</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>theMap</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>double &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>e1</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>double &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>e2</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="Types_8h.html#a21">uint32</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>totalCoords</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="Types_8h.html#a21">uint32</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>totalCoordsToFilter</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="Types_8h.html#a21">uint32</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>unfilteredCoords</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="Types_8h.html#a21">uint32</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>filteredCoords</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Filtering the gfx data of one item. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>item</em>&nbsp;</td><td>The item to filter. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>theMap</em>&nbsp;</td><td>The map of the item to filter. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>e1</em>&nbsp;</td><td>In/Out parameter. Increased with the error before Kolesnikov filter. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>e2</em>&nbsp;</td><td>In/Out parameter. Increased with the error after Kolesnikov filter. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>totalCoords</em>&nbsp;</td><td>In/Out Increased with the number of coords of this item before filtering no matter if it is filtered or not. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>totalCoordsToFilter</em>&nbsp;</td><td>In/Out Increased with the number of coords of this item before filtering only if it has been filtered. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>unfilteredCoords</em>&nbsp;</td><td>In/Out Increased with the number of coords of this item before it was filtered. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>filteredCoords</em>&nbsp;</td><td>In/Out Increased with the number of coords of this item after if it was filtered.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>True if the item was filtered. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="e1" doxytag="GMSUtility::getDistanceToNode"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="Types_8h.html#a27">float64</a> GMSUtility::getDistanceToNode           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="Types_8h.html#a25">byte</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>nodeNbr</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="classGfxData.html">GfxData</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>gfx</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="Types_8h.html#a22">int32</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>lat</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="Types_8h.html#a22">int32</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>lon</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get distance from one point to a given node. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>nodeNbr</em>&nbsp;</td><td>0 for node zero, otherwise node 1. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>gfx</em>&nbsp;</td><td>Pointer to the <a class="el" href="classGfxData.html">GfxData</a> where nodeNbr is located. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>lat</em>&nbsp;</td><td>Latitude part of the coordinate. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>lon</em>&nbsp;</td><td>Longitude part of the coordinate. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>The distance from the coordinates to the node. </dd></dl>
    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="GMSUtility_8h-source.html">GMSUtility.h</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Wed Jun 30 10:24:35 2010 for mc2 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.3.9.1 </small></address>
</body>
</html>
