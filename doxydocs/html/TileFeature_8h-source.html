<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>mc2: TileFeature.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.9.1 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<div class="nav">
<a class="el" href="dir_000000.html">Shared</a>&nbsp;/&nbsp;<a class="el" href="dir_000001.html">include</a></div>
<h1>TileFeature.h</h1><a href="TileFeature_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment">00001 <span class="comment">/*</span>
00002 <span class="comment">Copyright (c) 1999 - 2010, Vodafone Group Services Ltd</span>
00003 <span class="comment">All rights reserved.</span>
00004 <span class="comment"></span>
00005 <span class="comment">Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</span>
00006 <span class="comment"></span>
00007 <span class="comment">    * Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</span>
00008 <span class="comment">    * Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</span>
00009 <span class="comment">    * Neither the name of the Vodafone Group Services Ltd nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.</span>
00010 <span class="comment"></span>
00011 <span class="comment">THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span>
00012 <span class="comment">*/</span>
00013 
00014 <span class="preprocessor">#ifndef TILE_FEATURE_H</span>
00015 <span class="preprocessor"></span><span class="preprocessor">#define TILE_FEATURE_H</span>
00016 <span class="preprocessor"></span>
00017 <span class="preprocessor">#include "<a class="code" href="TileMapConfig_8h.html">TileMapConfig.h</a>"</span>
00018 <span class="preprocessor">#include "<a class="code" href="TileFeatureArg_8h.html">TileFeatureArg.h</a>"</span>
00019 <span class="preprocessor">#include "<a class="code" href="MC2Point_8h.html">MC2Point.h</a>"</span>
00020 <span class="preprocessor">#include "<a class="code" href="PixelBox_8h.html">PixelBox.h</a>"</span>
00021 
00022 <span class="preprocessor">#include &lt;<a class="code" href="BitBuffer_8h.html">BitBuffer.h</a>&gt;</span>
00023 <span class="preprocessor">#include &lt;map&gt;</span>
00024 <span class="preprocessor">#include &lt;vector&gt;</span>
00025 <span class="keyword">class </span><a class="code" href="classTileMapFormatDesc.html">TileMapFormatDesc</a>;
00026 <span class="keyword">class </span><a class="code" href="classMapProjection.html">MapProjection</a>;
00027 <span class="keyword">class </span><a class="code" href="classTileFeatureArg.html">TileFeatureArg</a>;
00028 
<a name="l00029"></a><a class="code" href="classTileMapNameSettings.html">00029</a> <span class="keyword">class </span><a class="code" href="classTileMapNameSettings.html">TileMapNameSettings</a> {
00030 <span class="keyword">public</span>:
<a name="l00031"></a><a class="code" href="classTileMapNameSettings.html#w8">00031</a>    <span class="keyword">enum</span> name_t {
00032       on_roundrect,
00033       on_bitmap,
00034       on_line,
00035       above_line,
00036       under_line,
00037       horizontal,
00038       inside_polygon
00039    };
00040       
<a name="l00041"></a><a class="code" href="classTileMapNameSettings.html#w0">00041</a>    <span class="keyword">typedef</span> <a class="code" href="Types_8h.html#a21">uint32</a> color_t;
00042       
00043    <span class="comment">// Fonts etc.</span>
<a name="l00044"></a><a class="code" href="classTileMapNameSettings.html#o0">00044</a>    <span class="keyword">const</span> <span class="keywordtype">char</span>* m_fontName;
<a name="l00045"></a><a class="code" href="classTileMapNameSettings.html#o1">00045</a>    name_t m_type;
<a name="l00046"></a><a class="code" href="classTileMapNameSettings.html#o2">00046</a>    <a class="code" href="Types_8h.html#a17">uint8</a> m_fontSize;
<a name="l00047"></a><a class="code" href="classTileMapNameSettings.html#o3">00047</a>    color_t m_fontColor;
<a name="l00048"></a><a class="code" href="classTileMapNameSettings.html#o4">00048</a>    color_t m_backgroundColor;
<a name="l00049"></a><a class="code" href="classTileMapNameSettings.html#o5">00049</a>    <span class="keyword">const</span> <span class="keywordtype">char</span>* m_bitmap;
<a name="l00050"></a><a class="code" href="classTileMapNameSettings.html#o6">00050</a>    <a class="code" href="Types_8h.html#a18">int8</a> m_bitmapXOffset;
<a name="l00051"></a><a class="code" href="classTileMapNameSettings.html#o7">00051</a>    <a class="code" href="Types_8h.html#a18">int8</a> m_bitmapYOffset;
00052 };
00053 
<a name="l00054"></a><a class="code" href="classVectorProxy.html">00054</a> <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt; <span class="keyword">class </span><a class="code" href="classVectorProxy.html">VectorProxy</a> {
00055 <span class="keyword">public</span>:
00056 
<a name="l00061"></a><a class="code" href="classVectorProxy.html#a0">00061</a>    <a class="code" href="classVectorProxy.html">VectorProxy</a>() {}
00062    
<a name="l00071"></a><a class="code" href="classVectorProxy.html#a1">00071</a>    <a class="code" href="classVectorProxy.html">VectorProxy</a>( <a class="code" href="classvector.html">vector&lt;T&gt;</a>&amp; realVector, <span class="keywordtype">int</span> startIdx, <span class="keywordtype">int</span> size )
00072       : m_realVector(&amp;realVector),
00073         m_startIdx(startIdx),
00074         m_endIdx(startIdx+size) {}
00075 
<a name="l00076"></a><a class="code" href="classVectorProxy.html#w0">00076</a>    <span class="keyword">typedef</span> <span class="keyword">typename</span> <a class="code" href="classvector.html">vector&lt;T&gt;</a>::iterator       iterator;
<a name="l00077"></a><a class="code" href="classVectorProxy.html#w1">00077</a>    <span class="keyword">typedef</span> <span class="keyword">typename</span> <a class="code" href="classvector.html">vector&lt;T&gt;</a>::const_iterator const_iterator;
00078    
<a name="l00079"></a><a class="code" href="classVectorProxy.html#a2">00079</a>    <span class="keyword">typename</span> <a class="code" href="classvector.html">vector&lt;T&gt;</a>::iterator begin() {
00080       <span class="keywordflow">return</span> m_realVector-&gt;begin() + m_startIdx;
00081    }
00082 
<a name="l00083"></a><a class="code" href="classVectorProxy.html#a3">00083</a>    <span class="keyword">typename</span> <a class="code" href="classvector.html">vector&lt;T&gt;</a>::iterator end() {
00084       <span class="keywordflow">return</span> m_realVector-&gt;begin() + m_endIdx;
00085    }
00086    
<a name="l00087"></a><a class="code" href="classVectorProxy.html#a4">00087</a>    <span class="keyword">typename</span> <a class="code" href="classvector.html">vector&lt;T&gt;</a>::const_iterator begin()<span class="keyword"> const </span>{
00088       <span class="keywordflow">return</span> m_realVector-&gt;begin() + m_startIdx;
00089    }
00090 
<a name="l00091"></a><a class="code" href="classVectorProxy.html#a5">00091</a>    <span class="keyword">typename</span> <a class="code" href="classvector.html">vector&lt;T&gt;</a>::const_iterator end()<span class="keyword"> const </span>{
00092       <span class="keywordflow">return</span> m_realVector-&gt;begin() + m_endIdx;
00093    }
00094    
<a name="l00095"></a><a class="code" href="classVectorProxy.html#a6">00095</a>    <a class="code" href="Types_8h.html#a21">uint32</a> size()<span class="keyword"> const </span>{
00096       <span class="keywordflow">return</span> m_endIdx - m_startIdx;
00097    }
00098 
<a name="l00099"></a><a class="code" href="classVectorProxy.html#a7">00099</a>    <a class="code" href="Types_8h.html#a21">uint32</a> empty()<span class="keyword"> const </span>{
00100       <span class="keywordflow">return</span> m_endIdx == m_startIdx;
00101    }
00102 
<a name="l00103"></a><a class="code" href="classVectorProxy.html#a8">00103</a>    <span class="keywordtype">void</span> clear() {
00104       m_endIdx = m_startIdx;
00105    }
00106 
<a name="l00107"></a><a class="code" href="classVectorProxy.html#a9">00107</a>    <span class="keywordtype">void</span> push_back(<span class="keyword">const</span> T&amp; val) {
00108       (*m_realVector)[m_endIdx++] = val;
00109    }
00110 
<a name="l00111"></a><a class="code" href="classVectorProxy.html#a10">00111</a>    <span class="keyword">const</span> T&amp; operator[](<span class="keywordtype">int</span> i)<span class="keyword"> const </span>{
00112       <span class="keywordflow">return</span> (*m_realVector)[m_startIdx+i];
00113    }
00114    
<a name="l00115"></a><a class="code" href="classVectorProxy.html#a11">00115</a>    <span class="keyword">const</span> T&amp; back()<span class="keyword"> const </span>{
00116       <span class="keywordflow">return</span> (*m_realVector)[m_endIdx-1];
00117    }
00118 
<a name="l00119"></a><a class="code" href="classVectorProxy.html#a12">00119</a>    <span class="keyword">const</span> T&amp; front()<span class="keyword"> const </span>{
00120       <span class="keywordflow">return</span> (*m_realVector)[m_startIdx];
00121    }
00122     
00123 <span class="keyword">private</span>:
<a name="l00125"></a><a class="code" href="classVectorProxy.html#r0">00125</a>    <a class="code" href="classvector.html">vector&lt;T&gt;</a>* m_realVector;
<a name="l00127"></a><a class="code" href="classVectorProxy.html#r1">00127</a>    <a class="code" href="Types_8h.html#a21">uint32</a> m_startIdx;
<a name="l00129"></a><a class="code" href="classVectorProxy.html#r2">00129</a>    <a class="code" href="Types_8h.html#a21">uint32</a> m_endIdx;
00130    
00131    
00132 };
00133 
00134 <span class="keyword">class </span><a class="code" href="classTileFeature.html">TileFeature</a>;
00135 
00140 <span class="keyword">class </span><a class="code" href="classTilePrimitiveFeature.html">TilePrimitiveFeature</a> {
<a name="l00141"></a><a class="code" href="classTilePrimitiveFeature.html#n0">00141</a> <span class="keyword">private</span>:
<a name="l00143"></a><a class="code" href="classTilePrimitiveFeature.html#n1">00143</a>    <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classTileMapCreator.html">TileMapCreator</a>;
<a name="l00145"></a><a class="code" href="classTilePrimitiveFeature.html#n2">00145</a>    <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classTileMapFormatDesc.html">TileMapFormatDesc</a>;
00147    <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classWritableTileMap.html">WritableTileMap</a>;
00148 <span class="keyword">public</span>:
00153    <span class="keyword">enum</span> tileFeature_t {
00155       circle = -4,
00157       bitmap = -3,
00159       polygon = -2,
00161       line    = -1,
00163       street_class_0 = 0,
00164       street_class_1 = 1,
00165       street_class_2 = 2,
00166       street_class_3 = 3,
00167       street_class_4 = 4,
00168       street_class_0_level_0 = 5,
00169       street_class_1_level_0 = 6,
00170       street_class_2_level_0 = 7,
00171       street_class_3_level_0 = 8,
00172       street_class_4_level_0 = 9,
00173       poi = 10,
00174       water = 11,
00175       park = 12,
00176       land = 13,
00177       building_area = 14,
00178       building_outline = 15,
00179       bua = 16,
00180       railway = 17,
00181       ocean = 18,
00182       route = 19,
00183       route_origin = 20,
00184       route_destination = 21,
00185       route_park_car = 22,
00186       <span class="comment">// Here comes the POI:s.</span>
00187       city_centre_2 = 23, 
00188       city_centre_4 = 24, 
00189       city_centre_5 = 25, 
00190       city_centre_7 = 26, 
00191       city_centre_8 = 27, 
00192       city_centre_10 = 28, 
00193       city_centre_11 = 29, 
00194       city_centre_12 = 30, 
00195       atm = 31,
00196       golf_course = 32,
00197       ice_skating_rink = 33,
00198       marina = 34,
00199       vehicle_repair_facility = 35,
00200       bowling_centre = 36,
00201       bank = 37,
00202       casino = 38,
00203       city_hall = 39,
00204       commuter_railstation = 40,
00205       courthouse = 41,
00206       historical_monument = 42,
00207       museum = 43, 
00208       nightlife = 44,
00209       post_office = 45,
00210       recreation_facility = 46,
00211       rent_a_car_facility = 47,
00212       rest_area = 48,
00213       ski_resort = 49,
00214       sports_activity = 50,
00215       theatre = 51,
00216       tourist_attraction = 52,
00217       church = 53,
00218       winery = 54,
00219       parking_garage = 55,
00220       park_and_ride = 56,
00221       open_parking_area = 57,
00222       amusement_park = 58,
00223       library = 59,
00224       school = 60, 
00225       grocery_store = 61, 
00226       petrol_station = 62,
00227       tram_station = 63,
00228       ferry_terminal = 64,
00229       cinema = 65,
00230       bus_station = 66,
00231       railway_station = 67,
00232       airport = 68,
00233       restaurant = 69,
00234       hotel = 70,
00235       tourist_office = 71,
00236       police_station = 72,
00237       hospital = 73,
00238       toll_road = 74,
00239       <span class="comment">// The forgotten ones.</span>
00240       island = 75,
00241       university = 76,
00242       border = 77,
00243       wlan = 78,
00244       custom_poi_2 = 79,
00245       custom_poi_4 = 80,
00246       custom_poi_7 = 81,
00247       custom_poi_10 = 82,
00248       custom_poi_15 = 83,
00249       custom_poi_20 = 84,
00250       custom_poi_30 = 85,
00251       petrol_station_with_price = 86,
00253       traffic_default = 87,
00255       roadwork        = 88,
00257       speed_camera    = 89,
00259       speed_trap      = 90,
00261       airport_ground = 91,
00262       mosque = 92,
00263       synagogue = 94,
00264       turkish_hospital = 95,
00265       subway_station = 96,
00266       cafe = 97,
00267       hindu_temple = 98,
00268       buddhist_site = 99,
00270       user_defined_speed_camera    = 100,
00271       street_class_0_ramp = 101,
00272       street_class_1_ramp = 102,
00273       street_class_2_ramp = 103,
00279       cartographic_green_area = 104,
00284       cartographic_ground = 105,
00285       forest = 106,
00286       aircraftroad = 107,
00287 
00288       special_custom_poi_2 = 108,
00289       special_custom_poi_4 = 109,
00290       special_custom_poi_7 = 110,
00291       special_custom_poi_10 = 111,
00292       special_custom_poi_15 = 112,
00293       special_custom_poi_20 = 113,
00294       special_custom_poi_30 = 114,
00295 
00296       shop = 115,
00297 
00298       event = 116,
00299 
00300       walkway = 117,
00301 
00302       water_in_park = 118,
00303       island_in_bua = 119,
00304       island_in_water_in_park = 120,
00305       bua_on_island = 121,
00306 
00307       nbr_tile_features <span class="comment">// Last one</span>
00308    };
00309 
00314    <a class="code" href="classTilePrimitiveFeature.html">TilePrimitiveFeature</a>( int32 type = MAX_INT32 ) :
00315       m_parentFeature(-1),
00316       m_pixelBox(NULL),
00317       m_type(type)
00318       {}
00319 
00320 <span class="preprocessor">#ifdef __VC32__</span>
00321 <span class="preprocessor"></span>
00325    <a class="code" href="classTilePrimitiveFeature.html">TilePrimitiveFeature</a>( <span class="keyword">const</span> <a class="code" href="classTilePrimitiveFeature.html">TilePrimitiveFeature</a>&amp; other )
00326       : m_parentFeature(other.m_parentFeature),
00327         m_screenCoords(other.m_screenCoords),
00328         m_pixelBox(other.m_pixelBox),
00329         m_type(other.m_type) {
00330       <span class="comment">// This is the replacement for the vector copy constructor which</span>
00331       <span class="comment">// VC++ cannot handle.</span>
00332       m_args.insert(m_args.end(), other.<a class="code" href="classTilePrimitiveFeature.html#p1">m_args</a>.begin(), other.<a class="code" href="classTilePrimitiveFeature.html#p1">m_args</a>.end());
00333    }
<a name="l00334"></a><a class="code" href="classTilePrimitiveFeature.html#a1">00334</a> <span class="preprocessor">#endif</span>
00335 <span class="preprocessor"></span>   
00336    <a class="code" href="classTilePrimitiveFeature.html">TilePrimitiveFeature</a>( <span class="keyword">const</span> <a class="code" href="classTilePrimitiveFeature.html">TilePrimitiveFeature</a>&amp; other ):
00337       m_parentFeature( other.m_parentFeature ),
00338       m_screenCoords( other.m_screenCoords ),
00339       m_pixelBox( other.m_pixelBox ),
00340       m_type( other.m_type ) {
00341 
00342       <span class="keywordflow">for</span> ( <a class="code" href="Types_8h.html#a21">uint32</a> i = 0; i &lt; other.<a class="code" href="classTilePrimitiveFeature.html#p1">m_args</a>.size(); ++i ) {
00343          m_args.push_back( other.<a class="code" href="classTilePrimitiveFeature.html#p1">m_args</a>[ i ]-&gt;clone() );
00344       }
00345       
<a name="l00346"></a><a class="code" href="classTilePrimitiveFeature.html#w0">00346</a>    }
<a name="l00347"></a><a class="code" href="classTilePrimitiveFeature.html#w1">00347</a>    
00348    <span class="keyword">typedef</span> <a class="code" href="classvector.html">vector&lt;TileFeatureArg*&gt;</a>::iterator arg_iterator;
00349    <span class="keyword">typedef</span> <a class="code" href="classvector.html">vector&lt;TileFeatureArg*&gt;</a>::const_iterator const_arg_iterator;
00350 
00351    <span class="keyword">inline</span> const_arg_iterator arg_begin() <span class="keyword">const</span>;
00352 
00353    <span class="keyword">inline</span> const_arg_iterator arg_end() <span class="keyword">const</span>;
00354 
00355    <span class="keyword">inline</span> arg_iterator arg_begin();
00356 
00357    <span class="keyword">inline</span> arg_iterator arg_end();
00358 
00362    <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a21">uint32</a> getNbrArgs() <span class="keyword">const</span>;
00363 
00364    <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a22">int32</a> getType() <span class="keyword">const</span>;
00365 
00366    <span class="comment">//inline int16 getNameType() const;</span>
00367    
00372    <span class="keyword">inline</span> <a class="code" href="classTileFeatureArg.html">TileFeatureArg</a>* getArg( TileArgNames::tileArgName_t name );
00373    
00378    <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="classTileFeatureArg.html">TileFeatureArg</a>* getArg( TileArgNames::tileArgName_t name )
00379       <span class="keyword">const</span>;
00380 
00385    <span class="keyword">inline</span> <span class="keywordtype">void</span> setFeatureNbr(<span class="keywordtype">int</span> i);
00386    
00391    <span class="keyword">inline</span> <span class="keywordtype">int</span> getFeatureNbr() <span class="keyword">const</span>;
00392 
00396    <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="classVectorProxy.html">VectorProxy&lt;MC2Point&gt;</a>&amp; getScreenCoords() <span class="keyword">const</span>;
00397 
00402    <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="classPixelBox.html">PixelBox</a>&amp; getPixelBox()<span class="keyword"> const </span>{
00403       <span class="keywordflow">return</span> *m_pixelBox;
00404    }
00405    
00416    <span class="keyword">static</span> <span class="keywordtype">void</span> createFromStream(
00417       <a class="code" href="classTilePrimitiveFeature.html">TilePrimitiveFeature</a>&amp; target,
00418       <a class="code" href="classBitBuffer.html">BitBuffer</a>&amp; buf,
00419       <span class="keyword">const</span> <a class="code" href="classTileMapFormatDesc.html">TileMapFormatDesc</a>&amp; desc,
00420       <a class="code" href="classTileMap.html">TileMap</a>&amp; tileMap,
00421       <span class="keyword">const</span> <a class="code" href="classTilePrimitiveFeature.html">TilePrimitiveFeature</a>* prevFeature );
00422    
<a name="l00423"></a><a class="code" href="classTilePrimitiveFeature.html#b0">00423</a> <span class="keyword">protected</span>:   
00425    <span class="keyword">inline</span> <span class="keywordtype">void</span> setType( int32 type ) { m_type = type; }
00426    
00436    <span class="keywordtype">bool</span> internalLoad( <a class="code" href="classBitBuffer.html">BitBuffer</a>&amp; buf, <a class="code" href="classTileMap.html">TileMap</a>&amp; tileMap,
00437                       <span class="keyword">const</span> <a class="code" href="classTilePrimitiveFeature.html">TilePrimitiveFeature</a>* prevFeature );
00438       
00439 
00443    <a class="code" href="classVectorProxy.html">VectorProxy&lt;MC2Point&gt;</a>&amp; getScreenCoords() {
00444       <span class="keywordflow">return</span> *m_screenCoords;
00445    }
00446    
00450    <span class="keyword">inline</span> <span class="keywordtype">void</span> addArg(<a class="code" href="classTileFeatureArg.html">TileFeatureArg</a>* arg);
<a name="l00451"></a><a class="code" href="classTilePrimitiveFeature.html#p0">00451</a> 
00453    <span class="keywordtype">int</span> m_parentFeature;
<a name="l00454"></a><a class="code" href="classTilePrimitiveFeature.html#p1">00454</a>    
00456    <a class="code" href="classvector.html">vector&lt;TileFeatureArg*&gt;</a> m_args;
<a name="l00457"></a><a class="code" href="classTilePrimitiveFeature.html#p2">00457</a> 
00459    <a class="code" href="classVectorProxy.html">VectorProxy&lt;MC2Point&gt;</a>* m_screenCoords;
<a name="l00460"></a><a class="code" href="classTilePrimitiveFeature.html#p3">00460</a> 
00462    <a class="code" href="classPixelBox.html">PixelBox</a>* m_pixelBox;
<a name="l00463"></a><a class="code" href="classTilePrimitiveFeature.html#p4">00463</a>    
00465    <a class="code" href="Types_8h.html#a22">int32</a> m_type;   
<a name="l00466"></a><a class="code" href="classTilePrimitiveFeature.html#n3">00466</a> 
<a name="l00467"></a><a class="code" href="classTilePrimitiveFeature.html#n4">00467</a>    <span class="comment">// FIXME: Better way to do this.</span>
<a name="l00468"></a><a class="code" href="classTileFeature.html">00468</a>    <span class="keyword">friend</span> <span class="keyword">class </span>TileMapHandler;
00469    <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classTileMap.html">TileMap</a>;   
<a name="l00470"></a><a class="code" href="classTileFeature.html#n0">00470</a> };
00471 
00472 <span class="keyword">class </span><a class="code" href="classTileFeature.html">TileFeature</a> : <span class="keyword">public</span> <a class="code" href="classTilePrimitiveFeature.html">TilePrimitiveFeature</a> {
00473 
<a name="l00474"></a><a class="code" href="classTileFeature.html#n1">00474</a>    <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classTileFeature.html#n0">DummyTileMapFormatDesc</a>;
00475    
<a name="l00476"></a><a class="code" href="classTileFeature.html#n2">00476</a> <span class="keyword">public</span>:
00478    <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classTileMapCreator.html">TileMapCreator</a>;
00480    <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classTileMap.html">TileMap</a>;
00481 
00482    
00488    <a class="code" href="classTileFeature.html#a0">~TileFeature</a>();
00489 
00490    <a class="code" href="classTileFeature.html#a1">TileFeature</a>(<span class="keyword">const</span> <a class="code" href="classTileFeature.html">TileFeature</a>&amp; other);
00491 
00493    <span class="keyword">const</span> <a class="code" href="classTileFeature.html">TileFeature</a>&amp; <a class="code" href="classTileFeature.html#a2">operator=</a>(<span class="keyword">const</span> <a class="code" href="classTileFeature.html">TileFeature</a>&amp; other);
00494 <span class="preprocessor">#ifdef MC2_SYSTEM   </span>
00495 <span class="preprocessor"></span>
00504    <span class="keywordtype">bool</span> <a class="code" href="namespaceTileFeatureScaleRange.html#a3">save</a>( <a class="code" href="classBitBuffer.html">BitBuffer</a>&amp; buf, <span class="keyword">const</span> <a class="code" href="classTileMap.html">TileMap</a>&amp; tileMap,
00505               <span class="keyword">const</span> <a class="code" href="classTileFeature.html">TileFeature</a>* prevFeature ) <span class="keyword">const</span>;
00506    
00507    <span class="keywordtype">void</span> dump( ostream&amp; stream ) <span class="keyword">const</span>; 
00508 
00513    <span class="keywordtype">void</span> clearArguments() 
00514    {
00515       m_args.clear();
00516    }
00517 
00518 <span class="preprocessor">#endif   </span>
00519 <span class="preprocessor"></span>   
<a name="l00520"></a><a class="code" href="classTileFeature.html#n3">00520</a> 
00521         
00522 <span class="keyword">protected</span>:
00523    
00524    <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classvector.html">vector</a>&lt;TileFeature&gt;;
00525    
00529    <a class="code" href="classTileFeature.html#a1">TileFeature</a>( int32 type = MAX_INT32 );
<a name="l00530"></a><a class="code" href="classWritableTileFeature.html">00530</a> 
00531 
00532 };
<a name="l00533"></a><a class="code" href="classWritableTileFeature.html#a0">00533</a> 
00534 <span class="keyword">class </span><a class="code" href="classWritableTileFeature.html">WritableTileFeature</a> : <span class="keyword">public</span> <a class="code" href="classTileFeature.html">TileFeature</a> {
00535 <span class="keyword">public</span>:
00536 
00537    <a class="code" href="classWritableTileFeature.html#a0">WritableTileFeature</a>( <a class="code" href="Types_8h.html#a22">int32</a> type ) : <a class="code" href="classTileFeature.html#a1">TileFeature</a>( type ) {}
00538    
00539    <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classWritableTileFeature.html#a1">setArg</a>( TileArgNames::tileArgName_t name, <a class="code" href="Types_8h.html#a21">uint32</a> value );
00540    <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classWritableTileFeature.html#a1">setArg</a>( TileArgNames::tileArgName_t name, 
00541                        <span class="keyword">const</span> <a class="code" href="classMC2SimpleString.html">MC2SimpleString</a>&amp; str );
00542          
00543    <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classWritableTileFeature.html#a3">setArgs</a>( <span class="keyword">const</span> <a class="code" href="classvector.html">vector&lt;TileFeatureArg*&gt;</a>&amp; args );
00544 
00545 
00546       
00547 <span class="keyword">protected</span>:
00548 };
<a name="l00549"></a><a class="code" href="classTilePrimitiveFeature.html#a2">00549</a>  
00550 <span class="comment">// Implementation of inlined methods</span>
00551 
00552 <span class="keyword">inline</span> <a class="code" href="classTilePrimitiveFeature.html#w1">TilePrimitiveFeature::const_arg_iterator</a> 
00553 <a class="code" href="classTilePrimitiveFeature.html#a2">TilePrimitiveFeature::arg_begin</a>()<span class="keyword"> const</span>
00554 <span class="keyword"></span>{
<a name="l00555"></a><a class="code" href="classTilePrimitiveFeature.html#a3">00555</a>    <span class="keywordflow">return</span> <a class="code" href="classTilePrimitiveFeature.html#p1">m_args</a>.begin();
00556 }
00557 
00558 <span class="keyword">inline</span> TilePrimitiveFeature::const_arg_iterator 
00559 <a class="code" href="classTilePrimitiveFeature.html#a3">TilePrimitiveFeature::arg_end</a>()<span class="keyword"> const</span>
00560 <span class="keyword"></span>{
<a name="l00561"></a><a class="code" href="classTilePrimitiveFeature.html#a4">00561</a>    <span class="keywordflow">return</span> <a class="code" href="classTilePrimitiveFeature.html#p1">m_args</a>.end();
00562 }
00563 
00564 <span class="keyword">inline</span> TilePrimitiveFeature::arg_iterator 
00565 <a class="code" href="classTilePrimitiveFeature.html#a2">TilePrimitiveFeature::arg_begin</a>()
00566 {
<a name="l00567"></a><a class="code" href="classTilePrimitiveFeature.html#a5">00567</a>    <span class="keywordflow">return</span> <a class="code" href="classTilePrimitiveFeature.html#p1">m_args</a>.begin();
00568 }
00569 
00570 <span class="keyword">inline</span> TilePrimitiveFeature::arg_iterator 
00571 <a class="code" href="classTilePrimitiveFeature.html#a3">TilePrimitiveFeature::arg_end</a>()
00572 {
<a name="l00573"></a><a class="code" href="classTilePrimitiveFeature.html#a6">00573</a>    <span class="keywordflow">return</span> <a class="code" href="classTilePrimitiveFeature.html#p1">m_args</a>.end();
00574 }
00575 
00576 <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a21">uint32</a>
00577 <a class="code" href="classTilePrimitiveFeature.html#a6">TilePrimitiveFeature::getNbrArgs</a>()<span class="keyword"> const</span>
00578 <span class="keyword"></span>{
<a name="l00579"></a><a class="code" href="classTilePrimitiveFeature.html#a7">00579</a>    <span class="keywordflow">return</span> <a class="code" href="classTilePrimitiveFeature.html#p1">m_args</a>.size();
00580 }
00581 
00582 <span class="keyword">inline</span> <a class="code" href="Types_8h.html#a22">int32</a>
00583 <a class="code" href="classTilePrimitiveFeature.html#a7">TilePrimitiveFeature::getType</a>()<span class="keyword"> const </span>{ 
<a name="l00584"></a><a class="code" href="classTilePrimitiveFeature.html#b3">00584</a>    <span class="keywordflow">return</span> m_type; 
00585 }
00586 
00587 <span class="keyword">inline</span> <span class="keywordtype">void</span> 
00588 <a class="code" href="classTilePrimitiveFeature.html#b3">TilePrimitiveFeature::addArg</a>(<a class="code" href="classTileFeatureArg.html">TileFeatureArg</a>* arg) 
00589 { 
<a name="l00590"></a><a class="code" href="classTilePrimitiveFeature.html#a10">00590</a>    <a class="code" href="classTilePrimitiveFeature.html#p1">m_args</a>.push_back(arg); 
00591 }
00592 
00593 <span class="keyword">inline</span> <span class="keywordtype">void</span>
00594 <a class="code" href="classTilePrimitiveFeature.html#a10">TilePrimitiveFeature::setFeatureNbr</a>(<span class="keywordtype">int</span> i)
00595 {
<a name="l00596"></a><a class="code" href="classTilePrimitiveFeature.html#a11">00596</a>    <a class="code" href="classTilePrimitiveFeature.html#p0">m_parentFeature</a> = i;
00597 }
00598    
00599 <span class="keyword">inline</span> <span class="keywordtype">int</span>
00600 <a class="code" href="classTilePrimitiveFeature.html#a11">TilePrimitiveFeature::getFeatureNbr</a>()<span class="keyword"> const</span>
00601 <span class="keyword"></span>{
00602    <span class="keywordflow">return</span> m_parentFeature;
<a name="l00603"></a><a class="code" href="classTilePrimitiveFeature.html#a8">00603</a> }
00604 
00605 
00606 <span class="keyword">inline</span> <a class="code" href="classTileFeatureArg.html">TileFeatureArg</a>* 
00607 <a class="code" href="classTilePrimitiveFeature.html#a8">TilePrimitiveFeature::getArg</a>( TileArgNames::tileArgName_t name )
00608 {
00609    <span class="keywordflow">for</span> ( arg_iterator it = <a class="code" href="classTilePrimitiveFeature.html#a2">arg_begin</a>();
00610          it != <a class="code" href="classTilePrimitiveFeature.html#a3">arg_end</a>();
00611          ++it ) {
00612       <span class="keywordflow">if</span> ( (*it)-&gt;getName() == name ) {
00613          <span class="keywordflow">return</span> *it;
00614       }
00615    }
<a name="l00616"></a><a class="code" href="classTilePrimitiveFeature.html#a9">00616</a>    <span class="keywordflow">return</span> NULL;
00617 }
00618 
00619 <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="classTileFeatureArg.html">TileFeatureArg</a>*
00620 <a class="code" href="classTilePrimitiveFeature.html#a8">TilePrimitiveFeature::getArg</a>( TileArgNames::tileArgName_t name )<span class="keyword"> const</span>
00621 <span class="keyword"></span>{
00622    <span class="keywordflow">return</span> const_cast&lt;TilePrimitiveFeature*&gt;(<span class="keyword">this</span>)-&gt;getArg(name);
<a name="l00623"></a><a class="code" href="classTilePrimitiveFeature.html#a12">00623</a> }
00624 
00625 
00626 <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="classVectorProxy.html">VectorProxy&lt;MC2Point&gt;</a>&amp;
00627 <a class="code" href="classTilePrimitiveFeature.html#a12">TilePrimitiveFeature::getScreenCoords</a>()<span class="keyword"> const</span>
00628 <span class="keyword"></span>{
<a name="l00629"></a><a class="code" href="classWritableTileFeature.html#a1">00629</a>    <span class="keywordflow">return</span> *m_screenCoords;
00630 }
00631 
00632 <span class="keyword">inline</span> <span class="keywordtype">bool</span> 
00633 <a class="code" href="classWritableTileFeature.html#a1">WritableTileFeature::setArg</a>( TileArgNames::tileArgName_t name, uint32 value ) 
00634 {
00635    <a class="code" href="classSimpleArg.html">SimpleArg</a>* arg = static_cast&lt;SimpleArg*&gt; ( <a class="code" href="classTilePrimitiveFeature.html#a8">getArg</a>( name ) );
00636    <span class="keywordflow">if</span> ( arg != NULL ) {
00637       arg-&gt;<a class="code" href="classSimpleArg.html#a1">setValue</a>( value ); 
00638       <span class="keywordflow">return</span> <span class="keyword">true</span>;
00639    }
<a name="l00640"></a><a class="code" href="classWritableTileFeature.html#a2">00640</a>    <span class="keywordflow">return</span> <span class="keyword">false</span>;
00641 }
00642          
00643 <span class="keyword">inline</span> <span class="keywordtype">bool</span> 
00644 <a class="code" href="classWritableTileFeature.html#a1">WritableTileFeature::setArg</a>( TileArgNames::tileArgName_t name, 
00645                              <span class="keyword">const</span> <a class="code" href="classMC2SimpleString.html">MC2SimpleString</a>&amp; str ) 
00646 {
00647    <a class="code" href="classStringArg.html">StringArg</a>* arg = static_cast&lt;StringArg*&gt; ( <a class="code" href="classTilePrimitiveFeature.html#a8">getArg</a>( name ) );
00648    <span class="keywordflow">if</span> ( arg != NULL ) {
00649       arg-&gt;<a class="code" href="classStringArg.html#a1">setValue</a>( str ); 
00650       <span class="keywordflow">return</span> <span class="keyword">true</span>;
00651    }
<a name="l00652"></a><a class="code" href="classWritableTileFeature.html#a3">00652</a>    <span class="keywordflow">return</span> <span class="keyword">false</span>;
00653 }
00654          
00655 <span class="keyword">inline</span> <span class="keywordtype">void</span> 
00656 <a class="code" href="classWritableTileFeature.html#a3">WritableTileFeature::setArgs</a>( <span class="keyword">const</span> <a class="code" href="classvector.html">vector&lt;TileFeatureArg*&gt;</a>&amp; args ) 
00657 {
00658    m_args = args;
00659 }
00660 
00661 <span class="preprocessor">#endif // TILE_FEATURE_H</span>
00662 <span class="preprocessor"></span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Wed Jun 30 10:11:51 2010 for mc2 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.3.9.1 </small></address>
</body>
</html>
