<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>mc2: ExpandedRouteItem.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.9.1 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<div class="nav">
<a class="el" href="dir_000002.html">Server</a>&nbsp;/&nbsp;<a class="el" href="dir_000005.html">Shared</a>&nbsp;/&nbsp;<a class="el" href="dir_000013.html">Items</a>&nbsp;/&nbsp;<a class="el" href="dir_000014.html">include</a></div>
<h1>ExpandedRouteItem.h</h1><a href="ExpandedRouteItem_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment">00001 <span class="comment">/*</span>
00002 <span class="comment">Copyright (c) 1999 - 2010, Vodafone Group Services Ltd</span>
00003 <span class="comment">All rights reserved.</span>
00004 <span class="comment"></span>
00005 <span class="comment">Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</span>
00006 <span class="comment"></span>
00007 <span class="comment">    * Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</span>
00008 <span class="comment">    * Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</span>
00009 <span class="comment">    * Neither the name of the Vodafone Group Services Ltd nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.</span>
00010 <span class="comment"></span>
00011 <span class="comment">THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span>
00012 <span class="comment">*/</span>
00013 
00014 <span class="preprocessor">#ifndef EXPANDEDROUTEITEM_H</span>
00015 <span class="preprocessor"></span><span class="preprocessor">#define EXPANDEDROUTEITEM_H</span>
00016 <span class="preprocessor"></span>
00017 <span class="preprocessor">#include "<a class="code" href="config_8h.html">config.h</a>"</span>
00018 <span class="preprocessor">#include "<a class="code" href="ItemTypes_8h.html">ItemTypes.h</a>"</span>
00019 <span class="preprocessor">#include "<a class="code" href="NameCollection_8h.html">NameCollection.h</a>"</span>
00020 <span class="preprocessor">#include "<a class="code" href="MC2BoundingBox_8h.html">MC2BoundingBox.h</a>"</span>
00021 <span class="preprocessor">#include "<a class="code" href="ExpandedRouteRoadItem_8h.html">ExpandedRouteRoadItem.h</a>"</span>
00022 <span class="preprocessor">#include "<a class="code" href="ExpandedRouteLandmarkItem_8h.html">ExpandedRouteLandmarkItem.h</a>"</span>
00023 <span class="preprocessor">#include "<a class="code" href="ExpandStringLane_8h.html">ExpandStringLane.h</a>"</span>
00024 <span class="preprocessor">#include "<a class="code" href="ExpandStringSignPost_8h.html">ExpandStringSignPost.h</a>"</span>
00025 <span class="preprocessor">#include "<a class="code" href="StringTable_8h.html">StringTable.h</a>"</span>
00026 
00027 <span class="preprocessor">#include &lt;list&gt;</span>
00028 
00029 
00030 <span class="keyword">class </span><a class="code" href="classPacket.html">Packet</a>;
00031 
00032 
<a name="l00037"></a><a class="code" href="classExpandedRouteItem.html">00037</a> <span class="keyword">class </span><a class="code" href="classExpandedRouteItem.html">ExpandedRouteItem</a> {
00038    <span class="keyword">public</span>:
<a name="l00042"></a><a class="code" href="classExpandedRouteItem.html#w32">00042</a>       <span class="keyword">enum</span> routeturn_t {
00046          UNDEFINED = 0,
00047 
00048 
00052          NO_TURN,
00053 
00054 
00058          START,
00059 
00060 
00064          START_WITH_U_TURN,
00065 
00066 
00070          FINALLY,
00071 
00072 
00076          LEFT,
00077 
00078 
00082          AHEAD,
00083 
00084 
00088          RIGHT,
00089 
00090 
00094          U_TURN,
00095 
00096 
00100          FOLLOW_ROAD,
00101 
00102 
00106          ENTER_ROUNDABOUT,
00107 
00108 
00112          EXIT_ROUNDABOUT,
00113 
00114 
00118          AHEAD_ROUNDABOUT,
00119 
00120 
00124          RIGHT_ROUNDABOUT,
00125 
00126 
00130          LEFT_ROUNDABOUT,
00131 
00132 
00137          U_TURN_ROUNDABOUT,
00138 
00139 
00143          ON_RAMP,
00144 
00145 
00149          OFF_RAMP_LEFT,
00150 
00151 
00155          OFF_RAMP_RIGHT,
00156 
00157 
00161          OFF_RAMP,
00162 
00163 
00167          ENTER_BUS,
00168 
00169 
00173          EXIT_BUS,
00174 
00175 
00179          CHANGE_BUS,
00180 
00181 
00185          KEEP_RIGHT,
00186 
00187 
00191          KEEP_LEFT,
00192 
00193 
00197          ENTER_FERRY,
00198 
00199 
00203          EXIT_FERRY,
00204 
00205 
00209          CHANGE_FERRY,
00210 
00211 
00215          PARK_AND_WALK,
00216 
00221          STATE_CHANGE,
00222 
00223          
00227          OFF_MAIN, 
00228  
00232          ON_MAIN,
00233          
00234       };
00235 
00236 
00244       <span class="keyword">static</span> routeturn_t routeTurnFromStringCode( StringTable::stringCode
00245                                                   turn );
00246 
00247 
00257       <span class="keyword">static</span> StringTable::stringCode routeTurnToStringCode( 
00258          routeturn_t turn, 
00259          ItemTypes::transportation_t transport );
00260 
00261 
00282       <a class="code" href="classExpandedRouteItem.html">ExpandedRouteItem</a>( routeturn_t turn,
00283                          uint32 dist,
00284                          uint32 time,
00285                          <a class="code" href="classNameCollection.html">NameCollection</a>* intoRoadName,
00286                          ItemTypes::transportation_t transport,
00287                          int32 lat, int32 lon,
00288                          uint32 turnNumber,
00289                          <span class="keyword">const</span> <a class="code" href="classExpandStringLanesCont.html">ExpandStringLanesCont</a>&amp; lanes,
00290                          <span class="keyword">const</span> <a class="code" href="classExpandStringSignPosts.html">ExpandStringSignPosts</a>&amp; signPosts,
00291                          ItemTypes::crossingkind_t crossingKind,
00292                          <span class="keyword">const</span> <a class="code" href="classMC2BoundingBox.html">MC2BoundingBox</a>&amp; turnBoundingbox );
00293 
00297       <a class="code" href="classExpandedRouteItem.html">ExpandedRouteItem</a>( <span class="keyword">const</span> <a class="code" href="classPacket.html">Packet</a>* p, <span class="keywordtype">int</span>&amp; pos );
00298       
00302       <span class="keyword">virtual</span> ~<a class="code" href="classExpandedRouteItem.html">ExpandedRouteItem</a>();
00303 
00304 
00310       <span class="keywordtype">void</span> dump( ostream&amp; out ) <span class="keyword">const</span>;
00311 
00312 
00318       routeturn_t getTurnType() <span class="keyword">const</span>;
00319 
00320 
00326       <a class="code" href="Types_8h.html#a21">uint32</a> getDist() <span class="keyword">const</span>;
00327 
00328 
00334       <a class="code" href="Types_8h.html#a21">uint32</a> <a class="code" href="namespaceISO8601Time.html#a0">getTime</a>() <span class="keyword">const</span>;
00335 
00336 
00342       <span class="keyword">const</span> <a class="code" href="classNameCollection.html">NameCollection</a>* getIntoRoadName() <span class="keyword">const</span>;
00343 
00344 
00350       ItemTypes::transportation_t getTransportation() <span class="keyword">const</span>;
00351 
00352 
00358       <a class="code" href="Types_8h.html#a22">int32</a> getLat() <span class="keyword">const</span>;
00359 
00360 
00366       <a class="code" href="Types_8h.html#a22">int32</a> getLon() <span class="keyword">const</span>;
00367 
00368 
00374       <a class="code" href="Types_8h.html#a21">uint32</a> getTurnNumber() <span class="keyword">const</span>;
00375 
00376 
00382       ItemTypes::crossingkind_t getCrossingType() <span class="keyword">const</span>;
00383 
00384 
00390       <span class="keyword">const</span> <a class="code" href="classMC2BoundingBox.html">MC2BoundingBox</a>&amp; getTurnBoundingbox() <span class="keyword">const</span>;
00391 
00392 
00398       <span class="keywordtype">void</span> setTurnType( routeturn_t turn );
00399 
00400 
00406       <span class="keywordtype">void</span> setDist( uint32 dist );
00407 
00408 
00414       <span class="keywordtype">void</span> setTime( uint32 time );
00415 
00416 
00422       <span class="keywordtype">void</span> setIntoRoadName( <a class="code" href="classNameCollection.html">NameCollection</a>* name );
00423 
00424 
00430       <span class="keywordtype">void</span> setTransportation( ItemTypes::transportation_t transport );
00431 
00432 
00438       <span class="keywordtype">void</span> setLat( int32 lat );
00439 
00440 
00446       <span class="keywordtype">void</span> setLon( int32 lon );
00447 
00448 
00455       <span class="keywordtype">void</span> setTurnNumber( uint32 turnNumber );
00456 
00457 
00463       <span class="keywordtype">void</span> setCrossingType( ItemTypes::crossingkind_t crossingKind );
00464 
00465 
00471       <span class="keywordtype">void</span> setTurnBoundingbox( <span class="keyword">const</span> <a class="code" href="classMC2BoundingBox.html">MC2BoundingBox</a>&amp; turnBoundingbox );
00472 
00473 
00484          <a class="code" href="Types_8h.html#a21">uint32</a> getNbrExpandedRouteRoadItems() <span class="keyword">const</span>;
00485 
00486 
00495          <span class="keyword">const</span> <a class="code" href="classExpandedRouteRoadItem.html">ExpandedRouteRoadItem</a>* getExpandedRouteRoadItem( 
00496             uint32 index ) <span class="keyword">const</span>;
00497 
00498 
00505          <span class="keywordtype">void</span> addExpandedRouteRoadItem( <a class="code" href="classExpandedRouteRoadItem.html">ExpandedRouteRoadItem</a>* item );
00507 
00508 
00519          <a class="code" href="Types_8h.html#a21">uint32</a> getNbrExpandedRouteLandmarkItems() <span class="keyword">const</span>;
00520 
00521 
00530          <span class="keyword">const</span> <a class="code" href="classExpandedRouteLandmarkItem.html">ExpandedRouteLandmarkItem</a>* getExpandedRouteLandmarkItem( 
00531             uint32 index ) <span class="keyword">const</span>;
00532 
00533 
00540          <span class="keywordtype">void</span> addExpandedRouteLandmarkItem( 
00541             <a class="code" href="classExpandedRouteLandmarkItem.html">ExpandedRouteLandmarkItem</a>* item );
00543 
00547       <span class="keyword">const</span> <a class="code" href="classExpandStringLanesCont.html">ExpandStringLanesCont</a>&amp; getLanes() <span class="keyword">const</span>;
00548          
00552       <span class="keyword">const</span> <a class="code" href="classExpandStringSignPosts.html">ExpandStringSignPosts</a>&amp; getSignPosts() <span class="keyword">const</span>;
00553          
00558       <span class="keywordtype">bool</span> addPossibleTurn(routeturn_t possTurn);
00559       
00563       <a class="code" href="Types_8h.html#a21">uint32</a> getNbrPossibleTurns() <span class="keyword">const</span>;
00564 
00571       routeturn_t getPossibleTurn(uint32 index) <span class="keyword">const</span>;
00572 
<a name="l00573"></a><a class="code" href="classExpandedRouteItem.html#a29">00573</a>       <span class="keywordtype">void</span> setEndOfRoad(<span class="keywordtype">bool</span> isEndOfRoad)
00574          { m_isEndOfRoad = isEndOfRoad;}
00575 
<a name="l00576"></a><a class="code" href="classExpandedRouteItem.html#a30">00576</a>       <span class="keywordtype">bool</span> isEndOfRoad()<span class="keyword"> const</span>
00577 <span class="keyword">         </span>{ <span class="keywordflow">return</span> m_isEndOfRoad;}
00578          
00585       <a class="code" href="Types_8h.html#a21">uint32</a> <a class="code" href="namespaceTileFeatureScaleRange.html#a3">save</a>( <a class="code" href="classPacket.html">Packet</a>* p, <span class="keywordtype">int</span>&amp; pos ) <span class="keyword">const</span>;
00586 
00592       <a class="code" href="Types_8h.html#a21">uint32</a> getSizeAsBytes() <span class="keyword">const</span>;
00593 
00601       <span class="keywordtype">void</span> <a class="code" href="namespaceTileFeatureScaleRange.html#a4">load</a>( <span class="keyword">const</span> <a class="code" href="classPacket.html">Packet</a>* p, <span class="keywordtype">int</span>&amp; pos );
00602 
00603 
00604    <span class="keyword">private</span>:
<a name="l00608"></a><a class="code" href="classExpandedRouteItem.html#r0">00608</a>       routeturn_t m_turn;
00609 
<a name="l00613"></a><a class="code" href="classExpandedRouteItem.html#r1">00613</a>       routeturn_t m_possTurns[7];
00614 
<a name="l00618"></a><a class="code" href="classExpandedRouteItem.html#r2">00618</a>       <a class="code" href="Types_8h.html#a21">uint32</a> m_nbrPossTurns;
00619       
<a name="l00623"></a><a class="code" href="classExpandedRouteItem.html#r3">00623</a>       <a class="code" href="Types_8h.html#a21">uint32</a> m_dist;
00624 
00625 
<a name="l00629"></a><a class="code" href="classExpandedRouteItem.html#r4">00629</a>       <a class="code" href="Types_8h.html#a21">uint32</a> m_time;
00630 
00631 
<a name="l00635"></a><a class="code" href="classExpandedRouteItem.html#r5">00635</a>       <a class="code" href="classNameCollection.html">NameCollection</a>* m_intoRoadName;
00636 
00637 
<a name="l00641"></a><a class="code" href="classExpandedRouteItem.html#r6">00641</a>       ItemTypes::transportation_t m_transport;
00642 
00643 
<a name="l00647"></a><a class="code" href="classExpandedRouteItem.html#r7">00647</a>       <a class="code" href="Types_8h.html#a22">int32</a> m_lat;
00648 
00649 
<a name="l00653"></a><a class="code" href="classExpandedRouteItem.html#r8">00653</a>       <a class="code" href="Types_8h.html#a22">int32</a> m_lon;
00654 
00655 
<a name="l00659"></a><a class="code" href="classExpandedRouteItem.html#r9">00659</a>       <a class="code" href="Types_8h.html#a21">uint32</a> m_turnNumber;
00660 
00661       
<a name="l00665"></a><a class="code" href="classExpandedRouteItem.html#r10">00665</a>       <span class="keywordtype">bool</span> m_isEndOfRoad;
00666 
00667 
<a name="l00671"></a><a class="code" href="classExpandedRouteItem.html#r11">00671</a>       ItemTypes::crossingkind_t m_crossingKind;
00672 
00673 
<a name="l00677"></a><a class="code" href="classExpandedRouteItem.html#r12">00677</a>       <a class="code" href="classMC2BoundingBox.html">MC2BoundingBox</a> m_turnBoundingbox;
00678 
00679 
<a name="l00683"></a><a class="code" href="classExpandedRouteItem.html#r13">00683</a>       <a class="code" href="classExpandedRouteRoadVector.html">ExpandedRouteRoadVector</a> m_roadItems;
00684 
00685 
<a name="l00689"></a><a class="code" href="classExpandedRouteItem.html#r14">00689</a>       <a class="code" href="classExpandedRouteLandmarkVector.html">ExpandedRouteLandmarkVector</a> m_landmarkItems;
00690 
<a name="l00694"></a><a class="code" href="classExpandedRouteItem.html#r15">00694</a>       <a class="code" href="classExpandStringLanesCont.html">ExpandStringLanesCont</a> m_lanes;
00695 
<a name="l00699"></a><a class="code" href="classExpandedRouteItem.html#r16">00699</a>       <a class="code" href="classExpandStringSignPosts.html">ExpandStringSignPosts</a> m_signPosts;
00700 };
00701 
00702 
00703 
<a name="l00707"></a><a class="code" href="classExpandedRouteItemsList.html">00707</a> <span class="keyword">class </span><a class="code" href="classExpandedRouteItemsList.html">ExpandedRouteItemsList</a> : <span class="keyword">public</span> list&lt;ExpandedRouteItem*&gt; {
00708    <span class="keyword">public</span>:
00713       <a class="code" href="classExpandedRouteItemsList.html#a0">~ExpandedRouteItemsList</a>();
00714 
00722       <span class="keywordtype">void</span> <a class="code" href="classExpandedRouteItemsList.html#a1">store</a>( <a class="code" href="classPacket.html">Packet</a>* packet, <span class="keywordtype">int</span>&amp; pos ) <span class="keyword">const</span>;
00723 
00731       <span class="keywordtype">void</span> <a class="code" href="classExpandedRouteItemsList.html#a2">restore</a>( <span class="keyword">const</span> <a class="code" href="classPacket.html">Packet</a>* packet, <span class="keywordtype">int</span>&amp; pos );
00732 
00737       <span class="keywordtype">void</span> <a class="code" href="classExpandedRouteItemsList.html#a3">addExpandedRouteItem</a>( <a class="code" href="classExpandedRouteItem.html">ExpandedRouteItem</a>* elm );
00738 
00739    <span class="keyword">private</span>:
00744       <a class="code" href="Types_8h.html#a21">uint32</a> <a class="code" href="classExpandedRouteItemsList.html#d0">getSizeAsBytes</a>() <span class="keyword">const</span>;
00745 
00746 };
00747 
00748 
00749 <span class="comment">// =======================================================================</span>
00750 <span class="comment">//                                     Implementation of inlined methods =</span>
00751 
00752 
00753 <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="classExpandStringLanesCont.html">ExpandStringLanesCont</a>&amp;
<a name="l00754"></a><a class="code" href="classExpandedRouteItem.html#a24">00754</a> <a class="code" href="classExpandedRouteItem.html#a24">ExpandedRouteItem::getLanes</a>()<span class="keyword"> const </span>{
00755    <span class="keywordflow">return</span> m_lanes;
00756 }
00757  
00758 <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="classExpandStringSignPosts.html">ExpandStringSignPosts</a>&amp;
<a name="l00759"></a><a class="code" href="classExpandedRouteItem.html#a25">00759</a> <a class="code" href="classExpandedRouteItem.html#a25">ExpandedRouteItem::getSignPosts</a>()<span class="keyword"> const </span>{
00760    <span class="keywordflow">return</span> m_signPosts;
00761 }
00762  
00763 
00764 <span class="preprocessor">#endif // ExpandedRouteItem_H</span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Wed Jun 30 10:11:46 2010 for mc2 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.3.9.1 </small></address>
</body>
</html>
