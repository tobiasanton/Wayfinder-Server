<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>mc2: DatexIIStructs.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.9.1 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<div class="nav">
<a class="el" href="dir_000002.html">Server</a>&nbsp;/&nbsp;<a class="el" href="dir_000003.html">Servers</a>&nbsp;/&nbsp;<a class="el" href="dir_000039.html">TrafficServer</a>&nbsp;/&nbsp;<a class="el" href="dir_000040.html">include</a></div>
<h1>DatexIIStructs.h</h1><a href="DatexIIStructs_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment">00001 <span class="comment">/*</span>
00002 <span class="comment">Copyright (c) 1999 - 2010, Vodafone Group Services Ltd</span>
00003 <span class="comment">All rights reserved.</span>
00004 <span class="comment"></span>
00005 <span class="comment">Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</span>
00006 <span class="comment"></span>
00007 <span class="comment">    * Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</span>
00008 <span class="comment">    * Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</span>
00009 <span class="comment">    * Neither the name of the Vodafone Group Services Ltd nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.</span>
00010 <span class="comment"></span>
00011 <span class="comment">THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span>
00012 <span class="comment">*/</span>
00013 
00014 <span class="preprocessor">#ifndef DATEXIISTRUCTS_H</span>
00015 <span class="preprocessor"></span><span class="preprocessor">#define DATEXIISTRUCTS_H</span>
00016 <span class="preprocessor"></span>
00017 <span class="preprocessor">#include "<a class="code" href="config_8h.html">config.h</a>"</span>
00018 <span class="preprocessor">#include "<a class="code" href="MC2String_8h.html">MC2String.h</a>"</span>
00019 
00020 <span class="preprocessor">#include "<a class="code" href="XPathAssigner_8h.html">XPathAssigner.h</a>"</span>
00021 <span class="preprocessor">#include "<a class="code" href="WGS84Coordinate_8h.html">WGS84Coordinate.h</a>"</span>
00022 <span class="preprocessor">#include "<a class="code" href="DeleteHelpers_8h.html">DeleteHelpers.h</a>"</span>
00023 
00024 <span class="preprocessor">#include &lt;memory&gt;</span>
00025 <span class="preprocessor">#include &lt;vector&gt;</span>
00026 
00027 
00028 
00029 <span class="keyword">class </span><a class="code" href="classTrafficSituation.html">TrafficSituation</a>;
00030 
<a name="l00031"></a><a class="code" href="namespaceDatexIIStructs.html">00031</a> <span class="keyword">namespace </span>DatexIIStructs {
00032 
<a name="l00033"></a><a class="code" href="namespaceDatexIIStructs.html#a0">00033</a> <span class="keyword">typedef</span> <a class="code" href="classPath_1_1NodeEvaluator.html">XMLTool::XPath::MultiExpression::NodeEvaluator</a> <a class="code" href="classPath_1_1NodeEvaluator.html">Evaluator</a>; 
00034 
00035 <span class="keyword">using</span> <span class="keyword">namespace </span>XMLTool;
00036 <span class="keyword">using</span> <span class="keyword">namespace </span>XPath;
00037 
<a name="l00039"></a><a class="code" href="structDatexIIStructs_1_1AlertCLocationValues.html">00039</a> <span class="keyword">struct </span><a class="code" href="structDatexIIStructs_1_1AlertCLocationValues.html">AlertCLocationValues</a> {
<a name="l00040"></a><a class="code" href="structDatexIIStructs_1_1AlertCLocationValues.html#a0">00040</a>    <span class="keywordtype">bool</span> getTMCLocations(<a class="code" href="classMC2String.html">MC2String</a>&amp; firstLocationCode, 
00041                         <a class="code" href="classMC2String.html">MC2String</a>&amp; secondLocationCode )<span class="keyword"> const </span>{
00042       <span class="comment">// check if there is a tmc location at all for this situation</span>
00043       <span class="keywordflow">if</span> ( !m_specificLocation1.empty() ) {
00044          <span class="comment">// Setting the country code to E instead of 14 as they send it</span>
00045          <span class="comment">// from v√§gverket..</span>
00046          <span class="comment">// Waiting for a answer from the supplier which wasnt sure if it was</span>
00047          <span class="comment">// supposed to be 14 or E.</span>
00048          m_alertCLocCountryCode = <span class="stringliteral">"E"</span>;
00049          <span class="comment">// create the TMC id for the first and second location</span>
00050          ostringstream firstLocation, secondLocation;
00051          firstLocation &lt;&lt; m_alertCLocCountryCode &lt;&lt; m_alertCLocTableNbr &lt;&lt; setw(5) 
00052             &lt;&lt; setfill(<span class="charliteral">'0'</span>) &lt;&lt; m_specificLocation1;
00053          firstLocationCode = firstLocation.str();
00054          <span class="comment">// Get the second location if there is one</span>
00055          <span class="keywordflow">if</span> ( !m_specificLocation2.empty() ) {
00056             secondLocation &lt;&lt; m_alertCLocCountryCode &lt;&lt; m_alertCLocTableNbr 
00057                &lt;&lt; setw(5) &lt;&lt; setfill(<span class="charliteral">'0'</span>) &lt;&lt; m_specificLocation2;
00058             secondLocationCode = secondLocation.str();
00059          }
00060          <span class="keywordflow">return</span> <span class="keyword">true</span>;
00061       } <span class="keywordflow">else</span> {
00062          <span class="keywordflow">return</span> <span class="keyword">false</span>;
00063       }
00064    }
00065 
<a name="l00066"></a><a class="code" href="structDatexIIStructs_1_1AlertCLocationValues.html#o0">00066</a>    <span class="keyword">mutable</span> <a class="code" href="classMC2String.html">MC2String</a> m_alertCLocCountryCode; <span class="comment">// for the TMC coord first part </span>
<a name="l00067"></a><a class="code" href="structDatexIIStructs_1_1AlertCLocationValues.html#o1">00067</a>    <a class="code" href="classMC2String.html">MC2String</a> m_alertCLocTableNbr;    <span class="comment">// for the TMC coord first part</span>
<a name="l00068"></a><a class="code" href="structDatexIIStructs_1_1AlertCLocationValues.html#o2">00068</a>    <a class="code" href="classMC2String.html">MC2String</a> m_alertCLocTableVersion;<span class="comment">// tmcVersion </span>
<a name="l00069"></a><a class="code" href="structDatexIIStructs_1_1AlertCLocationValues.html#o3">00069</a>    <a class="code" href="classMC2String.html">MC2String</a> m_alertCDirectionCoded; <span class="comment">// direction</span>
<a name="l00070"></a><a class="code" href="structDatexIIStructs_1_1AlertCLocationValues.html#o4">00070</a>    <a class="code" href="classMC2String.html">MC2String</a> m_specificLocation1;    <span class="comment">// for the TMC coord first location</span>
<a name="l00071"></a><a class="code" href="structDatexIIStructs_1_1AlertCLocationValues.html#o5">00071</a>    <a class="code" href="classMC2String.html">MC2String</a> m_specificLocation2;    <span class="comment">// for the TMC coord second location</span>
00072 };
00073 
<a name="l00078"></a><a class="code" href="structDatexIIStructs_1_1SituationValues.html">00078</a> <span class="keyword">struct </span><a class="code" href="structDatexIIStructs_1_1SituationValues.html">SituationValues</a> {
<a name="l00079"></a><a class="code" href="structDatexIIStructs_1_1SituationValues.html#o0">00079</a>    <a class="code" href="classMC2String.html">MC2String</a> m_type;
<a name="l00080"></a><a class="code" href="structDatexIIStructs_1_1SituationValues.html#o1">00080</a>    <a class="code" href="classMC2String.html">MC2String</a> m_sitRecID;
<a name="l00081"></a><a class="code" href="structDatexIIStructs_1_1SituationValues.html#o2">00081</a>    <a class="code" href="classMC2String.html">MC2String</a> m_status;
<a name="l00082"></a><a class="code" href="structDatexIIStructs_1_1SituationValues.html#o3">00082</a>    <a class="code" href="classMC2String.html">MC2String</a> m_sitRecCreationTime; 
<a name="l00083"></a><a class="code" href="structDatexIIStructs_1_1SituationValues.html#o4">00083</a>    <a class="code" href="classMC2String.html">MC2String</a> m_sitRecVersion;
<a name="l00084"></a><a class="code" href="structDatexIIStructs_1_1SituationValues.html#o5">00084</a>    <a class="code" href="classMC2String.html">MC2String</a> m_overallStartTime; 
<a name="l00085"></a><a class="code" href="structDatexIIStructs_1_1SituationValues.html#o6">00085</a>    <a class="code" href="classMC2String.html">MC2String</a> m_overallEndTime;
<a name="l00086"></a><a class="code" href="structDatexIIStructs_1_1SituationValues.html#o7">00086</a>    <a class="code" href="classMC2String.html">MC2String</a> m_commentSE;
<a name="l00087"></a><a class="code" href="structDatexIIStructs_1_1SituationValues.html#o8">00087</a>    <a class="code" href="classMC2String.html">MC2String</a> m_commentEN;
<a name="l00088"></a><a class="code" href="structDatexIIStructs_1_1SituationValues.html#o9">00088</a>    <a class="code" href="structDatexIIStructs_1_1AlertCLocationValues.html">AlertCLocationValues</a> m_location; 
<a name="l00089"></a><a class="code" href="structDatexIIStructs_1_1SituationValues.html#o10">00089</a>    <a class="code" href="structWGS84Coordinate.html">WGS84Coordinate</a> m_coord;
00090    <span class="comment">// SRA extensions</span>
<a name="l00091"></a><a class="code" href="structDatexIIStructs_1_1SituationValues.html#o11">00091</a>    <a class="code" href="classMC2String.html">MC2String</a> m_headerExtension;
00092 
<a name="l00093"></a><a class="code" href="structDatexIIStructs_1_1SituationValues.html#a0">00093</a>    <span class="keyword">virtual</span> ~<a class="code" href="structDatexIIStructs_1_1SituationValues.html">SituationValues</a>() {
00094    }
00095 };
00096 
<a name="l00098"></a><a class="code" href="namespaceDatexIIStructs.html#a1">00098</a> <span class="keyword">typedef</span> std::vector&lt; SituationValues* &gt; SitValsCont;
00099 
00100 auto_ptr&lt; TrafficSituation &gt; 
00101 <a class="code" href="namespaceDatexIIStructs.html#a2">createTrafficSit</a>( <span class="keyword">const</span> <a class="code" href="classMC2String.html">MC2String</a>&amp; provider,
00102                   <span class="keyword">const</span> SitValsCont&amp; sre,
00103                   <span class="keyword">const</span> <a class="code" href="classMC2String.html">MC2String</a>&amp; sitID );
00104 
<a name="l00106"></a><a class="code" href="structDatexIIStructs_1_1MaintenanceWorksValues.html">00106</a> <span class="keyword">struct </span><a class="code" href="structDatexIIStructs_1_1MaintenanceWorksValues.html">MaintenanceWorksValues</a> : <span class="keyword">public</span> <a class="code" href="structDatexIIStructs_1_1SituationValues.html">SituationValues</a> {
<a name="l00107"></a><a class="code" href="structDatexIIStructs_1_1MaintenanceWorksValues.html#o0">00107</a>    <a class="code" href="classMC2String.html">MC2String</a> m_effectOnRoadLayout;
<a name="l00108"></a><a class="code" href="structDatexIIStructs_1_1MaintenanceWorksValues.html#o1">00108</a>    <a class="code" href="classMC2String.html">MC2String</a> m_roadMaintenanceType;
00109 };
00110 
<a name="l00112"></a><a class="code" href="structDatexIIStructs_1_1NetworkManagementValues.html">00112</a> <span class="keyword">struct </span><a class="code" href="structDatexIIStructs_1_1NetworkManagementValues.html">NetworkManagementValues</a> : <span class="keyword">public</span> <a class="code" href="structDatexIIStructs_1_1SituationValues.html">SituationValues</a> {
<a name="l00113"></a><a class="code" href="structDatexIIStructs_1_1NetworkManagementValues.html#o0">00113</a>    <a class="code" href="classMC2String.html">MC2String</a> m_networkManagementType;
<a name="l00114"></a><a class="code" href="structDatexIIStructs_1_1NetworkManagementValues.html#o1">00114</a>    <a class="code" href="classMC2String.html">MC2String</a> m_temporarySpeedLimit;
<a name="l00115"></a><a class="code" href="structDatexIIStructs_1_1NetworkManagementValues.html#o2">00115</a>    <a class="code" href="classMC2String.html">MC2String</a> m_heigthComparisonType;
<a name="l00116"></a><a class="code" href="structDatexIIStructs_1_1NetworkManagementValues.html#o3">00116</a>    <a class="code" href="classMC2String.html">MC2String</a> m_vehicleHeight;
<a name="l00117"></a><a class="code" href="structDatexIIStructs_1_1NetworkManagementValues.html#o4">00117</a>    <a class="code" href="classMC2String.html">MC2String</a> m_widthComparisonType;
<a name="l00118"></a><a class="code" href="structDatexIIStructs_1_1NetworkManagementValues.html#o5">00118</a>    <a class="code" href="classMC2String.html">MC2String</a> m_vehicleWidth;
00119 };
00120 
<a name="l00122"></a><a class="code" href="structDatexIIStructs_1_1AccidentValues.html">00122</a> <span class="keyword">struct </span><a class="code" href="structDatexIIStructs_1_1AccidentValues.html">AccidentValues</a> : <span class="keyword">public</span> <a class="code" href="structDatexIIStructs_1_1SituationValues.html">SituationValues</a> {
<a name="l00123"></a><a class="code" href="structDatexIIStructs_1_1AccidentValues.html#o0">00123</a>    <a class="code" href="classMC2String.html">MC2String</a> m_accidentType;        <span class="comment">// type of accident</span>
00124 };
00125 
<a name="l00127"></a><a class="code" href="structDatexIIStructs_1_1AbnormalTrafficValues.html">00127</a> <span class="keyword">struct </span><a class="code" href="structDatexIIStructs_1_1AbnormalTrafficValues.html">AbnormalTrafficValues</a> : <span class="keyword">public</span> <a class="code" href="structDatexIIStructs_1_1SituationValues.html">SituationValues</a> {
<a name="l00128"></a><a class="code" href="structDatexIIStructs_1_1AbnormalTrafficValues.html#o0">00128</a>    <a class="code" href="classMC2String.html">MC2String</a> m_abnormalTrafficType;
<a name="l00129"></a><a class="code" href="structDatexIIStructs_1_1AbnormalTrafficValues.html#o1">00129</a>    <a class="code" href="classMC2String.html">MC2String</a> m_trafficTrend;
00130 };
00131 
<a name="l00133"></a><a class="code" href="structDatexIIStructs_1_1ConstructionWorksValues.html">00133</a> <span class="keyword">struct </span><a class="code" href="structDatexIIStructs_1_1ConstructionWorksValues.html">ConstructionWorksValues</a> : <span class="keyword">public</span> <a class="code" href="structDatexIIStructs_1_1SituationValues.html">SituationValues</a> {
<a name="l00134"></a><a class="code" href="structDatexIIStructs_1_1ConstructionWorksValues.html#o0">00134</a>    <a class="code" href="classMC2String.html">MC2String</a> m_effectOnRoadLayout;
<a name="l00135"></a><a class="code" href="structDatexIIStructs_1_1ConstructionWorksValues.html#o1">00135</a>    <a class="code" href="classMC2String.html">MC2String</a> m_constructionWorkType;
00136 };
00137 
<a name="l00139"></a><a class="code" href="structDatexIIStructs_1_1ActivitiesValues.html">00139</a> <span class="keyword">struct </span><a class="code" href="structDatexIIStructs_1_1ActivitiesValues.html">ActivitiesValues</a> : <span class="keyword">public</span> <a class="code" href="structDatexIIStructs_1_1SituationValues.html">SituationValues</a> {
<a name="l00140"></a><a class="code" href="structDatexIIStructs_1_1ActivitiesValues.html#o0">00140</a>    <a class="code" href="classMC2String.html">MC2String</a> m_disturbanceActivityType;
<a name="l00141"></a><a class="code" href="structDatexIIStructs_1_1ActivitiesValues.html#o1">00141</a>    <a class="code" href="classMC2String.html">MC2String</a> m_publicEventType;
00142 };
00143 
<a name="l00145"></a><a class="code" href="structDatexIIStructs_1_1AnimalPresenceObstructionValues.html">00145</a> <span class="keyword">struct </span><a class="code" href="structDatexIIStructs_1_1AnimalPresenceObstructionValues.html">AnimalPresenceObstructionValues</a> : <span class="keyword">public</span> <a class="code" href="structDatexIIStructs_1_1SituationValues.html">SituationValues</a> {
<a name="l00146"></a><a class="code" href="structDatexIIStructs_1_1AnimalPresenceObstructionValues.html#o0">00146</a>    <a class="code" href="classMC2String.html">MC2String</a> m_animalPresenceType;
00147 };
00148 
<a name="l00150"></a><a class="code" href="structDatexIIStructs_1_1GeneralObstructionValues.html">00150</a> <span class="keyword">struct </span><a class="code" href="structDatexIIStructs_1_1GeneralObstructionValues.html">GeneralObstructionValues</a> : <span class="keyword">public</span> <a class="code" href="structDatexIIStructs_1_1SituationValues.html">SituationValues</a> {
<a name="l00151"></a><a class="code" href="structDatexIIStructs_1_1GeneralObstructionValues.html#o0">00151</a>    <a class="code" href="classMC2String.html">MC2String</a> m_obstructionType;
00152 };
00153 
<a name="l00155"></a><a class="code" href="structDatexIIStructs_1_1NonWeatherRelatedRoadConditionsValues.html">00155</a> <span class="keyword">struct </span><a class="code" href="structDatexIIStructs_1_1NonWeatherRelatedRoadConditionsValues.html">NonWeatherRelatedRoadConditionsValues</a> : <span class="keyword">public</span> <a class="code" href="structDatexIIStructs_1_1SituationValues.html">SituationValues</a> {
<a name="l00156"></a><a class="code" href="structDatexIIStructs_1_1NonWeatherRelatedRoadConditionsValues.html#o0">00156</a>    <a class="code" href="classMC2String.html">MC2String</a> m_nonWeatherRelatedConditionType;
00157 };
00158 
<a name="l00160"></a><a class="code" href="structDatexIIStructs_1_1VehicleObstructionValues.html">00160</a> <span class="keyword">struct </span><a class="code" href="structDatexIIStructs_1_1VehicleObstructionValues.html">VehicleObstructionValues</a> : <span class="keyword">public</span> <a class="code" href="structDatexIIStructs_1_1SituationValues.html">SituationValues</a> {
<a name="l00161"></a><a class="code" href="structDatexIIStructs_1_1VehicleObstructionValues.html#o0">00161</a>    <a class="code" href="classMC2String.html">MC2String</a> m_vehicleObstructionType;
00162 };
00163 
<a name="l00167"></a><a class="code" href="classDatexIIStructs_1_1AlertCMethod2Expression.html">00167</a> <span class="keyword">class </span><a class="code" href="classDatexIIStructs_1_1AlertCMethod2Expression.html">AlertCMethod2Expression</a> : <span class="keyword">public</span> <a class="code" href="namespaceDatexIIStructs.html#a0">Evaluator</a> {
00168 <span class="keyword">public</span>:
<a name="l00169"></a><a class="code" href="classDatexIIStructs_1_1AlertCMethod2Expression.html#a0">00169</a>    <span class="keyword">explicit</span> <a class="code" href="classDatexIIStructs_1_1AlertCMethod2Expression.html">AlertCMethod2Expression</a>( <a class="code" href="structDatexIIStructs_1_1AlertCLocationValues.html">AlertCLocationValues</a>&amp; alertCVals ) :
00170       m_alertCLocExp( NULL ),
00171       m_alertCLocValues( alertCVals ) {
00172          MultiExpression::NodeDescription desc[] = {
00173             { <span class="stringliteral">"alertCLocationCountryCode"</span>,
00174                <a class="code" href="namespaceXMLTool_1_1XPath.html#a2">makeAssigner</a>( m_alertCLocValues.m_alertCLocCountryCode ) },
00175             { <span class="stringliteral">"alertCLocationTableNumber"</span>,
00176                <a class="code" href="namespaceXMLTool_1_1XPath.html#a2">makeAssigner</a>( m_alertCLocValues.m_alertCLocTableNbr ) },
00177             { <span class="stringliteral">"alertCLocationTableVersion"</span>,
00178                <a class="code" href="namespaceXMLTool_1_1XPath.html#a2">makeAssigner</a>( m_alertCLocValues.m_alertCLocTableVersion ) },
00179             { <span class="stringliteral">"alertCDirection/alertCDirectionCoded"</span>,
00180                <a class="code" href="namespaceXMLTool_1_1XPath.html#a2">makeAssigner</a>( m_alertCLocValues.m_alertCDirectionCoded ) },
00181             { <span class="stringliteral">"alertCMethod2PrimaryPointLocation/alertCLocation/specificLocation"</span>,
00182                <a class="code" href="namespaceXMLTool_1_1XPath.html#a2">makeAssigner</a>( m_alertCLocValues.m_specificLocation1 ) },
00183             { <span class="stringliteral">"alertCMethod2SecondaryPointLocation/alertCLocation/specificLocation"</span>,
00184                <a class="code" href="namespaceXMLTool_1_1XPath.html#a2">makeAssigner</a>( m_alertCLocValues.m_specificLocation2 ) }
00185          };
00186 
00187          <a class="code" href="Types_8h.html#a21">uint32</a> descSize = <span class="keyword">sizeof</span>( desc ) / <span class="keyword">sizeof</span>( desc[ 0 ] );
00188          m_alertCLocExp = <span class="keyword">new</span> MultiExpression( MultiExpression::
00189                Description( desc, desc + descSize ) );
00190       };
00191 
<a name="l00192"></a><a class="code" href="classDatexIIStructs_1_1AlertCMethod2Expression.html#a1">00192</a>    ~<a class="code" href="classDatexIIStructs_1_1AlertCMethod2Expression.html">AlertCMethod2Expression</a>() {
00193       <span class="keyword">delete</span> m_alertCLocExp;
00194    }
00195 
<a name="l00196"></a><a class="code" href="classDatexIIStructs_1_1AlertCMethod2Expression.html#a2">00196</a>    <span class="keywordtype">void</span> operator() ( <span class="keyword">const</span> <a class="code" href="classDOMNode.html">DOMNode</a>* node ) {
00197       m_alertCLocExp-&gt;evaluate( node );
00198    }
00199 
00200 <span class="keyword">private</span>:
<a name="l00201"></a><a class="code" href="classDatexIIStructs_1_1AlertCMethod2Expression.html#r0">00201</a>    MultiExpression* m_alertCLocExp;
<a name="l00202"></a><a class="code" href="classDatexIIStructs_1_1AlertCMethod2Expression.html#r1">00202</a>    <a class="code" href="structDatexIIStructs_1_1AlertCLocationValues.html">AlertCLocationValues</a>&amp; m_alertCLocValues;
00203 };
00204 
<a name="l00208"></a><a class="code" href="classDatexIIStructs_1_1AlertCMethod4Expression.html">00208</a> <span class="keyword">class </span><a class="code" href="classDatexIIStructs_1_1AlertCMethod4Expression.html">AlertCMethod4Expression</a> : <span class="keyword">public</span> <a class="code" href="namespaceDatexIIStructs.html#a0">Evaluator</a> {
00209 <span class="keyword">public</span>:
<a name="l00210"></a><a class="code" href="classDatexIIStructs_1_1AlertCMethod4Expression.html#a0">00210</a>    <span class="keyword">explicit</span> <a class="code" href="classDatexIIStructs_1_1AlertCMethod4Expression.html">AlertCMethod4Expression</a>( <a class="code" href="structDatexIIStructs_1_1AlertCLocationValues.html">AlertCLocationValues</a>&amp; alertCVals ) :
00211       m_alertCLocExp( NULL ),
00212       m_alertCLocValues( alertCVals ) {
00213          MultiExpression::NodeDescription desc[] = {
00214             { <span class="stringliteral">"alertCLocationCountryCode"</span>,
00215                <a class="code" href="namespaceXMLTool_1_1XPath.html#a2">makeAssigner</a>( m_alertCLocValues.m_alertCLocCountryCode ) },
00216             { <span class="stringliteral">"alertCLocationTableNumber"</span>,
00217                <a class="code" href="namespaceXMLTool_1_1XPath.html#a2">makeAssigner</a>( m_alertCLocValues.m_alertCLocTableNbr ) },
00218             { <span class="stringliteral">"alertCLocationTableVersion"</span>,
00219                <a class="code" href="namespaceXMLTool_1_1XPath.html#a2">makeAssigner</a>( m_alertCLocValues.m_alertCLocTableVersion ) },
00220             { <span class="stringliteral">"alertCDirection/alertCDirectionCoded"</span>,
00221                <a class="code" href="namespaceXMLTool_1_1XPath.html#a2">makeAssigner</a>( m_alertCLocValues.m_alertCDirectionCoded ) },
00222             { <span class="stringliteral">"alertCMethod4PrimaryPointLocation/alertCLocation/specificLocation"</span>,
00223                <a class="code" href="namespaceXMLTool_1_1XPath.html#a2">makeAssigner</a>( m_alertCLocValues.m_specificLocation1 ) },
00224             { <span class="stringliteral">"alertCMethod4SecondaryPointLocation/alertCLocation/specificLocation"</span>,
00225                <a class="code" href="namespaceXMLTool_1_1XPath.html#a2">makeAssigner</a>( m_alertCLocValues.m_specificLocation2 ) }
00226          };
00227 
00228          <a class="code" href="Types_8h.html#a21">uint32</a> descSize = <span class="keyword">sizeof</span>( desc ) / <span class="keyword">sizeof</span>( desc[ 0 ] );
00229          m_alertCLocExp = <span class="keyword">new</span> MultiExpression( MultiExpression::
00230                Description( desc, desc + descSize ) );
00231       };
00232 
<a name="l00233"></a><a class="code" href="classDatexIIStructs_1_1AlertCMethod4Expression.html#a1">00233</a>    ~<a class="code" href="classDatexIIStructs_1_1AlertCMethod4Expression.html">AlertCMethod4Expression</a>() {
00234       <span class="keyword">delete</span> m_alertCLocExp;
00235    }
00236 
<a name="l00237"></a><a class="code" href="classDatexIIStructs_1_1AlertCMethod4Expression.html#a2">00237</a>    <span class="keywordtype">void</span> operator() ( <span class="keyword">const</span> <a class="code" href="classDOMNode.html">DOMNode</a>* node ) {
00238       m_alertCLocExp-&gt;evaluate( node );
00239    }
00240 
00241 <span class="keyword">private</span>:
<a name="l00242"></a><a class="code" href="classDatexIIStructs_1_1AlertCMethod4Expression.html#r0">00242</a>    MultiExpression* m_alertCLocExp;
<a name="l00243"></a><a class="code" href="classDatexIIStructs_1_1AlertCMethod4Expression.html#r1">00243</a>    <a class="code" href="structDatexIIStructs_1_1AlertCLocationValues.html">AlertCLocationValues</a>&amp; m_alertCLocValues;
00244 };
00245 
<a name="l00250"></a><a class="code" href="classDatexIIStructs_1_1SituationRecordExpression.html">00250</a> <span class="keyword">class </span><a class="code" href="classDatexIIStructs_1_1SituationRecordExpression.html">SituationRecordExpression</a> : <span class="keyword">public</span> <a class="code" href="namespaceDatexIIStructs.html#a0">Evaluator</a> {
00251 <span class="keyword">public</span>:
<a name="l00252"></a><a class="code" href="classDatexIIStructs_1_1SituationRecordExpression.html#a0">00252</a>    <span class="keyword">explicit</span> <a class="code" href="classDatexIIStructs_1_1SituationRecordExpression.html">SituationRecordExpression</a>( <a class="code" href="structDatexIIStructs_1_1SituationValues.html">SituationValues</a>&amp; sitVals ) :
00253       m_sitExp( NULL ),
00254       m_sitValues( sitVals ) {
00255          MultiExpression::NodeDescription desc[] = {
00256             { <span class="stringliteral">"@id"</span>, <a class="code" href="namespaceXMLTool_1_1XPath.html#a2">makeAssigner</a>( m_sitValues.m_sitRecID ) },
00257             { <span class="stringliteral">"situationRecordCreationTime"</span>, <a class="code" href="namespaceXMLTool_1_1XPath.html#a2">makeAssigner</a>( m_sitValues.m_sitRecCreationTime ) },
00258             { <span class="stringliteral">"situationRecordVersion"</span>, <a class="code" href="namespaceXMLTool_1_1XPath.html#a2">makeAssigner</a>( m_sitValues.m_sitRecVersion ) },
00259             { <span class="stringliteral">"validity/validityStatus"</span>, <a class="code" href="namespaceXMLTool_1_1XPath.html#a2">makeAssigner</a>( m_sitValues.m_status ) },
00260             { <span class="stringliteral">"validity/validityTimeSpecification/overallStartTime"</span>,
00261                <a class="code" href="namespaceXMLTool_1_1XPath.html#a2">makeAssigner</a>( m_sitValues.m_overallStartTime ) },
00262             { <span class="stringliteral">"validity/validityTimeSpecification/overallEndTime"</span>,
00263                <a class="code" href="namespaceXMLTool_1_1XPath.html#a2">makeAssigner</a>( m_sitValues.m_overallEndTime ) },
00264             <span class="comment">// TODO: Rewrite so it covers all languages</span>
00265             { <span class="stringliteral">"situationRecordExtension/HeaderExtension/header/value/@lang=se"</span>,
00266                <a class="code" href="namespaceXMLTool_1_1XPath.html#a2">makeAssigner</a>( m_sitValues.m_headerExtension ) },
00267             { <span class="stringliteral">"generalPublicComment/comment/value*/@lang=se"</span>,
00268                <a class="code" href="namespaceXMLTool_1_1XPath.html#a2">makeAssigner</a>( m_sitValues.m_commentSE ) },
00269             { <span class="stringliteral">"generalPublicComment/comment/value/@lang=en"</span>,
00270                <a class="code" href="namespaceXMLTool_1_1XPath.html#a2">makeAssigner</a>( m_sitValues.m_commentEN ) },
00271             <span class="comment">// One of the tmc locations will be chosen</span>
00272             { <span class="stringliteral">"groupOfLocations/locationContainedInGroup*/alertCPoint/@xsi:type=AlertCMethod4Point"</span>,
00273                <span class="keyword">new</span> <a class="code" href="classDatexIIStructs_1_1AlertCMethod4Expression.html">AlertCMethod4Expression</a>( m_sitValues.m_location ) },
00274             { <span class="stringliteral">"groupOfLocations/locationContainedInGroup*/alertCPoint/@xsi:type=AlertCMethod2Point"</span>,
00275                <span class="keyword">new</span> <a class="code" href="classDatexIIStructs_1_1AlertCMethod2Expression.html">AlertCMethod2Expression</a>( m_sitValues.m_location ) },
00276             { <span class="stringliteral">"groupOfLocations/locationContainedInGroup*/alertCLinear/@xsi:type=AlertCMethod4Linear"</span>,
00277                <span class="keyword">new</span> <a class="code" href="classDatexIIStructs_1_1AlertCMethod4Expression.html">AlertCMethod4Expression</a>( m_sitValues.m_location ) },
00278             { <span class="stringliteral">"groupOfLocations/locationContainedInGroup*/alertCLinear/@xsi:type=AlertCMethod2Linear"</span>,
00279                <span class="keyword">new</span> <a class="code" href="classDatexIIStructs_1_1AlertCMethod2Expression.html">AlertCMethod2Expression</a>( m_sitValues.m_location ) },
00280             <span class="comment">// In case we dont have a TMC location get the coordinates</span>
00281             { <span class="stringliteral">"groupOfLocations/locationContainedInGroup/pointByCoordinates/pointCoordinates/latitude"</span>,
00282                <a class="code" href="namespaceXMLTool_1_1XPath.html#a2">makeAssigner</a>( m_sitValues.m_coord.lat ) },
00283             { <span class="stringliteral">"groupOfLocations/locationContainedInGroup/pointByCoordinates/pointCoordinates/longitude"</span>,
00284                <a class="code" href="namespaceXMLTool_1_1XPath.html#a2">makeAssigner</a>( m_sitValues.m_coord.lon ) }
00285          };
00286 
00287          <a class="code" href="Types_8h.html#a21">uint32</a> descSize = <span class="keyword">sizeof</span>( desc ) / <span class="keyword">sizeof</span>( desc[ 0 ] );
00288          m_sitExp = <span class="keyword">new</span> MultiExpression( MultiExpression::
00289                Description( desc, desc + descSize ) );
00290       }
00291 
<a name="l00292"></a><a class="code" href="classDatexIIStructs_1_1SituationRecordExpression.html#a1">00292</a>    ~<a class="code" href="classDatexIIStructs_1_1SituationRecordExpression.html">SituationRecordExpression</a>(){
00293       <span class="keyword">delete</span> m_sitExp;
00294    }
00295 
<a name="l00296"></a><a class="code" href="classDatexIIStructs_1_1SituationRecordExpression.html#a2">00296</a>    <span class="keywordtype">void</span> operator() ( <span class="keyword">const</span> <a class="code" href="classDOMNode.html">DOMNode</a>* node ) {
00297       m_sitExp-&gt;evaluate( node );
00298    }
00299 
00300 <span class="keyword">private</span>:
<a name="l00301"></a><a class="code" href="classDatexIIStructs_1_1SituationRecordExpression.html#r0">00301</a>    MultiExpression* m_sitExp;
<a name="l00302"></a><a class="code" href="classDatexIIStructs_1_1SituationRecordExpression.html#r1">00302</a>    <a class="code" href="structDatexIIStructs_1_1SituationValues.html">SituationValues</a>&amp; m_sitValues;
00303 };
00304 
00305 
<a name="l00310"></a><a class="code" href="classDatexIIStructs_1_1AccidentExpression.html">00310</a> <span class="keyword">class </span><a class="code" href="classDatexIIStructs_1_1AccidentExpression.html">AccidentExpression</a> : <span class="keyword">public</span> <a class="code" href="classDatexIIStructs_1_1SituationRecordExpression.html">SituationRecordExpression</a> {
00311 <span class="keyword">public</span>:
<a name="l00312"></a><a class="code" href="classDatexIIStructs_1_1AccidentExpression.html#a0">00312</a>    <span class="keyword">explicit</span> <a class="code" href="classDatexIIStructs_1_1AccidentExpression.html">AccidentExpression</a>( SitValsCont&amp; sre ) :
00313       <a class="code" href="classDatexIIStructs_1_1SituationRecordExpression.html">SituationRecordExpression</a>( m_accValues ),
00314       m_accExp( NULL ),
00315       m_sre( sre ) {
00316          MultiExpression::NodeDescription desc[] = {
00317             <span class="comment">// XXX: doesnt handle multiple accident nodes for now, defined as</span>
00318             <span class="comment">// [1..*] in DATEX II standard</span>
00319             { <span class="stringliteral">"accidentType*"</span>, <a class="code" href="namespaceXMLTool_1_1XPath.html#a2">makeAssigner</a>( m_accValues.m_accidentType ) },
00320          };
00321 
00322          <a class="code" href="Types_8h.html#a21">uint32</a> descSize = <span class="keyword">sizeof</span>( desc ) / <span class="keyword">sizeof</span>( desc[ 0 ] );
00323          m_accExp = <span class="keyword">new</span> MultiExpression( MultiExpression::
00324                Description( desc, desc + descSize ) );
00325       }
00326 
<a name="l00327"></a><a class="code" href="classDatexIIStructs_1_1AccidentExpression.html#a1">00327</a>    ~<a class="code" href="classDatexIIStructs_1_1AccidentExpression.html">AccidentExpression</a>() {
00328       <span class="keyword">delete</span> m_accExp;
00329    }
00330 
<a name="l00331"></a><a class="code" href="classDatexIIStructs_1_1AccidentExpression.html#a2">00331</a>    <span class="keywordtype">void</span> operator() ( <span class="keyword">const</span> <a class="code" href="classDOMNode.html">DOMNode</a>* node ) {
00332       SituationRecordExpression::operator() ( node );
00333       m_accExp-&gt;evaluate( node );
00334       m_accValues.m_type = <span class="stringliteral">"Accident"</span>;
00335       <a class="code" href="structDatexIIStructs_1_1AccidentValues.html">AccidentValues</a>* copy = <span class="keyword">new</span> <a class="code" href="structDatexIIStructs_1_1AccidentValues.html">AccidentValues</a>( m_accValues );
00336       m_sre.push_back( copy );
00337       m_accValues = <a class="code" href="structDatexIIStructs_1_1AccidentValues.html">AccidentValues</a>();
00338    }
00339 
00340 <span class="keyword">private</span>:
<a name="l00341"></a><a class="code" href="classDatexIIStructs_1_1AccidentExpression.html#r0">00341</a>    MultiExpression* m_accExp;
<a name="l00342"></a><a class="code" href="classDatexIIStructs_1_1AccidentExpression.html#r1">00342</a>    <a class="code" href="structDatexIIStructs_1_1AccidentValues.html">AccidentValues</a> m_accValues;
<a name="l00343"></a><a class="code" href="classDatexIIStructs_1_1AccidentExpression.html#r2">00343</a>    <a class="code" href="namespaceDatexIIStructs.html#a1">SitValsCont</a>&amp; m_sre;
00344 };
00345 
<a name="l00350"></a><a class="code" href="classDatexIIStructs_1_1NetworkManagementExpression.html">00350</a> <span class="keyword">class </span><a class="code" href="classDatexIIStructs_1_1NetworkManagementExpression.html">NetworkManagementExpression</a> : <span class="keyword">public</span> <a class="code" href="classDatexIIStructs_1_1SituationRecordExpression.html">SituationRecordExpression</a> {
00351 <span class="keyword">public</span>:
<a name="l00352"></a><a class="code" href="classDatexIIStructs_1_1NetworkManagementExpression.html#a0">00352</a>    <span class="keyword">explicit</span> <a class="code" href="classDatexIIStructs_1_1NetworkManagementExpression.html">NetworkManagementExpression</a>( SitValsCont&amp; sre ) :
00353       <a class="code" href="classDatexIIStructs_1_1SituationRecordExpression.html">SituationRecordExpression</a>( m_networkManValues ),
00354       m_networkManExp( NULL ),
00355       m_sre( sre ) {
00356          MultiExpression::NodeDescription desc[] = {
00357             { <span class="stringliteral">"networkManagementType"</span>, 
00358                <a class="code" href="namespaceXMLTool_1_1XPath.html#a2">makeAssigner</a>( m_networkManValues.m_networkManagementType ) },
00359             { <span class="stringliteral">"trafficControl/temporarySpeedLimit"</span>,
00360                <a class="code" href="namespaceXMLTool_1_1XPath.html#a2">makeAssigner</a>( m_networkManValues.m_temporarySpeedLimit ) },
00361             <span class="comment">// For the height limit</span>
00362             { <span class="stringliteral">"forVehicleWithCharacteristicsOf/heightCharacteristic/comparisonOperator"</span>,
00363                <a class="code" href="namespaceXMLTool_1_1XPath.html#a2">makeAssigner</a>( m_networkManValues.m_heigthComparisonType ) },
00364             { <span class="stringliteral">"forVehicleWithCharacteristicsOf/heightCharacteristic/vehicleHeight"</span>,
00365                <a class="code" href="namespaceXMLTool_1_1XPath.html#a2">makeAssigner</a>( m_networkManValues.m_vehicleHeight ) },
00366             <span class="comment">// For the width limit</span>
00367             { <span class="stringliteral">"forVehicleWithCharacteristicsOf/widthCharacteristic/comparisonOperator"</span>,
00368                <a class="code" href="namespaceXMLTool_1_1XPath.html#a2">makeAssigner</a>( m_networkManValues.m_widthComparisonType ) },
00369             { <span class="stringliteral">"forVehicleWithCharacteristicsOf/widthCharacteristic/vehicleWidth"</span>,
00370                <a class="code" href="namespaceXMLTool_1_1XPath.html#a2">makeAssigner</a>( m_networkManValues.m_vehicleWidth ) },
00371 
00372          };
00373 
00374          <a class="code" href="Types_8h.html#a21">uint32</a> descSize = <span class="keyword">sizeof</span>( desc ) / <span class="keyword">sizeof</span>( desc[ 0 ] );
00375          m_networkManExp = <span class="keyword">new</span> MultiExpression( MultiExpression::
00376                Description( desc, desc + descSize ) );
00377       }
00378 
<a name="l00379"></a><a class="code" href="classDatexIIStructs_1_1NetworkManagementExpression.html#a1">00379</a>    ~<a class="code" href="classDatexIIStructs_1_1NetworkManagementExpression.html">NetworkManagementExpression</a>() {
00380       <span class="keyword">delete</span> m_networkManExp;
00381    }
00382 
<a name="l00383"></a><a class="code" href="classDatexIIStructs_1_1NetworkManagementExpression.html#a2">00383</a>    <span class="keywordtype">void</span> operator() ( <span class="keyword">const</span> <a class="code" href="classDOMNode.html">DOMNode</a>* node ) {
00384       SituationRecordExpression::operator() ( node );
00385       m_networkManExp-&gt;evaluate( node );
00386       m_networkManValues.m_type = <span class="stringliteral">"NetworkManagement"</span>;
00387       <a class="code" href="structDatexIIStructs_1_1NetworkManagementValues.html">NetworkManagementValues</a>* copy = 
00388          <span class="keyword">new</span> <a class="code" href="structDatexIIStructs_1_1NetworkManagementValues.html">NetworkManagementValues</a>( m_networkManValues );
00389       m_sre.push_back( copy );
00390       m_networkManValues = <a class="code" href="structDatexIIStructs_1_1NetworkManagementValues.html">NetworkManagementValues</a>();
00391    }
00392 
00393 <span class="keyword">private</span>:
<a name="l00394"></a><a class="code" href="classDatexIIStructs_1_1NetworkManagementExpression.html#r0">00394</a>    MultiExpression* m_networkManExp;
<a name="l00395"></a><a class="code" href="classDatexIIStructs_1_1NetworkManagementExpression.html#r1">00395</a>    <a class="code" href="structDatexIIStructs_1_1NetworkManagementValues.html">NetworkManagementValues</a> m_networkManValues;
<a name="l00396"></a><a class="code" href="classDatexIIStructs_1_1NetworkManagementExpression.html#r2">00396</a>    <a class="code" href="namespaceDatexIIStructs.html#a1">SitValsCont</a>&amp; m_sre;
00397 };
00398 
<a name="l00403"></a><a class="code" href="classDatexIIStructs_1_1MaintenanceWorksExpression.html">00403</a> <span class="keyword">class </span><a class="code" href="classDatexIIStructs_1_1MaintenanceWorksExpression.html">MaintenanceWorksExpression</a> : <span class="keyword">public</span> <a class="code" href="classDatexIIStructs_1_1SituationRecordExpression.html">SituationRecordExpression</a> {
00404 <span class="keyword">public</span>:
<a name="l00405"></a><a class="code" href="classDatexIIStructs_1_1MaintenanceWorksExpression.html#a0">00405</a>    <span class="keyword">explicit</span> <a class="code" href="classDatexIIStructs_1_1MaintenanceWorksExpression.html">MaintenanceWorksExpression</a>( SitValsCont&amp; sre ) :
00406       <a class="code" href="classDatexIIStructs_1_1SituationRecordExpression.html">SituationRecordExpression</a>( m_maintenanceWorksValues ),
00407       m_maintenanceWorksExp( NULL ),
00408       m_sre( sre ) {
00409          MultiExpression::NodeDescription desc[] = {
00410             <span class="comment">// XXX: dosent handle multiple effectOnRoadLayout and</span>
00411             <span class="comment">// roadMaintenanceType for now, defined as</span>
00412             <span class="comment">// [1..*] in DATEX II standard</span>
00413             { <span class="stringliteral">"effectOnRoadLayout*"</span>, 
00414                <a class="code" href="namespaceXMLTool_1_1XPath.html#a2">makeAssigner</a>( m_maintenanceWorksValues.m_effectOnRoadLayout ) },
00415             { <span class="stringliteral">"roadMaintenanceType*"</span>, 
00416                <a class="code" href="namespaceXMLTool_1_1XPath.html#a2">makeAssigner</a>( m_maintenanceWorksValues.m_roadMaintenanceType ) }
00417          };
00418 
00419          <a class="code" href="Types_8h.html#a21">uint32</a> descSize = <span class="keyword">sizeof</span>( desc ) / <span class="keyword">sizeof</span>( desc[ 0 ] );
00420          m_maintenanceWorksExp = <span class="keyword">new</span> MultiExpression( MultiExpression::
00421                Description( desc, desc + descSize ) );
00422       }
00423 
<a name="l00424"></a><a class="code" href="classDatexIIStructs_1_1MaintenanceWorksExpression.html#a1">00424</a>    ~<a class="code" href="classDatexIIStructs_1_1MaintenanceWorksExpression.html">MaintenanceWorksExpression</a>() {
00425       <span class="keyword">delete</span> m_maintenanceWorksExp;
00426    }
00427 
<a name="l00428"></a><a class="code" href="classDatexIIStructs_1_1MaintenanceWorksExpression.html#a2">00428</a>    <span class="keywordtype">void</span> operator() ( <span class="keyword">const</span> <a class="code" href="classDOMNode.html">DOMNode</a>* node ) {
00429       SituationRecordExpression::operator() ( node );
00430       m_maintenanceWorksExp-&gt;evaluate( node );
00431       m_maintenanceWorksValues.m_type = <span class="stringliteral">"MaintenanceWorks"</span>;
00432       <a class="code" href="structDatexIIStructs_1_1MaintenanceWorksValues.html">MaintenanceWorksValues</a>* copy = 
00433          <span class="keyword">new</span> <a class="code" href="structDatexIIStructs_1_1MaintenanceWorksValues.html">MaintenanceWorksValues</a>( m_maintenanceWorksValues );
00434       m_sre.push_back( copy );
00435       m_maintenanceWorksValues = <a class="code" href="structDatexIIStructs_1_1MaintenanceWorksValues.html">MaintenanceWorksValues</a>();
00436    }
00437 
00438 <span class="keyword">private</span>:
<a name="l00439"></a><a class="code" href="classDatexIIStructs_1_1MaintenanceWorksExpression.html#r0">00439</a>    MultiExpression* m_maintenanceWorksExp;
<a name="l00440"></a><a class="code" href="classDatexIIStructs_1_1MaintenanceWorksExpression.html#r1">00440</a>    <a class="code" href="structDatexIIStructs_1_1MaintenanceWorksValues.html">MaintenanceWorksValues</a> m_maintenanceWorksValues;
<a name="l00441"></a><a class="code" href="classDatexIIStructs_1_1MaintenanceWorksExpression.html#r2">00441</a>    <a class="code" href="namespaceDatexIIStructs.html#a1">SitValsCont</a>&amp; m_sre;
00442 };
00443 
<a name="l00448"></a><a class="code" href="classDatexIIStructs_1_1ConstructionWorksExpression.html">00448</a> <span class="keyword">class </span><a class="code" href="classDatexIIStructs_1_1ConstructionWorksExpression.html">ConstructionWorksExpression</a> : <span class="keyword">public</span> <a class="code" href="classDatexIIStructs_1_1SituationRecordExpression.html">SituationRecordExpression</a> {
00449 <span class="keyword">public</span>:
<a name="l00450"></a><a class="code" href="classDatexIIStructs_1_1ConstructionWorksExpression.html#a0">00450</a>    <span class="keyword">explicit</span> <a class="code" href="classDatexIIStructs_1_1ConstructionWorksExpression.html">ConstructionWorksExpression</a>( SitValsCont&amp; sre ) :
00451       <a class="code" href="classDatexIIStructs_1_1SituationRecordExpression.html">SituationRecordExpression</a>( m_conWorksValues ),
00452       m_conWorksExp( NULL ),
00453       m_sre( sre ) {
00454          MultiExpression::NodeDescription desc[] = {
00455             <span class="comment">// XXX: dosent handle multiple effectOnRoadLayout for now, defined </span>
00456             <span class="comment">// as [1..*] in DATEX II standard</span>
00457             { <span class="stringliteral">"effectOnRoadLayout*"</span>, 
00458                <a class="code" href="namespaceXMLTool_1_1XPath.html#a2">makeAssigner</a>( m_conWorksValues.m_effectOnRoadLayout ) },
00459             { <span class="stringliteral">"constructionWorkType"</span>,
00460                <a class="code" href="namespaceXMLTool_1_1XPath.html#a2">makeAssigner</a>( m_conWorksValues.m_constructionWorkType ) }
00461          };
00462 
00463          <a class="code" href="Types_8h.html#a21">uint32</a> descSize = <span class="keyword">sizeof</span>( desc ) / <span class="keyword">sizeof</span>( desc[ 0 ] );
00464          m_conWorksExp = <span class="keyword">new</span> MultiExpression( MultiExpression::
00465                Description( desc, desc + descSize ) );
00466       }
00467 
<a name="l00468"></a><a class="code" href="classDatexIIStructs_1_1ConstructionWorksExpression.html#a1">00468</a>    ~<a class="code" href="classDatexIIStructs_1_1ConstructionWorksExpression.html">ConstructionWorksExpression</a>() {
00469       <span class="keyword">delete</span> m_conWorksExp;
00470    }
00471 
<a name="l00472"></a><a class="code" href="classDatexIIStructs_1_1ConstructionWorksExpression.html#a2">00472</a>    <span class="keywordtype">void</span> operator() ( <span class="keyword">const</span> <a class="code" href="classDOMNode.html">DOMNode</a>* node ) {
00473       SituationRecordExpression::operator() ( node );
00474       m_conWorksExp-&gt;evaluate( node );
00475       m_conWorksValues.m_type = <span class="stringliteral">"ConstructionWorks"</span>;
00476       <a class="code" href="structDatexIIStructs_1_1ConstructionWorksValues.html">ConstructionWorksValues</a>* copy = 
00477          <span class="keyword">new</span> <a class="code" href="structDatexIIStructs_1_1ConstructionWorksValues.html">ConstructionWorksValues</a>( m_conWorksValues );
00478       m_sre.push_back( copy );
00479       m_conWorksValues = <a class="code" href="structDatexIIStructs_1_1ConstructionWorksValues.html">ConstructionWorksValues</a>();
00480    }
00481 
00482 <span class="keyword">private</span>:
<a name="l00483"></a><a class="code" href="classDatexIIStructs_1_1ConstructionWorksExpression.html#r0">00483</a>    MultiExpression* m_conWorksExp;
<a name="l00484"></a><a class="code" href="classDatexIIStructs_1_1ConstructionWorksExpression.html#r1">00484</a>    <a class="code" href="structDatexIIStructs_1_1ConstructionWorksValues.html">ConstructionWorksValues</a> m_conWorksValues;
<a name="l00485"></a><a class="code" href="classDatexIIStructs_1_1ConstructionWorksExpression.html#r2">00485</a>    <a class="code" href="namespaceDatexIIStructs.html#a1">SitValsCont</a>&amp; m_sre;
00486 };
00487 
<a name="l00492"></a><a class="code" href="classDatexIIStructs_1_1AbnormalTrafficExpression.html">00492</a> <span class="keyword">class </span><a class="code" href="classDatexIIStructs_1_1AbnormalTrafficExpression.html">AbnormalTrafficExpression</a> : <span class="keyword">public</span> <a class="code" href="classDatexIIStructs_1_1SituationRecordExpression.html">SituationRecordExpression</a> {
00493 <span class="keyword">public</span>:
<a name="l00494"></a><a class="code" href="classDatexIIStructs_1_1AbnormalTrafficExpression.html#a0">00494</a>    <span class="keyword">explicit</span> <a class="code" href="classDatexIIStructs_1_1AbnormalTrafficExpression.html">AbnormalTrafficExpression</a>( SitValsCont&amp; sre ) :
00495       <a class="code" href="classDatexIIStructs_1_1SituationRecordExpression.html">SituationRecordExpression</a>( m_abnormalTrafficValues ),
00496       m_abnormalTrafficExp( NULL ),
00497       m_sre( sre ) {
00498          MultiExpression::NodeDescription desc[] = {
00499             { <span class="stringliteral">"abnormalTrafficType"</span>, 
00500                <a class="code" href="namespaceXMLTool_1_1XPath.html#a2">makeAssigner</a>( m_abnormalTrafficValues.m_abnormalTrafficType ) },
00501             { <span class="stringliteral">"trafficTrendType"</span>,
00502                <a class="code" href="namespaceXMLTool_1_1XPath.html#a2">makeAssigner</a>( m_abnormalTrafficValues.m_trafficTrend ) }
00503          };
00504 
00505          <a class="code" href="Types_8h.html#a21">uint32</a> descSize = <span class="keyword">sizeof</span>( desc ) / <span class="keyword">sizeof</span>( desc[ 0 ] );
00506          m_abnormalTrafficExp = <span class="keyword">new</span> MultiExpression( MultiExpression::
00507                Description( desc, desc + descSize ) );
00508       }
00509 
<a name="l00510"></a><a class="code" href="classDatexIIStructs_1_1AbnormalTrafficExpression.html#a1">00510</a>    ~<a class="code" href="classDatexIIStructs_1_1AbnormalTrafficExpression.html">AbnormalTrafficExpression</a>() {
00511       <span class="keyword">delete</span> m_abnormalTrafficExp;
00512    }
00513 
<a name="l00514"></a><a class="code" href="classDatexIIStructs_1_1AbnormalTrafficExpression.html#a2">00514</a>    <span class="keywordtype">void</span> operator() ( <span class="keyword">const</span> <a class="code" href="classDOMNode.html">DOMNode</a>* node ) {
00515       SituationRecordExpression::operator() ( node );
00516       m_abnormalTrafficExp-&gt;evaluate( node );
00517       m_abnormalTrafficValues.m_type = <span class="stringliteral">"AbnormalTraffic"</span>;
00518       <a class="code" href="structDatexIIStructs_1_1AbnormalTrafficValues.html">AbnormalTrafficValues</a>* copy = 
00519          <span class="keyword">new</span> <a class="code" href="structDatexIIStructs_1_1AbnormalTrafficValues.html">AbnormalTrafficValues</a>( m_abnormalTrafficValues );
00520       m_sre.push_back( copy );
00521       m_abnormalTrafficValues = <a class="code" href="structDatexIIStructs_1_1AbnormalTrafficValues.html">AbnormalTrafficValues</a>();
00522    }
00523 
00524 <span class="keyword">private</span>:
<a name="l00525"></a><a class="code" href="classDatexIIStructs_1_1AbnormalTrafficExpression.html#r0">00525</a>    MultiExpression* m_abnormalTrafficExp;
<a name="l00526"></a><a class="code" href="classDatexIIStructs_1_1AbnormalTrafficExpression.html#r1">00526</a>    <a class="code" href="structDatexIIStructs_1_1AbnormalTrafficValues.html">AbnormalTrafficValues</a> m_abnormalTrafficValues;
<a name="l00527"></a><a class="code" href="classDatexIIStructs_1_1AbnormalTrafficExpression.html#r2">00527</a>    <a class="code" href="namespaceDatexIIStructs.html#a1">SitValsCont</a>&amp; m_sre;
00528 };
00529 
<a name="l00534"></a><a class="code" href="classDatexIIStructs_1_1ActivitiesExpression.html">00534</a> <span class="keyword">class </span><a class="code" href="classDatexIIStructs_1_1ActivitiesExpression.html">ActivitiesExpression</a> : <span class="keyword">public</span> <a class="code" href="classDatexIIStructs_1_1SituationRecordExpression.html">SituationRecordExpression</a> {
00535 <span class="keyword">public</span>:
<a name="l00536"></a><a class="code" href="classDatexIIStructs_1_1ActivitiesExpression.html#a0">00536</a>    <span class="keyword">explicit</span> <a class="code" href="classDatexIIStructs_1_1ActivitiesExpression.html">ActivitiesExpression</a>( SitValsCont&amp; sre ) :
00537       <a class="code" href="classDatexIIStructs_1_1SituationRecordExpression.html">SituationRecordExpression</a>( m_activitiesValues ),
00538       m_activitiesExp( NULL ),
00539       m_sre( sre ) {
00540          MultiExpression::NodeDescription desc[] = {
00541             { <span class="stringliteral">"disturbanceActivityType"</span>, 
00542                <a class="code" href="namespaceXMLTool_1_1XPath.html#a2">makeAssigner</a>( m_activitiesValues.m_disturbanceActivityType ) },
00543             { <span class="stringliteral">"publicEventType"</span>,
00544                <a class="code" href="namespaceXMLTool_1_1XPath.html#a2">makeAssigner</a>( m_activitiesValues.m_publicEventType ) }
00545          };
00546 
00547          <a class="code" href="Types_8h.html#a21">uint32</a> descSize = <span class="keyword">sizeof</span>( desc ) / <span class="keyword">sizeof</span>( desc[ 0 ] );
00548          m_activitiesExp = <span class="keyword">new</span> MultiExpression( MultiExpression::
00549                Description( desc, desc + descSize ) );
00550       }
00551 
<a name="l00552"></a><a class="code" href="classDatexIIStructs_1_1ActivitiesExpression.html#a1">00552</a>    ~<a class="code" href="classDatexIIStructs_1_1ActivitiesExpression.html">ActivitiesExpression</a>() {
00553       <span class="keyword">delete</span> m_activitiesExp;
00554    }
00555    
<a name="l00556"></a><a class="code" href="classDatexIIStructs_1_1ActivitiesExpression.html#a2">00556</a>    <span class="keywordtype">void</span> operator() ( <span class="keyword">const</span> <a class="code" href="classDOMNode.html">DOMNode</a>* node ) {
00557       SituationRecordExpression::operator() ( node );
00558       m_activitiesExp-&gt;evaluate( node );
00559       m_activitiesValues.m_type = <span class="stringliteral">"Activities"</span>;
00560       <a class="code" href="structDatexIIStructs_1_1ActivitiesValues.html">ActivitiesValues</a>* copy = <span class="keyword">new</span> <a class="code" href="structDatexIIStructs_1_1ActivitiesValues.html">ActivitiesValues</a>( m_activitiesValues );
00561       m_sre.push_back( copy );
00562       m_activitiesValues = <a class="code" href="structDatexIIStructs_1_1ActivitiesValues.html">ActivitiesValues</a>();
00563    }
00564 
00565 <span class="keyword">private</span>:
<a name="l00566"></a><a class="code" href="classDatexIIStructs_1_1ActivitiesExpression.html#r0">00566</a>    MultiExpression* m_activitiesExp;
<a name="l00567"></a><a class="code" href="classDatexIIStructs_1_1ActivitiesExpression.html#r1">00567</a>    <a class="code" href="structDatexIIStructs_1_1ActivitiesValues.html">ActivitiesValues</a> m_activitiesValues;
<a name="l00568"></a><a class="code" href="classDatexIIStructs_1_1ActivitiesExpression.html#r2">00568</a>    <a class="code" href="namespaceDatexIIStructs.html#a1">SitValsCont</a>&amp; m_sre;
00569 };
00570 
<a name="l00576"></a><a class="code" href="classDatexIIStructs_1_1AnimalPresenceObstructionExpression.html">00576</a> <span class="keyword">class </span><a class="code" href="classDatexIIStructs_1_1AnimalPresenceObstructionExpression.html">AnimalPresenceObstructionExpression</a> : <span class="keyword">public</span> <a class="code" href="classDatexIIStructs_1_1SituationRecordExpression.html">SituationRecordExpression</a> {
00577 <span class="keyword">public</span>:
<a name="l00578"></a><a class="code" href="classDatexIIStructs_1_1AnimalPresenceObstructionExpression.html#a0">00578</a>    <span class="keyword">explicit</span> <a class="code" href="classDatexIIStructs_1_1AnimalPresenceObstructionExpression.html">AnimalPresenceObstructionExpression</a>( SitValsCont&amp; sre ) :
00579       <a class="code" href="classDatexIIStructs_1_1SituationRecordExpression.html">SituationRecordExpression</a>( m_animalPresenceObstrValues ),
00580       m_animalPresenceObstrExp( NULL ),
00581       m_sre( sre ) {
00582          MultiExpression::NodeDescription desc[] = {
00583             { <span class="stringliteral">"animalPresenceType"</span>, 
00584               <a class="code" href="namespaceXMLTool_1_1XPath.html#a2">makeAssigner</a>( m_animalPresenceObstrValues.m_animalPresenceType ) }
00585          };
00586 
00587          <a class="code" href="Types_8h.html#a21">uint32</a> descSize = <span class="keyword">sizeof</span>( desc ) / <span class="keyword">sizeof</span>( desc[ 0 ] );
00588          m_animalPresenceObstrExp = <span class="keyword">new</span> MultiExpression( MultiExpression::
00589                Description( desc, desc + descSize ) );
00590       }
00591 
<a name="l00592"></a><a class="code" href="classDatexIIStructs_1_1AnimalPresenceObstructionExpression.html#a1">00592</a>    ~<a class="code" href="classDatexIIStructs_1_1AnimalPresenceObstructionExpression.html">AnimalPresenceObstructionExpression</a>() {
00593       <span class="keyword">delete</span> m_animalPresenceObstrExp;
00594    }
00595 
<a name="l00596"></a><a class="code" href="classDatexIIStructs_1_1AnimalPresenceObstructionExpression.html#a2">00596</a>    <span class="keywordtype">void</span> operator() ( <span class="keyword">const</span> <a class="code" href="classDOMNode.html">DOMNode</a>* node ) {
00597       SituationRecordExpression::operator() ( node );
00598       m_animalPresenceObstrExp-&gt;evaluate( node );
00599       m_animalPresenceObstrValues.m_type = <span class="stringliteral">"AnimalPresenceObstruction"</span>;
00600       <a class="code" href="structDatexIIStructs_1_1AnimalPresenceObstructionValues.html">AnimalPresenceObstructionValues</a>* copy = 
00601          <span class="keyword">new</span> <a class="code" href="structDatexIIStructs_1_1AnimalPresenceObstructionValues.html">AnimalPresenceObstructionValues</a>( m_animalPresenceObstrValues );
00602       m_sre.push_back( copy );
00603       m_animalPresenceObstrValues = <a class="code" href="structDatexIIStructs_1_1AnimalPresenceObstructionValues.html">AnimalPresenceObstructionValues</a>();
00604    }
00605 
00606 <span class="keyword">private</span>:
<a name="l00607"></a><a class="code" href="classDatexIIStructs_1_1AnimalPresenceObstructionExpression.html#r0">00607</a>    MultiExpression* m_animalPresenceObstrExp;
<a name="l00608"></a><a class="code" href="classDatexIIStructs_1_1AnimalPresenceObstructionExpression.html#r1">00608</a>    <a class="code" href="structDatexIIStructs_1_1AnimalPresenceObstructionValues.html">AnimalPresenceObstructionValues</a> m_animalPresenceObstrValues;
<a name="l00609"></a><a class="code" href="classDatexIIStructs_1_1AnimalPresenceObstructionExpression.html#r2">00609</a>    <a class="code" href="namespaceDatexIIStructs.html#a1">SitValsCont</a>&amp; m_sre;
00610 };
00611 
<a name="l00616"></a><a class="code" href="classDatexIIStructs_1_1GeneralObstructionExpression.html">00616</a> <span class="keyword">class </span><a class="code" href="classDatexIIStructs_1_1GeneralObstructionExpression.html">GeneralObstructionExpression</a> : <span class="keyword">public</span> <a class="code" href="classDatexIIStructs_1_1SituationRecordExpression.html">SituationRecordExpression</a> {
00617 <span class="keyword">public</span>:
<a name="l00618"></a><a class="code" href="classDatexIIStructs_1_1GeneralObstructionExpression.html#a0">00618</a>    <span class="keyword">explicit</span> <a class="code" href="classDatexIIStructs_1_1GeneralObstructionExpression.html">GeneralObstructionExpression</a>( SitValsCont&amp; sre ) :
00619       <a class="code" href="classDatexIIStructs_1_1SituationRecordExpression.html">SituationRecordExpression</a>( m_generalObstrValues ),
00620       m_generalObstrExp( NULL ),
00621       m_sre( sre ) {
00622          MultiExpression::NodeDescription desc[] = {
00623             { <span class="stringliteral">"obstructionType"</span>, 
00624                <a class="code" href="namespaceXMLTool_1_1XPath.html#a2">makeAssigner</a>( m_generalObstrValues.m_obstructionType ) }
00625          };
00626 
00627          <a class="code" href="Types_8h.html#a21">uint32</a> descSize = <span class="keyword">sizeof</span>( desc ) / <span class="keyword">sizeof</span>( desc[ 0 ] );
00628          m_generalObstrExp = <span class="keyword">new</span> MultiExpression( MultiExpression::
00629                Description( desc, desc + descSize ) );
00630       }
00631 
<a name="l00632"></a><a class="code" href="classDatexIIStructs_1_1GeneralObstructionExpression.html#a1">00632</a>    ~<a class="code" href="classDatexIIStructs_1_1GeneralObstructionExpression.html">GeneralObstructionExpression</a>() {
00633       <span class="keyword">delete</span> m_generalObstrExp;
00634    }
00635 
<a name="l00636"></a><a class="code" href="classDatexIIStructs_1_1GeneralObstructionExpression.html#a2">00636</a>    <span class="keywordtype">void</span> operator() ( <span class="keyword">const</span> <a class="code" href="classDOMNode.html">DOMNode</a>* node ) {
00637       SituationRecordExpression::operator() ( node );
00638       m_generalObstrExp-&gt;evaluate( node );
00639       m_generalObstrValues.m_type = <span class="stringliteral">"GeneralObstruction"</span>;
00640       <a class="code" href="structDatexIIStructs_1_1GeneralObstructionValues.html">GeneralObstructionValues</a>* copy = 
00641          <span class="keyword">new</span> <a class="code" href="structDatexIIStructs_1_1GeneralObstructionValues.html">GeneralObstructionValues</a>( m_generalObstrValues );
00642       m_sre.push_back( copy );
00643       m_generalObstrValues = <a class="code" href="structDatexIIStructs_1_1GeneralObstructionValues.html">GeneralObstructionValues</a>();
00644    }
00645 
00646 <span class="keyword">private</span>:
<a name="l00647"></a><a class="code" href="classDatexIIStructs_1_1GeneralObstructionExpression.html#r0">00647</a>    MultiExpression* m_generalObstrExp;
<a name="l00648"></a><a class="code" href="classDatexIIStructs_1_1GeneralObstructionExpression.html#r1">00648</a>    <a class="code" href="structDatexIIStructs_1_1GeneralObstructionValues.html">GeneralObstructionValues</a> m_generalObstrValues;
<a name="l00649"></a><a class="code" href="classDatexIIStructs_1_1GeneralObstructionExpression.html#r2">00649</a>    <a class="code" href="namespaceDatexIIStructs.html#a1">SitValsCont</a>&amp; m_sre;
00650 };
00651 
<a name="l00657"></a><a class="code" href="classDatexIIStructs_1_1NonWeatherRelatedRoadConditionsExpression.html">00657</a> <span class="keyword">class </span><a class="code" href="classDatexIIStructs_1_1NonWeatherRelatedRoadConditionsExpression.html">NonWeatherRelatedRoadConditionsExpression</a> : 
00658    <span class="keyword">public</span> <a class="code" href="classDatexIIStructs_1_1SituationRecordExpression.html">SituationRecordExpression</a> {
00659 <span class="keyword">public</span>:
<a name="l00660"></a><a class="code" href="classDatexIIStructs_1_1NonWeatherRelatedRoadConditionsExpression.html#a0">00660</a>    <span class="keyword">explicit</span> <a class="code" href="classDatexIIStructs_1_1NonWeatherRelatedRoadConditionsExpression.html">NonWeatherRelatedRoadConditionsExpression</a>( SitValsCont&amp; sre ) :
00661       <a class="code" href="classDatexIIStructs_1_1SituationRecordExpression.html">SituationRecordExpression</a>( m_nonWeatherRRCValues ),
00662       m_nonWeatherRelRoadConExp( NULL ),
00663       m_sre( sre ) {
00664          MultiExpression::NodeDescription desc[] = {
00665             { <span class="stringliteral">"nonWeatherRelatedRoadConditionType"</span>,
00666                <a class="code" href="namespaceXMLTool_1_1XPath.html#a2">makeAssigner</a>( 
00667                      m_nonWeatherRRCValues.m_nonWeatherRelatedConditionType ) }
00668          };
00669 
00670          <a class="code" href="Types_8h.html#a21">uint32</a> descSize = <span class="keyword">sizeof</span>( desc ) / <span class="keyword">sizeof</span>( desc[ 0 ] );
00671          m_nonWeatherRelRoadConExp = <span class="keyword">new</span> MultiExpression( MultiExpression::
00672                Description( desc, desc + descSize ) );
00673       }
00674 
<a name="l00675"></a><a class="code" href="classDatexIIStructs_1_1NonWeatherRelatedRoadConditionsExpression.html#a1">00675</a>    ~<a class="code" href="classDatexIIStructs_1_1NonWeatherRelatedRoadConditionsExpression.html">NonWeatherRelatedRoadConditionsExpression</a>() {
00676       <span class="keyword">delete</span> m_nonWeatherRelRoadConExp;
00677    }
00678 
<a name="l00679"></a><a class="code" href="classDatexIIStructs_1_1NonWeatherRelatedRoadConditionsExpression.html#a2">00679</a>    <span class="keywordtype">void</span> operator() ( <span class="keyword">const</span> <a class="code" href="classDOMNode.html">DOMNode</a>* node ) {
00680       SituationRecordExpression::operator() ( node );
00681       m_nonWeatherRelRoadConExp-&gt;evaluate( node );
00682       m_nonWeatherRRCValues.m_type = <span class="stringliteral">"NonWeatherRelatedRoadConditions"</span>;
00683       <a class="code" href="structDatexIIStructs_1_1NonWeatherRelatedRoadConditionsValues.html">NonWeatherRelatedRoadConditionsValues</a>* copy =
00684          <span class="keyword">new</span> <a class="code" href="structDatexIIStructs_1_1NonWeatherRelatedRoadConditionsValues.html">NonWeatherRelatedRoadConditionsValues</a>( m_nonWeatherRRCValues );
00685       m_sre.push_back( copy );
00686       m_nonWeatherRRCValues = <a class="code" href="structDatexIIStructs_1_1NonWeatherRelatedRoadConditionsValues.html">NonWeatherRelatedRoadConditionsValues</a>();
00687    }
00688 
00689 <span class="keyword">private</span>:
<a name="l00690"></a><a class="code" href="classDatexIIStructs_1_1NonWeatherRelatedRoadConditionsExpression.html#r0">00690</a>    MultiExpression* m_nonWeatherRelRoadConExp;
<a name="l00691"></a><a class="code" href="classDatexIIStructs_1_1NonWeatherRelatedRoadConditionsExpression.html#r1">00691</a>    <a class="code" href="structDatexIIStructs_1_1NonWeatherRelatedRoadConditionsValues.html">NonWeatherRelatedRoadConditionsValues</a> m_nonWeatherRRCValues;
<a name="l00692"></a><a class="code" href="classDatexIIStructs_1_1NonWeatherRelatedRoadConditionsExpression.html#r2">00692</a>    <a class="code" href="namespaceDatexIIStructs.html#a1">SitValsCont</a>&amp; m_sre;
00693 };
00694 
<a name="l00699"></a><a class="code" href="classDatexIIStructs_1_1VehicleObstructionExpression.html">00699</a> <span class="keyword">class </span><a class="code" href="classDatexIIStructs_1_1VehicleObstructionExpression.html">VehicleObstructionExpression</a> : <span class="keyword">public</span> <a class="code" href="classDatexIIStructs_1_1SituationRecordExpression.html">SituationRecordExpression</a> {
00700 <span class="keyword">public</span>:
<a name="l00701"></a><a class="code" href="classDatexIIStructs_1_1VehicleObstructionExpression.html#a0">00701</a>    <span class="keyword">explicit</span> <a class="code" href="classDatexIIStructs_1_1VehicleObstructionExpression.html">VehicleObstructionExpression</a>( SitValsCont&amp; sre ) :
00702       <a class="code" href="classDatexIIStructs_1_1SituationRecordExpression.html">SituationRecordExpression</a>( m_vehicleObstrValues ),
00703       m_vehicleObstrExp( NULL ),
00704       m_sre( sre ) {
00705          MultiExpression::NodeDescription desc[] = {
00706             { <span class="stringliteral">"vehicleObstructionType"</span>, 
00707                <a class="code" href="namespaceXMLTool_1_1XPath.html#a2">makeAssigner</a>( m_vehicleObstrValues.m_vehicleObstructionType ) }
00708          };
00709 
00710          <a class="code" href="Types_8h.html#a21">uint32</a> descSize = <span class="keyword">sizeof</span>( desc ) / <span class="keyword">sizeof</span>( desc[ 0 ] );
00711          m_vehicleObstrExp = <span class="keyword">new</span> MultiExpression( MultiExpression::
00712                Description( desc, desc + descSize ) );
00713       }
00714 
<a name="l00715"></a><a class="code" href="classDatexIIStructs_1_1VehicleObstructionExpression.html#a1">00715</a>    ~<a class="code" href="classDatexIIStructs_1_1VehicleObstructionExpression.html">VehicleObstructionExpression</a>() {
00716       <span class="keyword">delete</span> m_vehicleObstrExp;
00717    }
00718 
<a name="l00719"></a><a class="code" href="classDatexIIStructs_1_1VehicleObstructionExpression.html#a2">00719</a>    <span class="keywordtype">void</span> operator() ( <span class="keyword">const</span> <a class="code" href="classDOMNode.html">DOMNode</a>* node ) {
00720       SituationRecordExpression::operator() ( node );
00721       m_vehicleObstrExp-&gt;evaluate( node );
00722       m_vehicleObstrValues.m_type = <span class="stringliteral">"VehicleObstruction"</span>;
00723       <a class="code" href="structDatexIIStructs_1_1VehicleObstructionValues.html">VehicleObstructionValues</a>* copy = 
00724          <span class="keyword">new</span> <a class="code" href="structDatexIIStructs_1_1VehicleObstructionValues.html">VehicleObstructionValues</a>( m_vehicleObstrValues );
00725       m_sre.push_back( copy );
00726       m_vehicleObstrValues = <a class="code" href="structDatexIIStructs_1_1VehicleObstructionValues.html">VehicleObstructionValues</a>();
00727    }
00728 
00729 <span class="keyword">private</span>:
<a name="l00730"></a><a class="code" href="classDatexIIStructs_1_1VehicleObstructionExpression.html#r0">00730</a>    MultiExpression* m_vehicleObstrExp;
<a name="l00731"></a><a class="code" href="classDatexIIStructs_1_1VehicleObstructionExpression.html#r1">00731</a>    <a class="code" href="structDatexIIStructs_1_1VehicleObstructionValues.html">VehicleObstructionValues</a> m_vehicleObstrValues;
<a name="l00732"></a><a class="code" href="classDatexIIStructs_1_1VehicleObstructionExpression.html#r2">00732</a>    <a class="code" href="namespaceDatexIIStructs.html#a1">SitValsCont</a>&amp; m_sre;
00733 };
00734 
<a name="l00736"></a><a class="code" href="classDatexIIStructs_1_1SituationExpression.html">00736</a> <span class="keyword">class </span><a class="code" href="classDatexIIStructs_1_1SituationExpression.html">SituationExpression</a> : <span class="keyword">public</span> <a class="code" href="namespaceDatexIIStructs.html#a0">Evaluator</a> {
00737 <span class="keyword">public</span>:
<a name="l00738"></a><a class="code" href="classDatexIIStructs_1_1SituationExpression.html#a0">00738</a>    <span class="keyword">explicit</span> <a class="code" href="classDatexIIStructs_1_1SituationExpression.html">SituationExpression</a>( <a class="code" href="classvector.html">vector&lt;TrafficSituation*&gt;</a>&amp; trafficSituations,
00739                                  <span class="keyword">const</span> <a class="code" href="classMC2String.html">MC2String</a>&amp; provider ):
00740       m_situationExp( NULL ),
00741       m_trafficSituations( trafficSituations ),
00742       m_provider( provider ),
00743       m_sitID(),
00744       m_sre() {
00745          <span class="comment">/*</span>
00746 <span class="comment">            Conditions</span>
00747 <span class="comment">            EnvironmentalObstruction</span>
00748 <span class="comment">            PoorRoadInfrastructure</span>
00749 <span class="comment">            */</span>
00750          MultiExpression::NodeDescription desc[] = {
00751             { <span class="stringliteral">"/@id"</span>, <a class="code" href="namespaceXMLTool_1_1XPath.html#a2">makeAssigner</a>( m_sitID ) },
00752             { <span class="stringliteral">"situationRecord*/@xsi:type=Accident"</span>, 
00753                <span class="keyword">new</span> <a class="code" href="classDatexIIStructs_1_1AccidentExpression.html">AccidentExpression</a>( m_sre ) },
00754             { <span class="stringliteral">"situationRecord/@xsi:type=NetworkManagement"</span>, 
00755                <span class="keyword">new</span> <a class="code" href="classDatexIIStructs_1_1NetworkManagementExpression.html">NetworkManagementExpression</a>( m_sre ) },
00756             { <span class="stringliteral">"situationRecord/@xsi:type=MaintenanceWorks"</span>,
00757                <span class="keyword">new</span> <a class="code" href="classDatexIIStructs_1_1MaintenanceWorksExpression.html">MaintenanceWorksExpression</a>( m_sre ) },
00758             { <span class="stringliteral">"situationRecord/@xsi:type=ConstructionWorks"</span>, 
00759                <span class="keyword">new</span> <a class="code" href="classDatexIIStructs_1_1ConstructionWorksExpression.html">ConstructionWorksExpression</a>( m_sre ) },
00760             { <span class="stringliteral">"situationRecord/@xsi:type=AbnormalTraffic"</span>, 
00761                <span class="keyword">new</span> <a class="code" href="classDatexIIStructs_1_1AbnormalTrafficExpression.html">AbnormalTrafficExpression</a>( m_sre ) },
00762             { <span class="stringliteral">"situationRecord/@xsi:type=Activities"</span>,
00763                <span class="keyword">new</span> <a class="code" href="classDatexIIStructs_1_1ActivitiesExpression.html">ActivitiesExpression</a>( m_sre ) },
00764             { <span class="stringliteral">"situationRecord/@xsi:type=AnimalPresenceObstruction"</span>,
00765                <span class="keyword">new</span> <a class="code" href="classDatexIIStructs_1_1AnimalPresenceObstructionExpression.html">AnimalPresenceObstructionExpression</a>( m_sre ) },
00766             { <span class="stringliteral">"situationRecord/@xsi:type=GeneralObstruction"</span>,
00767                <span class="keyword">new</span> <a class="code" href="classDatexIIStructs_1_1GeneralObstructionExpression.html">GeneralObstructionExpression</a>( m_sre ) },
00768             { <span class="stringliteral">"situationRecord/@xsi:type=NonWeatherRelatedRoadConditions"</span>,
00769                <span class="keyword">new</span> <a class="code" href="classDatexIIStructs_1_1NonWeatherRelatedRoadConditionsExpression.html">NonWeatherRelatedRoadConditionsExpression</a>( m_sre ) },
00770             { <span class="stringliteral">"situationRecord/@xsi:type=VehicleObstruction"</span>,
00771                <span class="keyword">new</span> <a class="code" href="classDatexIIStructs_1_1VehicleObstructionExpression.html">VehicleObstructionExpression</a>( m_sre ) }
00772          };
00773          <a class="code" href="Types_8h.html#a21">uint32</a> descSize = <span class="keyword">sizeof</span>( desc ) / <span class="keyword">sizeof</span>( desc[ 0 ] );
00774          m_situationExp = <span class="keyword">new</span> MultiExpression( MultiExpression::
00775                Description( desc, desc + descSize ) );
00776       }
00777 
<a name="l00778"></a><a class="code" href="classDatexIIStructs_1_1SituationExpression.html#a1">00778</a>    ~<a class="code" href="classDatexIIStructs_1_1SituationExpression.html">SituationExpression</a>() {
00779       <span class="keyword">delete</span> m_situationExp;
00780    }
00781 
<a name="l00782"></a><a class="code" href="classDatexIIStructs_1_1SituationExpression.html#a2">00782</a>    <span class="keywordtype">void</span> operator() ( <span class="keyword">const</span> <a class="code" href="classDOMNode.html">DOMNode</a>* node ) {
00783       m_situationExp-&gt;evaluate( node );
00784       <span class="comment">// creates a situation by going through the situationRecords in it</span>
00785       auto_ptr&lt; TrafficSituation &gt; trafficSit = 
00786          <a class="code" href="namespaceDatexIIStructs.html#a2">createTrafficSit</a>( m_provider, m_sre, m_sitID );
00787       <span class="keywordflow">if</span> ( trafficSit.get() ) {
00788          <span class="comment">//trafficSit-&gt;setSituationReference( m_sitID );</span>
00789          m_trafficSituations.push_back( trafficSit.release() );
00790       } <span class="keywordflow">else</span> {
00791          <a class="code" href="MC2Logging_8h.html#a5">mc2dbg4</a> &lt;&lt; <a class="code" href="MC2Logging_8h.html#a14">info</a> &lt;&lt; <span class="stringliteral">"Situation: ["</span> &lt;&lt; m_sitID &lt;&lt; <span class="stringliteral">"] has no situation "</span> 
00792                 &lt;&lt; <span class="stringliteral">"records. Not creating a disturbance."</span> &lt;&lt; endl;
00793       }
00794       <a class="code" href="namespaceSTLUtility.html#a3">STLUtility::deleteValues</a>( m_sre );
00795    }
00796 
00797 <span class="keyword">private</span>:
<a name="l00798"></a><a class="code" href="classDatexIIStructs_1_1SituationExpression.html#r0">00798</a>    MultiExpression* m_situationExp;
<a name="l00799"></a><a class="code" href="classDatexIIStructs_1_1SituationExpression.html#r1">00799</a>    <a class="code" href="classvector.html">vector&lt; TrafficSituation* &gt;</a>&amp; m_trafficSituations;
<a name="l00800"></a><a class="code" href="classDatexIIStructs_1_1SituationExpression.html#r2">00800</a>    <a class="code" href="classMC2String.html">MC2String</a> m_provider;
<a name="l00801"></a><a class="code" href="classDatexIIStructs_1_1SituationExpression.html#r3">00801</a>    <a class="code" href="classMC2String.html">MC2String</a> m_sitID;
<a name="l00802"></a><a class="code" href="classDatexIIStructs_1_1SituationExpression.html#r4">00802</a>    <a class="code" href="namespaceDatexIIStructs.html#a1">SitValsCont</a> m_sre;
00803 };
00804 
00805 } <span class="comment">// DatexIIStructs</span>
00806 
00807 <span class="preprocessor">#endif // DATEXIISTRUCTS_H</span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Wed Jun 30 10:11:46 2010 for mc2 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.3.9.1 </small></address>
</body>
</html>
